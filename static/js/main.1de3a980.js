/*! For license information please see main.1de3a980.js.LICENSE.txt */
(()=>{"use strict";var e={49:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,x={};function b(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||p}function g(){}function v(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||p}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=b.prototype;var y=v.prototype=new g;y.constructor=v,h(y,b.prototype),y.isPureReactComponent=!0;var j=Array.isArray,N=Object.prototype.hasOwnProperty,w={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var a,s={},l=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(l=""+t.key),t)N.call(t,a)&&!k.hasOwnProperty(a)&&(s[a]=t[a]);var o=arguments.length-2;if(1===o)s.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(a in o=e.defaultProps)void 0===s[a]&&(s[a]=o[a]);return{$$typeof:n,type:e,key:l,ref:i,props:s,_owner:w.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,a,s,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case n:case r:o=!0}}if(o)return l=l(o=e),e=""===s?"."+E(o,0):s,j(l)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),P(l,t,a,"",function(e){return e})):null!=l&&(_(l)&&(l=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,a+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(C,"$&/")+"/")+e)),t.push(l)),1;if(o=0,s=""===s?".":s+":",j(e))for(var c=0;c<e.length;c++){var d=s+E(i=e[c],c);o+=P(i,t,a,d,l)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)o+=P(i=i.value,t,a,d=s+E(i,c++),l);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function T(e,t,n){if(null==e)return e;var r=[],a=0;return P(e,r,"","",function(e){return t.call(n,e,a++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},A={transition:null},L={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:A,ReactCurrentOwner:w};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=b,t.Fragment=a,t.Profiler=l,t.PureComponent=v,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=h({},e.props),s=e.key,l=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,i=w.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)N.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];a.children=o}return{$$typeof:n,type:e.type,key:s,ref:l,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},119:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(345)},340:(e,t,n)=>{e.exports=n(761)},345:(e,t,n)=>{var r=n(950),a=n(340);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,i={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)l.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function h(e,t,n,r,a,s,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new h(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new h(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new h(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new h(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new h(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new h(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new h(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new h(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new h(e,5,!1,e.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function v(e,t,n,r){var a=x.hasOwnProperty(t)?x[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!u.call(p,e)||!u.call(f,e)&&(m.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(b,g);x[t]=new h(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(b,g);x[t]=new h(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(b,g);x[t]=new h(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new h(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new h(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),N=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var z,D=Object.assign;function I(e){if(void 0===z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var F=!1;function $(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=r.stack.split("\n"),l=a.length-1,i=s.length-1;1<=l&&0<=i&&a[l]!==s[i];)i--;for(;1<=l&&0<=i;l--,i--)if(a[l]!==s[i]){if(1!==l||1!==i)do{if(l--,0>--i||a[l]!==s[i]){var o="\n"+a[l].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=l&&0<=i);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?I(e):""}function U(e){switch(e.tag){case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return e=$(e.type,!1);case 11:return e=$(e.type.render,!1);case 1:return e=$(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case N:return"Portal";case S:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function Y(e,t){X(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function se(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function he(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=he(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var be=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(be[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,we=null,ke=null;function Se(e){if(e=va(e)){if("function"!==typeof Ne)throw Error(s(280));var t=e.stateNode;t&&(t=ja(t),Ne(e.stateNode,e.type,t))}}function _e(e){we?ke?ke.push(e):ke=[e]:we=e}function Ce(){if(we){var e=we,t=ke;if(ke=we=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ee(e,t){return e(t)}function Pe(){}var Te=!1;function Re(e,t,n){if(Te)return e(t,n);Te=!0;try{return Ee(e,t,n)}finally{Te=!1,(null!==we||null!==ke)&&(Pe(),Ce())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=ja(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ae=!1;if(d)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(de){Ae=!1}function Me(e,t,n,r,a,s,l,i,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var ze=!1,De=null,Ie=!1,Fe=null,$e={onError:function(e){ze=!0,De=e}};function Ue(e,t,n,r,a,s,l,i,o){ze=!1,De=null,Me.apply($e,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(qe(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var l=a.alternate;if(null===l){if(null!==(r=a.return)){n=r;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return Ve(a),e;if(l===r)return Ve(a),t;l=l.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=l;else{for(var i=!1,o=a.child;o;){if(o===n){i=!0,n=a,r=l;break}if(o===r){i=!0,r=a,n=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===n){i=!0,n=l,r=a;break}if(o===r){i=!0,r=l,n=a;break}o=o.sibling}if(!i)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Qe=a.unstable_scheduleCallback,Ge=a.unstable_cancelCallback,Je=a.unstable_shouldYield,Ke=a.unstable_requestPaint,Xe=a.unstable_now,Ye=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,st=null;var lt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/ot|0)|0},it=Math.log,ot=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,l=268435455&n;if(0!==l){var i=l&~a;0!==i?r=ut(i):0!==(s&=l)&&(r=ut(s))}else 0!==(l=n&~a)?r=ut(l):0!==s&&(r=ut(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-lt(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function xt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-lt(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var vt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,Nt,wt,kt,St,_t=!1,Ct=[],Et=null,Pt=null,Tt=null,Rt=new Map,Ot=new Map,At=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function zt(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=va(t))&&Nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Dt(e){var t=ga(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void St(e.priority,function(){wt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function It(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=va(n))&&Nt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ye=r,n.target.dispatchEvent(r),ye=null,t.shift()}return!0}function Ft(e,t,n){It(e)&&n.delete(t)}function $t(){_t=!1,null!==Et&&It(Et)&&(Et=null),null!==Pt&&It(Pt)&&(Pt=null),null!==Tt&&It(Tt)&&(Tt=null),Rt.forEach(Ft),Ot.forEach(Ft)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,$t)))}function qt(e){function t(t){return Ut(t,e)}if(0<Ct.length){Ut(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Ut(Et,e),null!==Pt&&Ut(Pt,e),null!==Tt&&Ut(Tt,e),Rt.forEach(t),Ot.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Dt(n),null===n.blockedOn&&At.shift()}var Bt=y.ReactCurrentBatchConfig,Vt=!0;function Wt(e,t,n,r){var a=vt,s=Bt.transition;Bt.transition=null;try{vt=1,Qt(e,t,n,r)}finally{vt=a,Bt.transition=s}}function Ht(e,t,n,r){var a=vt,s=Bt.transition;Bt.transition=null;try{vt=4,Qt(e,t,n,r)}finally{vt=a,Bt.transition=s}}function Qt(e,t,n,r){if(Vt){var a=Jt(e,t,n,r);if(null===a)Vr(e,t,r,Gt,n),Mt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Et=zt(Et,e,t,n,r,a),!0;case"dragenter":return Pt=zt(Pt,e,t,n,r,a),!0;case"mouseover":return Tt=zt(Tt,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Rt.set(s,zt(Rt.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Ot.set(s,zt(Ot.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==a;){var s=va(a);if(null!==s&&jt(s),null===(s=Jt(e,t,n,r))&&Vr(e,t,r,Gt,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Gt=null;function Jt(e,t,n,r){if(Gt=null,null!==(e=ga(e=je(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Yt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Yt,r=n.length,a="value"in Xt?Xt.value:Xt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var l=r-e;for(t=1;t<=l&&n[r-t]===a[s-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,s){for(var l in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(a):a[l]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,ln,on,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(cn),un=D({},cn,{view:0,detail:0}),mn=an(un),fn=D({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(sn=e.screenX-on.screenX,ln=e.screenY-on.screenY):ln=sn=0,on=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),pn=an(fn),hn=an(D({},fn,{dataTransfer:0})),xn=an(D({},un,{relatedTarget:0})),bn=an(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=D({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=an(gn),yn=an(D({},cn,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Sn(){return kn}var _n=D({},un,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(_n),En=an(D({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=an(D({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Tn=an(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=D({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Rn),An=[9,13,27,32],Ln=d&&"CompositionEvent"in window,Mn=null;d&&"documentMode"in document&&(Mn=document.documentMode);var zn=d&&"TextEvent"in window&&!Mn,Dn=d&&(!Ln||Mn&&8<Mn&&11>=Mn),In=String.fromCharCode(32),Fn=!1;function $n(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Wn(e,t,n,r){_e(r),0<(t=Hr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Qn=null;function Gn(e){Ir(e,0)}function Jn(e){if(Q(ya(e)))return e}function Kn(e,t){if("change"===e)return t}var Xn=!1;if(d){var Yn;if(d){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Yn=Zn}else Yn=!1;Xn=Yn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Qn=Hn=null)}function nr(e){if("value"===e.propertyName&&Jn(Qn)){var t=[];Wn(t,Qn,e,je(e)),Re(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Qn)}function sr(e,t){if("click"===e)return Jn(t)}function lr(e,t){if("input"===e||"change"===e)return Jn(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!u.call(t,a)||!ir(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=mr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=dr(n,s);var l=dr(n,r);a&&l&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hr=d&&"documentMode"in document&&11>=document.documentMode,xr=null,br=null,gr=null,vr=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==xr||xr!==G(r)||("selectionStart"in(r=xr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&or(gr,r)||(gr=r,0<(r=Hr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xr)))}function jr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nr={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionend:jr("Transition","TransitionEnd")},wr={},kr={};function Sr(e){if(wr[e])return wr[e];if(!Nr[e])return e;var t,n=Nr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return wr[e]=n[t];return e}d&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);var _r=Sr("animationend"),Cr=Sr("animationiteration"),Er=Sr("animationstart"),Pr=Sr("transitionend"),Tr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Tr.set(e,t),o(t,[e])}for(var Ar=0;Ar<Rr.length;Ar++){var Lr=Rr[Ar];Or(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Or(_r,"onAnimationEnd"),Or(Cr,"onAnimationIteration"),Or(Er,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,l,i,o,c){if(Ue.apply(this,arguments),ze){if(!ze)throw Error(s(198));var d=De;ze=!1,De=null,Ie||(Ie=!0,Fe=d)}}(r,t,void 0,e),e.currentTarget=null}function Ir(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var l=r.length-1;0<=l;l--){var i=r[l],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==s&&a.isPropagationStopped())break e;Dr(a,i,c),s=o}else for(l=0;l<r.length;l++){if(o=(i=r[l]).instance,c=i.currentTarget,i=i.listener,o!==s&&a.isPropagationStopped())break e;Dr(a,i,c),s=o}}}if(Ie)throw e=Fe,Ie=!1,Fe=null,e}function Fr(e,t){var n=t[ha];void 0===n&&(n=t[ha]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function $r(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Ur]){e[Ur]=!0,l.forEach(function(t){"selectionchange"!==t&&(zr.has(t)||$r(t,!1,e),$r(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,$r("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Kt(t)){case 1:var a=Wt;break;case 4:a=Ht;break;default:a=Qt}n=a.bind(null,t,n,e),a=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var l=r.tag;if(3===l||4===l){var i=r.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===l)for(l=r.return;null!==l;){var o=l.tag;if((3===o||4===o)&&((o=l.stateNode.containerInfo)===a||8===o.nodeType&&o.parentNode===a))return;l=l.return}for(;null!==i;){if(null===(l=ga(i)))return;if(5===(o=l.tag)||6===o){r=s=l;continue e}i=i.parentNode}}r=r.return}Re(function(){var r=s,a=je(n),l=[];e:{var i=Tr.get(e);if(void 0!==i){var o=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":o=Cn;break;case"focusin":c="focus",o=xn;break;case"focusout":c="blur",o=xn;break;case"beforeblur":case"afterblur":o=xn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Pn;break;case _r:case Cr:case Er:o=bn;break;case Pr:o=Tn;break;case"scroll":o=mn;break;case"wheel":o=On;break;case"copy":case"cut":case"paste":o=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=En}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==i?i+"Capture":null:i;d=[];for(var f,p=r;null!==p;){var h=(f=p).stateNode;if(5===f.tag&&null!==h&&(f=h,null!==m&&(null!=(h=Oe(p,m))&&d.push(Wr(p,h,f)))),u)break;p=p.return}0<d.length&&(i=new o(i,c,null,n,a),l.push({event:i,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===ye||!(c=n.relatedTarget||n.fromElement)||!ga(c)&&!c[pa])&&(o||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=r,null!==(c=(c=n.relatedTarget||n.toElement)?ga(c):null)&&(c!==(u=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=r),o!==c)){if(d=pn,h="onMouseLeave",m="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=En,h="onPointerLeave",m="onPointerEnter",p="pointer"),u=null==o?i:ya(o),f=null==c?i:ya(c),(i=new d(h,p+"leave",o,n,a)).target=u,i.relatedTarget=f,h=null,ga(a)===r&&((d=new d(m,p+"enter",c,n,a)).target=f,d.relatedTarget=u,h=d),u=h,o&&c)e:{for(m=c,p=0,f=d=o;f;f=Qr(f))p++;for(f=0,h=m;h;h=Qr(h))f++;for(;0<p-f;)d=Qr(d),p--;for(;0<f-p;)m=Qr(m),f--;for(;p--;){if(d===m||null!==m&&d===m.alternate)break e;d=Qr(d),m=Qr(m)}d=null}else d=null;null!==o&&Gr(l,i,o,d,!1),null!==c&&null!==u&&Gr(l,u,c,d,!0)}if("select"===(o=(i=r?ya(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===o&&"file"===i.type)var x=Kn;else if(Vn(i))if(Xn)x=lr;else{x=ar;var b=rr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(x=sr);switch(x&&(x=x(e,r))?Wn(l,x,n,a):(b&&b(e,i,r),"focusout"===e&&(b=i._wrapperState)&&b.controlled&&"number"===i.type&&ee(i,"number",i.value)),b=r?ya(r):window,e){case"focusin":(Vn(b)||"true"===b.contentEditable)&&(xr=b,br=r,gr=null);break;case"focusout":gr=br=xr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,yr(l,n,a);break;case"selectionchange":if(hr)break;case"keydown":case"keyup":yr(l,n,a)}var g;if(Ln)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else qn?$n(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Dn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==v?"onCompositionEnd"===v&&qn&&(g=en()):(Yt="value"in(Xt=a)?Xt.value:Xt.textContent,qn=!0)),0<(b=Hr(r,v)).length&&(v=new yn(v,e,null,n,a),l.push({event:v,listeners:b}),g?v.data=g:null!==(g=Un(n))&&(v.data=g))),(g=zn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Fn=!0,In);case"textInput":return(e=t.data)===In&&Fn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Ln&&$n(e,t)?(e=en(),Zt=Yt=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(a=new yn("onBeforeInput","beforeinput",null,n,a),l.push({event:a,listeners:r}),a.data=g))}Ir(l,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Oe(e,n))&&r.unshift(Wr(e,s,a)),null!=(s=Oe(e,t))&&r.push(Wr(e,s,a))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,a){for(var s=t._reactName,l=[];null!==n&&n!==r;){var i=n,o=i.alternate,c=i.stateNode;if(null!==o&&o===r)break;5===i.tag&&null!==c&&(i=c,a?null!=(o=Oe(n,s))&&l.unshift(Wr(n,o,i)):a||null!=(o=Oe(n,s))&&l.push(Wr(n,o,i))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var Jr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Kr,"")}function Yr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,la="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(ia)}:ra;function ia(e){setTimeout(function(){throw e})}function oa(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);qt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function da(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ua=Math.random().toString(36).slice(2),ma="__reactFiber$"+ua,fa="__reactProps$"+ua,pa="__reactContainer$"+ua,ha="__reactEvents$"+ua,xa="__reactListeners$"+ua,ba="__reactHandles$"+ua;function ga(e){var t=e[ma];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[ma]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=da(e);null!==e;){if(n=e[ma])return n;e=da(e)}return t}n=(e=n).parentNode}return null}function va(e){return!(e=e[ma]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ya(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ja(e){return e[fa]||null}var Na=[],wa=-1;function ka(e){return{current:e}}function Sa(e){0>wa||(e.current=Na[wa],Na[wa]=null,wa--)}function _a(e,t){wa++,Na[wa]=e.current,e.current=t}var Ca={},Ea=ka(Ca),Pa=ka(!1),Ta=Ca;function Ra(e,t){var n=e.type.contextTypes;if(!n)return Ca;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Oa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Aa(){Sa(Pa),Sa(Ea)}function La(e,t,n){if(Ea.current!==Ca)throw Error(s(168));_a(Ea,t),_a(Pa,n)}function Ma(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,B(e)||"Unknown",a));return D({},n,r)}function za(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ca,Ta=Ea.current,_a(Ea,e),_a(Pa,Pa.current),!0}function Da(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ma(e,t,Ta),r.__reactInternalMemoizedMergedChildContext=e,Sa(Pa),Sa(Ea),_a(Ea,e)):Sa(Pa),_a(Pa,n)}var Ia=null,Fa=!1,$a=!1;function Ua(e){null===Ia?Ia=[e]:Ia.push(e)}function qa(){if(!$a&&null!==Ia){$a=!0;var e=0,t=vt;try{var n=Ia;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ia=null,Fa=!1}catch(a){throw null!==Ia&&(Ia=Ia.slice(e+1)),Qe(Ze,qa),a}finally{vt=t,$a=!1}}return null}var Ba=[],Va=0,Wa=null,Ha=0,Qa=[],Ga=0,Ja=null,Ka=1,Xa="";function Ya(e,t){Ba[Va++]=Ha,Ba[Va++]=Wa,Wa=e,Ha=t}function Za(e,t,n){Qa[Ga++]=Ka,Qa[Ga++]=Xa,Qa[Ga++]=Ja,Ja=e;var r=Ka;e=Xa;var a=32-lt(r)-1;r&=~(1<<a),n+=1;var s=32-lt(t)+a;if(30<s){var l=a-a%5;s=(r&(1<<l)-1).toString(32),r>>=l,a-=l,Ka=1<<32-lt(t)+a|n<<a|r,Xa=s+e}else Ka=1<<s|n<<a|r,Xa=e}function es(e){null!==e.return&&(Ya(e,1),Za(e,1,0))}function ts(e){for(;e===Wa;)Wa=Ba[--Va],Ba[Va]=null,Ha=Ba[--Va],Ba[Va]=null;for(;e===Ja;)Ja=Qa[--Ga],Qa[Ga]=null,Xa=Qa[--Ga],Qa[Ga]=null,Ka=Qa[--Ga],Qa[Ga]=null}var ns=null,rs=null,as=!1,ss=null;function ls(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function is(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ja?{id:Ka,overflow:Xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function os(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=rs;if(t){var n=t;if(!is(e,t)){if(os(e))throw Error(s(418));t=ca(n.nextSibling);var r=ns;t&&is(e,t)?ls(r,n):(e.flags=-4097&e.flags|2,as=!1,ns=e)}}else{if(os(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,ns=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function us(e){if(e!==ns)return!1;if(!as)return ds(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=rs)){if(os(e))throw ms(),Error(s(418));for(;t;)ls(e,t),t=ca(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ca(e.stateNode.nextSibling):null;return!0}function ms(){for(var e=rs;e;)e=ca(e.nextSibling)}function fs(){rs=ns=null,as=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var hs=y.ReactCurrentBatchConfig;function xs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,l=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=a.refs;null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function bs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gs(e){return(0,e._init)(e._payload)}function vs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function l(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,r){return null===t||6!==t.tag?((t=Dc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===w?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===O&&gs(s)===t.type)?((r=a(t,n.props)).ref=xs(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=xs(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ic(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,s){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=xs(e,null,t),n.return=e,n;case N:return(t=Ic(t,e.mode,n)).return=e,t;case O:return m(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;bs(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:o(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return n.key===a?c(e,t,n,r):null;case N:return n.key===a?d(e,t,n,r):null;case O:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||M(n))return null!==a?null:u(e,t,n,r,null);bs(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return o(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case N:return d(t,e=e.get(null===r.key?n:r.key)||null,r,a);case O:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||M(r))return u(t,e=e.get(n)||null,r,a,null);bs(t,r)}return null}function h(a,s,i,o){for(var c=null,d=null,u=s,h=s=0,x=null;null!==u&&h<i.length;h++){u.index>h?(x=u,u=null):x=u.sibling;var b=f(a,u,i[h],o);if(null===b){null===u&&(u=x);break}e&&u&&null===b.alternate&&t(a,u),s=l(b,s,h),null===d?c=b:d.sibling=b,d=b,u=x}if(h===i.length)return n(a,u),as&&Ya(a,h),c;if(null===u){for(;h<i.length;h++)null!==(u=m(a,i[h],o))&&(s=l(u,s,h),null===d?c=u:d.sibling=u,d=u);return as&&Ya(a,h),c}for(u=r(a,u);h<i.length;h++)null!==(x=p(u,a,h,i[h],o))&&(e&&null!==x.alternate&&u.delete(null===x.key?h:x.key),s=l(x,s,h),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return t(a,e)}),as&&Ya(a,h),c}function x(a,i,o,c){var d=M(o);if("function"!==typeof d)throw Error(s(150));if(null==(o=d.call(o)))throw Error(s(151));for(var u=d=null,h=i,x=i=0,b=null,g=o.next();null!==h&&!g.done;x++,g=o.next()){h.index>x?(b=h,h=null):b=h.sibling;var v=f(a,h,g.value,c);if(null===v){null===h&&(h=b);break}e&&h&&null===v.alternate&&t(a,h),i=l(v,i,x),null===u?d=v:u.sibling=v,u=v,h=b}if(g.done)return n(a,h),as&&Ya(a,x),d;if(null===h){for(;!g.done;x++,g=o.next())null!==(g=m(a,g.value,c))&&(i=l(g,i,x),null===u?d=g:u.sibling=g,u=g);return as&&Ya(a,x),d}for(h=r(a,h);!g.done;x++,g=o.next())null!==(g=p(h,a,x,g.value,c))&&(e&&null!==g.alternate&&h.delete(null===g.key?x:g.key),i=l(g,i,x),null===u?d=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(a,e)}),as&&Ya(a,x),d}return function e(r,s,l,o){if("object"===typeof l&&null!==l&&l.type===w&&null===l.key&&(l=l.props.children),"object"===typeof l&&null!==l){switch(l.$$typeof){case j:e:{for(var c=l.key,d=s;null!==d;){if(d.key===c){if((c=l.type)===w){if(7===d.tag){n(r,d.sibling),(s=a(d,l.props.children)).return=r,r=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&gs(c)===d.type){n(r,d.sibling),(s=a(d,l.props)).ref=xs(r,d,l),s.return=r,r=s;break e}n(r,d);break}t(r,d),d=d.sibling}l.type===w?((s=Mc(l.props.children,r.mode,o,l.key)).return=r,r=s):((o=Lc(l.type,l.key,l.props,null,r.mode,o)).ref=xs(r,s,l),o.return=r,r=o)}return i(r);case N:e:{for(d=l.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===l.containerInfo&&s.stateNode.implementation===l.implementation){n(r,s.sibling),(s=a(s,l.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Ic(l,r.mode,o)).return=r,r=s}return i(r);case O:return e(r,s,(d=l._init)(l._payload),o)}if(te(l))return h(r,s,l,o);if(M(l))return x(r,s,l,o);bs(r,l)}return"string"===typeof l&&""!==l||"number"===typeof l?(l=""+l,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,l)).return=r,r=s):(n(r,s),(s=Dc(l,r.mode,o)).return=r,r=s),i(r)):n(r,s)}}var ys=vs(!0),js=vs(!1),Ns=ka(null),ws=null,ks=null,Ss=null;function _s(){Ss=ks=ws=null}function Cs(e){var t=Ns.current;Sa(Ns),e._currentValue=t}function Es(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ps(e,t){ws=e,Ss=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(gi=!0),e.firstContext=null)}function Ts(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===ws)throw Error(s(308));ks=e,ws.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Rs=null;function Os(e){null===Rs?Rs=[e]:Rs.push(e)}function As(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Os(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ls(e,r)}function Ls(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ms=!1;function zs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ds(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Is(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Eo)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ls(e,n)}return null===(a=r.interleaved)?(t.next=t,Os(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ls(e,n)}function $s(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Us(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=l:s=s.next=l,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qs(e,t,n,r){var a=e.updateQueue;Ms=!1;var s=a.firstBaseUpdate,l=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var o=i,c=o.next;o.next=null,null===l?s=c:l.next=c,l=o;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=o))}if(null!==s){var u=a.baseState;for(l=0,d=c=o=null,i=s;;){var m=i.lane,f=i.eventTime;if((r&m)===m){null!==d&&(d=d.next={eventTime:f,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var p=e,h=i;switch(m=t,f=n,h.tag){case 1:if("function"===typeof(p=h.payload)){u=p.call(f,u,m);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(m="function"===typeof(p=h.payload)?p.call(f,u,m):p)||void 0===m)break e;u=D({},u,m);break e;case 2:Ms=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(m=a.effects)?a.effects=[i]:m.push(i))}else f={eventTime:f,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=f,o=u):d=d.next=f,l|=m;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(m=i).next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}if(null===d&&(o=u),a.baseState=o,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{l|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);zo|=l,e.lanes=l,e.memoizedState=u}}function Bs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var Vs={},Ws=ka(Vs),Hs=ka(Vs),Qs=ka(Vs);function Gs(e){if(e===Vs)throw Error(s(174));return e}function Js(e,t){switch(_a(Qs,t),_a(Hs,e),_a(Ws,Vs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sa(Ws),_a(Ws,t)}function Ks(){Sa(Ws),Sa(Hs),Sa(Qs)}function Xs(e){Gs(Qs.current);var t=Gs(Ws.current),n=oe(t,e.type);t!==n&&(_a(Hs,e),_a(Ws,n))}function Ys(e){Hs.current===e&&(Sa(Ws),Sa(Hs))}var Zs=ka(0);function el(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tl=[];function nl(){for(var e=0;e<tl.length;e++)tl[e]._workInProgressVersionPrimary=null;tl.length=0}var rl=y.ReactCurrentDispatcher,al=y.ReactCurrentBatchConfig,sl=0,ll=null,il=null,ol=null,cl=!1,dl=!1,ul=0,ml=0;function fl(){throw Error(s(321))}function pl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function hl(e,t,n,r,a,l){if(sl=l,ll=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rl.current=null===e||null===e.memoizedState?Yl:Zl,e=n(r,a),dl){l=0;do{if(dl=!1,ul=0,25<=l)throw Error(s(301));l+=1,ol=il=null,t.updateQueue=null,rl.current=ei,e=n(r,a)}while(dl)}if(rl.current=Xl,t=null!==il&&null!==il.next,sl=0,ol=il=ll=null,cl=!1,t)throw Error(s(300));return e}function xl(){var e=0!==ul;return ul=0,e}function bl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ol?ll.memoizedState=ol=e:ol=ol.next=e,ol}function gl(){if(null===il){var e=ll.alternate;e=null!==e?e.memoizedState:null}else e=il.next;var t=null===ol?ll.memoizedState:ol.next;if(null!==t)ol=t,il=e;else{if(null===e)throw Error(s(310));e={memoizedState:(il=e).memoizedState,baseState:il.baseState,baseQueue:il.baseQueue,queue:il.queue,next:null},null===ol?ll.memoizedState=ol=e:ol=ol.next=e}return ol}function vl(e,t){return"function"===typeof t?t(e):t}function yl(e){var t=gl(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=il,a=r.baseQueue,l=n.pending;if(null!==l){if(null!==a){var i=a.next;a.next=l.next,l.next=i}r.baseQueue=a=l,n.pending=null}if(null!==a){l=a.next,r=r.baseState;var o=i=null,c=null,d=l;do{var u=d.lane;if((sl&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=m,i=r):c=c.next=m,ll.lanes|=u,zo|=u}d=d.next}while(null!==d&&d!==l);null===c?i=r:c.next=o,ir(r,t.memoizedState)||(gi=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{l=a.lane,ll.lanes|=l,zo|=l,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jl(e){var t=gl(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,l=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{l=e(l,i.action),i=i.next}while(i!==a);ir(l,t.memoizedState)||(gi=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Nl(){}function wl(e,t){var n=ll,r=gl(),a=t(),l=!ir(r.memoizedState,a);if(l&&(r.memoizedState=a,gi=!0),r=r.queue,Ml(_l.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||null!==ol&&1&ol.memoizedState.tag){if(n.flags|=2048,Tl(9,Sl.bind(null,n,r,a,t),void 0,null),null===Po)throw Error(s(349));0!==(30&sl)||kl(n,t,a)}return a}function kl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ll.updateQueue)?(t={lastEffect:null,stores:null},ll.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Sl(e,t,n,r){t.value=n,t.getSnapshot=r,Cl(t)&&El(e)}function _l(e,t,n){return n(function(){Cl(t)&&El(e)})}function Cl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(r){return!0}}function El(e){var t=Ls(e,1);null!==t&&nc(t,e,1,-1)}function Pl(e){var t=bl();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:e},t.queue=e,e=e.dispatch=Ql.bind(null,ll,e),[t.memoizedState,e]}function Tl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ll.updateQueue)?(t={lastEffect:null,stores:null},ll.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Rl(){return gl().memoizedState}function Ol(e,t,n,r){var a=bl();ll.flags|=e,a.memoizedState=Tl(1|t,n,void 0,void 0===r?null:r)}function Al(e,t,n,r){var a=gl();r=void 0===r?null:r;var s=void 0;if(null!==il){var l=il.memoizedState;if(s=l.destroy,null!==r&&pl(r,l.deps))return void(a.memoizedState=Tl(t,n,s,r))}ll.flags|=e,a.memoizedState=Tl(1|t,n,s,r)}function Ll(e,t){return Ol(8390656,8,e,t)}function Ml(e,t){return Al(2048,8,e,t)}function zl(e,t){return Al(4,2,e,t)}function Dl(e,t){return Al(4,4,e,t)}function Il(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fl(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Al(4,4,Il.bind(null,t,e),n)}function $l(){}function Ul(e,t){var n=gl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ql(e,t){var n=gl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Bl(e,t,n){return 0===(21&sl)?(e.baseState&&(e.baseState=!1,gi=!0),e.memoizedState=n):(ir(n,t)||(n=ht(),ll.lanes|=n,zo|=n,e.baseState=!0),t)}function Vl(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=al.transition;al.transition={};try{e(!1),t()}finally{vt=n,al.transition=r}}function Wl(){return gl().memoizedState}function Hl(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gl(e))Jl(t,n);else if(null!==(n=As(e,t,n,r))){nc(n,e,r,ec()),Kl(n,t,r)}}function Ql(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gl(e))Jl(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=s(l,n);if(a.hasEagerState=!0,a.eagerState=i,ir(i,l)){var o=t.interleaved;return null===o?(a.next=a,Os(t)):(a.next=o.next,o.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=As(e,t,a,r))&&(nc(n,e,r,a=ec()),Kl(n,t,r))}}function Gl(e){var t=e.alternate;return e===ll||null!==t&&t===ll}function Jl(e,t){dl=cl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Kl(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var Xl={readContext:Ts,useCallback:fl,useContext:fl,useEffect:fl,useImperativeHandle:fl,useInsertionEffect:fl,useLayoutEffect:fl,useMemo:fl,useReducer:fl,useRef:fl,useState:fl,useDebugValue:fl,useDeferredValue:fl,useTransition:fl,useMutableSource:fl,useSyncExternalStore:fl,useId:fl,unstable_isNewReconciler:!1},Yl={readContext:Ts,useCallback:function(e,t){return bl().memoizedState=[e,void 0===t?null:t],e},useContext:Ts,useEffect:Ll,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ol(4194308,4,Il.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ol(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ol(4,2,e,t)},useMemo:function(e,t){var n=bl();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bl();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Hl.bind(null,ll,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bl().memoizedState=e},useState:Pl,useDebugValue:$l,useDeferredValue:function(e){return bl().memoizedState=e},useTransition:function(){var e=Pl(!1),t=e[0];return e=Vl.bind(null,e[1]),bl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ll,a=bl();if(as){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Po)throw Error(s(349));0!==(30&sl)||kl(r,t,n)}a.memoizedState=n;var l={value:n,getSnapshot:t};return a.queue=l,Ll(_l.bind(null,r,l,e),[e]),r.flags|=2048,Tl(9,Sl.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=bl(),t=Po.identifierPrefix;if(as){var n=Xa;t=":"+t+"R"+(n=(Ka&~(1<<32-lt(Ka)-1)).toString(32)+n),0<(n=ul++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ml++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zl={readContext:Ts,useCallback:Ul,useContext:Ts,useEffect:Ml,useImperativeHandle:Fl,useInsertionEffect:zl,useLayoutEffect:Dl,useMemo:ql,useReducer:yl,useRef:Rl,useState:function(){return yl(vl)},useDebugValue:$l,useDeferredValue:function(e){return Bl(gl(),il.memoizedState,e)},useTransition:function(){return[yl(vl)[0],gl().memoizedState]},useMutableSource:Nl,useSyncExternalStore:wl,useId:Wl,unstable_isNewReconciler:!1},ei={readContext:Ts,useCallback:Ul,useContext:Ts,useEffect:Ml,useImperativeHandle:Fl,useInsertionEffect:zl,useLayoutEffect:Dl,useMemo:ql,useReducer:jl,useRef:Rl,useState:function(){return jl(vl)},useDebugValue:$l,useDeferredValue:function(e){var t=gl();return null===il?t.memoizedState=e:Bl(t,il.memoizedState,e)},useTransition:function(){return[jl(vl)[0],gl().memoizedState]},useMutableSource:Nl,useSyncExternalStore:wl,useId:Wl,unstable_isNewReconciler:!1};function ti(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ni(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ri={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=Is(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,a))&&(nc(t,e,a,r),$s(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=Is(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,a))&&(nc(t,e,a,r),$s(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=Is(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Fs(e,a,r))&&(nc(t,e,r,n),$s(t,e,r))}};function ai(e,t,n,r,a,s,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,l):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(a,s))}function si(e,t,n){var r=!1,a=Ca,s=t.contextType;return"object"===typeof s&&null!==s?s=Ts(s):(a=Oa(t)?Ta:Ea.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ra(e,a):Ca),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ri,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function li(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ri.enqueueReplaceState(t,t.state,null)}function ii(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},zs(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Ts(s):(s=Oa(t)?Ta:Ea.current,a.context=Ra(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ni(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ri.enqueueReplaceState(a,a.state,null),qs(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function oi(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function ci(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function di(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ui="function"===typeof WeakMap?WeakMap:Map;function mi(e,t,n){(n=Is(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vo||(Vo=!0,Wo=r),di(0,t)},n}function fi(e,t,n){(n=Is(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){di(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){di(0,t),"function"!==typeof r&&(null===Ho?Ho=new Set([this]):Ho.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ui;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function hi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xi(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Is(-1,1)).tag=2,Fs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bi=y.ReactCurrentOwner,gi=!1;function vi(e,t,n,r){t.child=null===e?js(t,null,n,r):ys(t,e.child,n,r)}function yi(e,t,n,r,a){n=n.render;var s=t.ref;return Ps(t,a),r=hl(e,t,n,r,s,a),n=xl(),null===e||gi?(as&&n&&es(t),t.flags|=1,vi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Bi(e,t,a))}function ji(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Oc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ni(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var l=s.memoizedProps;if((n=null!==(n=n.compare)?n:or)(l,r)&&e.ref===t.ref)return Bi(e,t,a)}return t.flags|=1,(e=Ac(s,r)).ref=t.ref,e.return=t,t.child=e}function Ni(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(or(s,r)&&e.ref===t.ref){if(gi=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,Bi(e,t,a);0!==(131072&e.flags)&&(gi=!0)}}return Si(e,t,n,r,a)}function wi(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_a(Ao,Oo),Oo|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_a(Ao,Oo),Oo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,_a(Ao,Oo),Oo|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,_a(Ao,Oo),Oo|=r;return vi(e,t,a,n),t.child}function ki(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Si(e,t,n,r,a){var s=Oa(n)?Ta:Ea.current;return s=Ra(t,s),Ps(t,a),n=hl(e,t,n,r,s,a),r=xl(),null===e||gi?(as&&r&&es(t),t.flags|=1,vi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Bi(e,t,a))}function _i(e,t,n,r,a){if(Oa(n)){var s=!0;za(t)}else s=!1;if(Ps(t,a),null===t.stateNode)qi(e,t),si(t,n,r),ii(t,n,r,a),r=!0;else if(null===e){var l=t.stateNode,i=t.memoizedProps;l.props=i;var o=l.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ts(c):c=Ra(t,c=Oa(n)?Ta:Ea.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof l.getSnapshotBeforeUpdate;u||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==r||o!==c)&&li(t,l,r,c),Ms=!1;var m=t.memoizedState;l.state=m,qs(t,r,l,a),o=t.memoizedState,i!==r||m!==o||Pa.current||Ms?("function"===typeof d&&(ni(t,n,d,r),o=t.memoizedState),(i=Ms||ai(t,n,i,r,m,o,c))?(u||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=o),l.props=r,l.state=o,l.context=c,r=i):("function"===typeof l.componentDidMount&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Ds(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ti(t.type,i),l.props=c,u=t.pendingProps,m=l.context,"object"===typeof(o=n.contextType)&&null!==o?o=Ts(o):o=Ra(t,o=Oa(n)?Ta:Ea.current);var f=n.getDerivedStateFromProps;(d="function"===typeof f||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==u||m!==o)&&li(t,l,r,o),Ms=!1,m=t.memoizedState,l.state=m,qs(t,r,l,a);var p=t.memoizedState;i!==u||m!==p||Pa.current||Ms?("function"===typeof f&&(ni(t,n,f,r),p=t.memoizedState),(c=Ms||ai(t,n,c,r,m,p,o)||!1)?(d||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(r,p,o),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(r,p,o)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),l.props=r,l.state=p,l.context=o,r=c):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Ci(e,t,n,r,s,a)}function Ci(e,t,n,r,a,s){ki(e,t);var l=0!==(128&t.flags);if(!r&&!l)return a&&Da(t,n,!1),Bi(e,t,s);r=t.stateNode,bi.current=t;var i=l&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&l?(t.child=ys(t,e.child,null,s),t.child=ys(t,null,i,s)):vi(e,t,i,s),t.memoizedState=r.state,a&&Da(t,n,!0),t.child}function Ei(e){var t=e.stateNode;t.pendingContext?La(0,t.pendingContext,t.pendingContext!==t.context):t.context&&La(0,t.context,!1),Js(e,t.containerInfo)}function Pi(e,t,n,r,a){return fs(),ps(a),t.flags|=256,vi(e,t,n,r),t.child}var Ti,Ri,Oi,Ai,Li={dehydrated:null,treeContext:null,retryLane:0};function Mi(e){return{baseLanes:e,cachePool:null,transitions:null}}function zi(e,t,n){var r,a=t.pendingProps,l=Zs.current,i=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&l)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),_a(Zs,1&l),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=a.children,e=a.fallback,i?(a=t.mode,i=t.child,o={mode:"hidden",children:o},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=o):i=zc(o,a,0,null),e=Mc(e,a,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Mi(n),t.memoizedState=Li,e):Di(t,o));if(null!==(l=e.memoizedState)&&null!==(r=l.dehydrated))return function(e,t,n,r,a,l,i){if(n)return 256&t.flags?(t.flags&=-257,Ii(e,t,i,r=ci(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=r.fallback,a=t.mode,r=zc({mode:"visible",children:r.children},a,0,null),(l=Mc(l,a,i,null)).flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,0!==(1&t.mode)&&ys(t,e.child,null,i),t.child.memoizedState=Mi(i),t.memoizedState=Li,l);if(0===(1&t.mode))return Ii(e,t,i,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var o=r.dgst;return r=o,Ii(e,t,i,r=ci(l=Error(s(419)),r,void 0))}if(o=0!==(i&e.childLanes),gi||o){if(null!==(r=Po)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|i))?0:a)&&a!==l.retryLane&&(l.retryLane=a,Ls(e,a),nc(r,e,a,-1))}return hc(),Ii(e,t,i,r=ci(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,rs=ca(a.nextSibling),ns=t,as=!0,ss=null,null!==e&&(Qa[Ga++]=Ka,Qa[Ga++]=Xa,Qa[Ga++]=Ja,Ka=e.id,Xa=e.overflow,Ja=t),t=Di(t,r.children),t.flags|=4096,t)}(e,t,o,a,r,l,n);if(i){i=a.fallback,o=t.mode,r=(l=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&o)&&t.child!==l?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Ac(l,c)).subtreeFlags=14680064&l.subtreeFlags,null!==r?i=Ac(r,i):(i=Mc(i,o,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,o=null===(o=e.child.memoizedState)?Mi(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Li,a}return e=(i=e.child).sibling,a=Ac(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Di(e,t){return(t=zc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ii(e,t,n,r){return null!==r&&ps(r),ys(t,e.child,null,n),(e=Di(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Es(e.return,t,n)}function $i(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Ui(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(vi(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fi(e,n,t);else if(19===e.tag)Fi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_a(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===el(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),$i(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===el(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}$i(t,!0,n,null,s);break;case"together":$i(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zo|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ac(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ac(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vi(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hi(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wi(t),null;case 1:case 17:return Oa(t.type)&&Aa(),Wi(t),null;case 3:return r=t.stateNode,Ks(),Sa(Pa),Sa(Ea),nl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(lc(ss),ss=null))),Ri(e,t),Wi(t),null;case 5:Ys(t);var a=Gs(Qs.current);if(n=t.type,null!==e&&null!=t.stateNode)Oi(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Wi(t),null}if(e=Gs(Ws.current),us(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[ma]=t,r[fa]=l,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(a=0;a<Mr.length;a++)Fr(Mr[a],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":K(r,l),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Fr("invalid",r);break;case"textarea":ae(r,l),Fr("invalid",r)}for(var o in ge(n,l),a=null,l)if(l.hasOwnProperty(o)){var c=l[o];"children"===o?"string"===typeof c?r.textContent!==c&&(!0!==l.suppressHydrationWarning&&Yr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==l.suppressHydrationWarning&&Yr(r.textContent,c,e),a=["children",""+c]):i.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&Fr("scroll",r)}switch(n){case"input":H(r),Z(r,l,!0);break;case"textarea":H(r),le(r);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{o=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),"select"===n&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ma]=t,e[fa]=r,Ti(e,t,!1,!1),t.stateNode=e;e:{switch(o=ve(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),a=r;break;case"iframe":case"object":case"embed":Fr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Mr.length;a++)Fr(Mr[a],e);a=r;break;case"source":Fr("error",e),a=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),a=r;break;case"details":Fr("toggle",e),a=r;break;case"input":K(e,r),a=J(e,r),Fr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=D({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Fr("invalid",e)}for(l in ge(n,a),c=a)if(c.hasOwnProperty(l)){var d=c[l];"style"===l?xe(e,d):"dangerouslySetInnerHTML"===l?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===l?"string"===typeof d?("textarea"!==n||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(i.hasOwnProperty(l)?null!=d&&"onScroll"===l&&Fr("scroll",e):null!=d&&v(e,l,d,o))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(l=r.value)?ne(e,!!r.multiple,l,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wi(t),null;case 6:if(e&&null!=t.stateNode)Ai(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Gs(Qs.current),Gs(Ws.current),us(t)){if(r=t.stateNode,n=t.memoizedProps,r[ma]=t,(l=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}l&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ma]=t,t.stateNode=r}return Wi(t),null;case 13:if(Sa(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ms(),fs(),t.flags|=98560,l=!1;else if(l=us(t),null!==r&&null!==r.dehydrated){if(null===e){if(!l)throw Error(s(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(s(317));l[ma]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wi(t),l=!1}else null!==ss&&(lc(ss),ss=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Lo&&(Lo=3):hc())),null!==t.updateQueue&&(t.flags|=4),Wi(t),null);case 4:return Ks(),Ri(e,t),null===e&&qr(t.stateNode.containerInfo),Wi(t),null;case 10:return Cs(t.type._context),Wi(t),null;case 19:if(Sa(Zs),null===(l=t.memoizedState))return Wi(t),null;if(r=0!==(128&t.flags),null===(o=l.rendering))if(r)Vi(l,!1);else{if(0!==Lo||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=el(e))){for(t.flags|=128,Vi(l,!1),null!==(r=o.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(l=n).flags&=14680066,null===(o=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _a(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==l.tail&&Xe()>qo&&(t.flags|=128,r=!0,Vi(l,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=el(o))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vi(l,!0),null===l.tail&&"hidden"===l.tailMode&&!o.alternate&&!as)return Wi(t),null}else 2*Xe()-l.renderingStartTime>qo&&1073741824!==n&&(t.flags|=128,r=!0,Vi(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=l.last)?n.sibling=o:t.child=o,l.last=o)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Xe(),t.sibling=null,n=Zs.current,_a(Zs,r?1&n|2:1&n),t):(Wi(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Oo)&&(Wi(t),6&t.subtreeFlags&&(t.flags|=8192)):Wi(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qi(e,t){switch(ts(t),t.tag){case 1:return Oa(t.type)&&Aa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ks(),Sa(Pa),Sa(Ea),nl(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ys(t),null;case 13:if(Sa(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sa(Zs),null;case 4:return Ks(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ti=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ri=function(){},Oi=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Gs(Ws.current);var s,l=null;switch(n){case"input":a=J(e,a),r=J(e,r),l=[];break;case"select":a=D({},a,{value:void 0}),r=D({},r,{value:void 0}),l=[];break;case"textarea":a=re(e,a),r=re(e,r),l=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(d in ge(n,r),n=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var o=a[d];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var c=r[d];if(o=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(l||(l=[]),l.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(l=l||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(l=l||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Fr("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}},Ai=function(e,t,n,r){n!==r&&(t.flags|=4)};var Gi=!1,Ji=!1,Ki="function"===typeof WeakSet?WeakSet:Set,Xi=null;function Yi(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function Zi(e,t,n){try{n()}catch(r){kc(e,t,r)}}var eo=!1;function to(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&Zi(t,n,s)}a=a.next}while(a!==r)}}function no(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ro(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ao(e){var t=e.alternate;null!==t&&(e.alternate=null,ao(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ma],delete t[fa],delete t[ha],delete t[xa],delete t[ba])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function so(e){return 5===e.tag||3===e.tag||4===e.tag}function lo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||so(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function io(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(io(e,t,n),e=e.sibling;null!==e;)io(e,t,n),e=e.sibling}function oo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(oo(e,t,n),e=e.sibling;null!==e;)oo(e,t,n),e=e.sibling}var co=null,uo=!1;function mo(e,t,n){for(n=n.child;null!==n;)fo(e,t,n),n=n.sibling}function fo(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,n)}catch(i){}switch(n.tag){case 5:Ji||Yi(n,t);case 6:var r=co,a=uo;co=null,mo(e,t,n),uo=a,null!==(co=r)&&(uo?(e=co,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):co.removeChild(n.stateNode));break;case 18:null!==co&&(uo?(e=co,n=n.stateNode,8===e.nodeType?oa(e.parentNode,n):1===e.nodeType&&oa(e,n),qt(e)):oa(co,n.stateNode));break;case 4:r=co,a=uo,co=n.stateNode.containerInfo,uo=!0,mo(e,t,n),co=r,uo=a;break;case 0:case 11:case 14:case 15:if(!Ji&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,l=s.destroy;s=s.tag,void 0!==l&&(0!==(2&s)||0!==(4&s))&&Zi(n,t,l),a=a.next}while(a!==r)}mo(e,t,n);break;case 1:if(!Ji&&(Yi(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){kc(n,t,i)}mo(e,t,n);break;case 21:mo(e,t,n);break;case 22:1&n.mode?(Ji=(r=Ji)||null!==n.memoizedState,mo(e,t,n),Ji=r):mo(e,t,n);break;default:mo(e,t,n)}}function po(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ki),t.forEach(function(t){var r=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ho(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var l=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===co)throw Error(s(160));fo(l,i,a),co=null,uo=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(d){kc(a,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xo(t,e),t=t.sibling}function xo(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ho(t,e),bo(e),4&r){try{to(3,e,e.return),no(3,e)}catch(x){kc(e,e.return,x)}try{to(5,e,e.return)}catch(x){kc(e,e.return,x)}}break;case 1:ho(t,e),bo(e),512&r&&null!==n&&Yi(n,n.return);break;case 5:if(ho(t,e),bo(e),512&r&&null!==n&&Yi(n,n.return),32&e.flags){var a=e.stateNode;try{me(a,"")}catch(x){kc(e,e.return,x)}}if(4&r&&null!=(a=e.stateNode)){var l=e.memoizedProps,i=null!==n?n.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===l.type&&null!=l.name&&X(a,l),ve(o,i);var d=ve(o,l);for(i=0;i<c.length;i+=2){var u=c[i],m=c[i+1];"style"===u?xe(a,m):"dangerouslySetInnerHTML"===u?ue(a,m):"children"===u?me(a,m):v(a,u,m,d)}switch(o){case"input":Y(a,l);break;case"textarea":se(a,l);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var p=l.value;null!=p?ne(a,!!l.multiple,p,!1):f!==!!l.multiple&&(null!=l.defaultValue?ne(a,!!l.multiple,l.defaultValue,!0):ne(a,!!l.multiple,l.multiple?[]:"",!1))}a[fa]=l}catch(x){kc(e,e.return,x)}}break;case 6:if(ho(t,e),bo(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(x){kc(e,e.return,x)}}break;case 3:if(ho(t,e),bo(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(x){kc(e,e.return,x)}break;case 4:default:ho(t,e),bo(e);break;case 13:ho(t,e),bo(e),8192&(a=e.child).flags&&(l=null!==a.memoizedState,a.stateNode.isHidden=l,!l||null!==a.alternate&&null!==a.alternate.memoizedState||(Uo=Xe())),4&r&&po(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Ji=(d=Ji)||u,ho(t,e),Ji=d):ho(t,e),bo(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Xi=e,u=e.child;null!==u;){for(m=Xi=u;null!==Xi;){switch(p=(f=Xi).child,f.tag){case 0:case 11:case 14:case 15:to(4,f,f.return);break;case 1:Yi(f,f.return);var h=f.stateNode;if("function"===typeof h.componentWillUnmount){r=f,n=f.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(x){kc(r,n,x)}}break;case 5:Yi(f,f.return);break;case 22:if(null!==f.memoizedState){jo(m);continue}}null!==p?(p.return=f,Xi=p):jo(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{a=m.stateNode,d?"function"===typeof(l=a.style).setProperty?l.setProperty("display","none","important"):l.display="none":(o=m.stateNode,i=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=he("display",i))}catch(x){kc(e,e.return,x)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(x){kc(e,e.return,x)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ho(t,e),bo(e),4&r&&po(e);case 21:}}function bo(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(so(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(me(a,""),r.flags&=-33),oo(e,lo(e),a);break;case 3:case 4:var l=r.stateNode.containerInfo;io(e,lo(e),l);break;default:throw Error(s(161))}}catch(i){kc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function go(e,t,n){Xi=e,vo(e,t,n)}function vo(e,t,n){for(var r=0!==(1&e.mode);null!==Xi;){var a=Xi,s=a.child;if(22===a.tag&&r){var l=null!==a.memoizedState||Gi;if(!l){var i=a.alternate,o=null!==i&&null!==i.memoizedState||Ji;i=Gi;var c=Ji;if(Gi=l,(Ji=o)&&!c)for(Xi=a;null!==Xi;)o=(l=Xi).child,22===l.tag&&null!==l.memoizedState?No(a):null!==o?(o.return=l,Xi=o):No(a);for(;null!==s;)Xi=s,vo(s,t,n),s=s.sibling;Xi=a,Gi=i,Ji=c}yo(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Xi=s):yo(e)}}function yo(e){for(;null!==Xi;){var t=Xi;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ji||no(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ji)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ti(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&Bs(t,l,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bs(t,i,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&qt(m)}}}break;default:throw Error(s(163))}Ji||512&t.flags&&ro(t)}catch(f){kc(t,t.return,f)}}if(t===e){Xi=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xi=n;break}Xi=t.return}}function jo(e){for(;null!==Xi;){var t=Xi;if(t===e){Xi=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xi=n;break}Xi=t.return}}function No(e){for(;null!==Xi;){var t=Xi;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{no(4,t)}catch(o){kc(t,n,o)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(o){kc(t,a,o)}}var s=t.return;try{ro(t)}catch(o){kc(t,s,o)}break;case 5:var l=t.return;try{ro(t)}catch(o){kc(t,l,o)}}}catch(o){kc(t,t.return,o)}if(t===e){Xi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Xi=i;break}Xi=t.return}}var wo,ko=Math.ceil,So=y.ReactCurrentDispatcher,_o=y.ReactCurrentOwner,Co=y.ReactCurrentBatchConfig,Eo=0,Po=null,To=null,Ro=0,Oo=0,Ao=ka(0),Lo=0,Mo=null,zo=0,Do=0,Io=0,Fo=null,$o=null,Uo=0,qo=1/0,Bo=null,Vo=!1,Wo=null,Ho=null,Qo=!1,Go=null,Jo=0,Ko=0,Xo=null,Yo=-1,Zo=0;function ec(){return 0!==(6&Eo)?Xe():-1!==Yo?Yo:Yo=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Eo)&&0!==Ro?Ro&-Ro:null!==hs.transition?(0===Zo&&(Zo=ht()),Zo):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function nc(e,t,n,r){if(50<Ko)throw Ko=0,Xo=null,Error(s(185));bt(e,n,r),0!==(2&Eo)&&e===Po||(e===Po&&(0===(2&Eo)&&(Do|=n),4===Lo&&ic(e,Ro)),rc(e,r),1===n&&0===Eo&&0===(1&t.mode)&&(qo=Xe()+500,Fa&&qa()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-lt(s),i=1<<l,o=a[l];-1===o?0!==(i&n)&&0===(i&r)||(a[l]=ft(i,t)):o<=t&&(e.expiredLanes|=i),s&=~i}}(e,t);var r=mt(e,e===Po?Ro:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Fa=!0,Ua(e)}(oc.bind(null,e)):Ua(oc.bind(null,e)),la(function(){0===(6&Eo)&&qa()}),n=null;else{switch(yt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Yo=-1,Zo=0,0!==(6&Eo))throw Error(s(327));var n=e.callbackNode;if(Nc()&&e.callbackNode!==n)return null;var r=mt(e,e===Po?Ro:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=xc(e,r);else{t=r;var a=Eo;Eo|=2;var l=pc();for(Po===e&&Ro===t||(Bo=null,qo=Xe()+500,mc(e,t));;)try{gc();break}catch(o){fc(e,o)}_s(),So.current=l,Eo=a,null!==To?t=0:(Po=null,Ro=0,t=Lo)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=sc(e,a))),1===t)throw n=Mo,mc(e,0),ic(e,r),rc(e,Xe()),n;if(6===t)ic(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!ir(s(),a))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=xc(e,r))&&(0!==(l=pt(e))&&(r=l,t=sc(e,l))),1===t))throw n=Mo,mc(e,0),ic(e,r),rc(e,Xe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:jc(e,$o,Bo);break;case 3:if(ic(e,r),(130023424&r)===r&&10<(t=Uo+500-Xe())){if(0!==mt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(jc.bind(null,e,$o,Bo),t);break}jc(e,$o,Bo);break;case 4:if(ic(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-lt(r);l=1<<i,(i=t[i])>a&&(a=i),r&=~l}if(r=a,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ko(r/1960))-r)){e.timeoutHandle=ra(jc.bind(null,e,$o,Bo),r);break}jc(e,$o,Bo);break;default:throw Error(s(329))}}}return rc(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function sc(e,t){var n=Fo;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=xc(e,t))&&(t=$o,$o=n,null!==t&&lc(t)),e}function lc(e){null===$o?$o=e:$o.push.apply($o,e)}function ic(e,t){for(t&=~Io,t&=~Do,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lt(t),r=1<<n;e[n]=-1,t&=~r}}function oc(e){if(0!==(6&Eo))throw Error(s(327));Nc();var t=mt(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=xc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Mo,mc(e,0),ic(e,t),rc(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,$o,Bo),rc(e,Xe()),null}function cc(e,t){var n=Eo;Eo|=1;try{return e(t)}finally{0===(Eo=n)&&(qo=Xe()+500,Fa&&qa())}}function dc(e){null!==Go&&0===Go.tag&&0===(6&Eo)&&Nc();var t=Eo;Eo|=1;var n=Co.transition,r=vt;try{if(Co.transition=null,vt=1,e)return e()}finally{vt=r,Co.transition=n,0===(6&(Eo=t))&&qa()}}function uc(){Oo=Ao.current,Sa(Ao)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==To)for(n=To.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Aa();break;case 3:Ks(),Sa(Pa),Sa(Ea),nl();break;case 5:Ys(r);break;case 4:Ks();break;case 13:case 19:Sa(Zs);break;case 10:Cs(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Po=e,To=e=Ac(e.current,null),Ro=Oo=t,Lo=0,Mo=null,Io=Do=zo=0,$o=Fo=null,null!==Rs){for(t=0;t<Rs.length;t++)if(null!==(r=(n=Rs[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var l=s.next;s.next=a,r.next=l}n.pending=r}Rs=null}return e}function fc(e,t){for(;;){var n=To;try{if(_s(),rl.current=Xl,cl){for(var r=ll.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}cl=!1}if(sl=0,ol=il=ll=null,dl=!1,ul=0,_o.current=null,null===n||null===n.return){Lo=1,Mo=t,To=null;break}e:{var l=e,i=n.return,o=n,c=t;if(t=Ro,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=hi(i);if(null!==p){p.flags&=-257,xi(p,i,o,0,t),1&p.mode&&pi(l,d,t),c=d;var h=(t=p).updateQueue;if(null===h){var x=new Set;x.add(c),t.updateQueue=x}else h.add(c);break e}if(0===(1&t)){pi(l,d,t),hc();break e}c=Error(s(426))}else if(as&&1&o.mode){var b=hi(i);if(null!==b){0===(65536&b.flags)&&(b.flags|=256),xi(b,i,o,0,t),ps(oi(c,o));break e}}l=c=oi(c,o),4!==Lo&&(Lo=2),null===Fo?Fo=[l]:Fo.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,Us(l,mi(0,c,t));break e;case 1:o=c;var g=l.type,v=l.stateNode;if(0===(128&l.flags)&&("function"===typeof g.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Ho||!Ho.has(v)))){l.flags|=65536,t&=-t,l.lanes|=t,Us(l,fi(l,o,t));break e}}l=l.return}while(null!==l)}yc(n)}catch(y){t=y,To===n&&null!==n&&(To=n=n.return);continue}break}}function pc(){var e=So.current;return So.current=Xl,null===e?Xl:e}function hc(){0!==Lo&&3!==Lo&&2!==Lo||(Lo=4),null===Po||0===(268435455&zo)&&0===(268435455&Do)||ic(Po,Ro)}function xc(e,t){var n=Eo;Eo|=2;var r=pc();for(Po===e&&Ro===t||(Bo=null,mc(e,t));;)try{bc();break}catch(a){fc(e,a)}if(_s(),Eo=n,So.current=r,null!==To)throw Error(s(261));return Po=null,Ro=0,Lo}function bc(){for(;null!==To;)vc(To)}function gc(){for(;null!==To&&!Je();)vc(To)}function vc(e){var t=wo(e.alternate,e,Oo);e.memoizedProps=e.pendingProps,null===t?yc(e):To=t,_o.current=null}function yc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hi(n,t,Oo)))return void(To=n)}else{if(null!==(n=Qi(n,t)))return n.flags&=32767,void(To=n);if(null===e)return Lo=6,void(To=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(To=t);To=t=e}while(null!==t);0===Lo&&(Lo=5)}function jc(e,t,n){var r=vt,a=Co.transition;try{Co.transition=null,vt=1,function(e,t,n,r){do{Nc()}while(null!==Go);if(0!==(6&Eo))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-lt(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,l),e===Po&&(To=Po=null,Ro=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qo||(Qo=!0,Pc(tt,function(){return Nc(),null})),l=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||l){l=Co.transition,Co.transition=null;var i=vt;vt=1;var o=Eo;Eo|=4,_o.current=null,function(e,t){if(ea=Vt,fr(e=mr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch(j){n=null;break e}var i=0,o=-1,c=-1,d=0,u=0,m=e,f=null;t:for(;;){for(var p;m!==n||0!==a&&3!==m.nodeType||(o=i+a),m!==l||0!==r&&3!==m.nodeType||(c=i+r),3===m.nodeType&&(i+=m.nodeValue.length),null!==(p=m.firstChild);)f=m,m=p;for(;;){if(m===e)break t;if(f===n&&++d===a&&(o=i),f===l&&++u===r&&(c=i),null!==(p=m.nextSibling))break;f=(m=f).parentNode}m=p}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Vt=!1,Xi=t;null!==Xi;)if(e=(t=Xi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xi=e;else for(;null!==Xi;){t=Xi;try{var h=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==h){var x=h.memoizedProps,b=h.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:ti(t.type,x),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(s(163))}}catch(j){kc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Xi=e;break}Xi=t.return}h=eo,eo=!1}(e,n),xo(n,e),pr(ta),Vt=!!ea,ta=ea=null,e.current=n,go(n,e,a),Ke(),Eo=o,vt=i,Co.transition=l}else e.current=n;if(Qo&&(Qo=!1,Go=e,Jo=a),l=e.pendingLanes,0===l&&(Ho=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Vo)throw Vo=!1,e=Wo,Wo=null,e;0!==(1&Jo)&&0!==e.tag&&Nc(),l=e.pendingLanes,0!==(1&l)?e===Xo?Ko++:(Ko=0,Xo=e):Ko=0,qa()}(e,t,n,r)}finally{Co.transition=a,vt=r}return null}function Nc(){if(null!==Go){var e=yt(Jo),t=Co.transition,n=vt;try{if(Co.transition=null,vt=16>e?16:e,null===Go)var r=!1;else{if(e=Go,Go=null,Jo=0,0!==(6&Eo))throw Error(s(331));var a=Eo;for(Eo|=4,Xi=e.current;null!==Xi;){var l=Xi,i=l.child;if(0!==(16&Xi.flags)){var o=l.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Xi=d;null!==Xi;){var u=Xi;switch(u.tag){case 0:case 11:case 15:to(8,u,l)}var m=u.child;if(null!==m)m.return=u,Xi=m;else for(;null!==Xi;){var f=(u=Xi).sibling,p=u.return;if(ao(u),u===d){Xi=null;break}if(null!==f){f.return=p,Xi=f;break}Xi=p}}}var h=l.alternate;if(null!==h){var x=h.child;if(null!==x){h.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(null!==x)}}Xi=l}}if(0!==(2064&l.subtreeFlags)&&null!==i)i.return=l,Xi=i;else e:for(;null!==Xi;){if(0!==(2048&(l=Xi).flags))switch(l.tag){case 0:case 11:case 15:to(9,l,l.return)}var g=l.sibling;if(null!==g){g.return=l.return,Xi=g;break e}Xi=l.return}}var v=e.current;for(Xi=v;null!==Xi;){var y=(i=Xi).child;if(0!==(2064&i.subtreeFlags)&&null!==y)y.return=i,Xi=y;else e:for(i=v;null!==Xi;){if(0!==(2048&(o=Xi).flags))try{switch(o.tag){case 0:case 11:case 15:no(9,o)}}catch(N){kc(o,o.return,N)}if(o===i){Xi=null;break e}var j=o.sibling;if(null!==j){j.return=o.return,Xi=j;break e}Xi=o.return}}if(Eo=a,qa(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(N){}r=!0}return r}finally{vt=n,Co.transition=t}}return!1}function wc(e,t,n){e=Fs(e,t=mi(0,t=oi(n,t),1),1),t=ec(),null!==e&&(bt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)wc(e,e,n);else for(;null!==t;){if(3===t.tag){wc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ho||!Ho.has(r))){t=Fs(t,e=fi(t,e=oi(n,e),1),1),e=ec(),null!==t&&(bt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Po===e&&(Ro&n)===n&&(4===Lo||3===Lo&&(130023424&Ro)===Ro&&500>Xe()-Uo?mc(e,0):Io|=n),rc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Ls(e,t))&&(bt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),_c(e,n)}function Pc(e,t){return Qe(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Tc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,a,l){var i=2;if(r=e,"function"===typeof e)Oc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case w:return Mc(n.children,a,l,t);case k:i=8,a|=8;break;case S:return(e=Rc(12,n,t,2|a)).elementType=S,e.lanes=l,e;case P:return(e=Rc(13,n,t,a)).elementType=P,e.lanes=l,e;case T:return(e=Rc(19,n,t,a)).elementType=T,e.lanes=l,e;case A:return zc(n,a,l,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:i=10;break e;case C:i=9;break e;case E:i=11;break e;case R:i=14;break e;case O:i=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Rc(i,n,t,a)).elementType=e,t.type=r,t.lanes=l,t}function Mc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function zc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Ic(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xt(0),this.expirationTimes=xt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function $c(e,t,n,r,a,s,l,i,o){return e=new Fc(e,t,n,i,o),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Rc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zs(s),e}function Uc(e){if(!e)return Ca;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Oa(n))return Ma(e,n,t)}return t}function qc(e,t,n,r,a,s,l,i,o){return(e=$c(n,r,!0,e,0,s,0,i,o)).context=Uc(null),n=e.current,(s=Is(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,Fs(n,s,a),e.current.lanes=a,bt(e,a,r),rc(e,r),e}function Bc(e,t,n,r){var a=t.current,s=ec(),l=tc(a);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Is(s,l)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fs(a,t,l))&&(nc(e,a,l,s),$s(e,a,l)),l}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}wo=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pa.current)gi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return gi=!1,function(e,t,n){switch(t.tag){case 3:Ei(t),fs();break;case 5:Xs(t);break;case 1:Oa(t.type)&&za(t);break;case 4:Js(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;_a(Ns,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_a(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?zi(e,t,n):(_a(Zs,1&Zs.current),null!==(e=Bi(e,t,n))?e.sibling:null);_a(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ui(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),_a(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,wi(e,t,n)}return Bi(e,t,n)}(e,t,n);gi=0!==(131072&e.flags)}else gi=!1,as&&0!==(1048576&t.flags)&&Za(t,Ha,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qi(e,t),e=t.pendingProps;var a=Ra(t,Ea.current);Ps(t,n),a=hl(null,t,r,e,a,n);var l=xl();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oa(r)?(l=!0,za(t)):l=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,zs(t),a.updater=ri,t.stateNode=a,a._reactInternals=t,ii(t,r,e,n),t=Ci(null,t,r,!0,l,n)):(t.tag=0,as&&l&&es(t),vi(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qi(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===R)return 14}return 2}(r),e=ti(r,e),a){case 0:t=Si(null,t,r,e,n);break e;case 1:t=_i(null,t,r,e,n);break e;case 11:t=yi(null,t,r,e,n);break e;case 14:t=ji(null,t,r,ti(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Si(e,t,r,a=t.elementType===r?a:ti(r,a),n);case 1:return r=t.type,a=t.pendingProps,_i(e,t,r,a=t.elementType===r?a:ti(r,a),n);case 3:e:{if(Ei(t),null===e)throw Error(s(387));r=t.pendingProps,a=(l=t.memoizedState).element,Ds(e,t),qs(t,r,null,n);var i=t.memoizedState;if(r=i.element,l.isDehydrated){if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Pi(e,t,r,n,a=oi(Error(s(423)),t));break e}if(r!==a){t=Pi(e,t,r,n,a=oi(Error(s(424)),t));break e}for(rs=ca(t.stateNode.containerInfo.firstChild),ns=t,as=!0,ss=null,n=js(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===a){t=Bi(e,t,n);break e}vi(e,t,r,n)}t=t.child}return t;case 5:return Xs(t),null===e&&cs(t),r=t.type,a=t.pendingProps,l=null!==e?e.memoizedProps:null,i=a.children,na(r,a)?i=null:null!==l&&na(r,l)&&(t.flags|=32),ki(e,t),vi(e,t,i,n),t.child;case 6:return null===e&&cs(t),null;case 13:return zi(e,t,n);case 4:return Js(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ys(t,null,r,n):vi(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,yi(e,t,r,a=t.elementType===r?a:ti(r,a),n);case 7:return vi(e,t,t.pendingProps,n),t.child;case 8:case 12:return vi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,_a(Ns,r._currentValue),r._currentValue=i,null!==l)if(ir(l.value,i)){if(l.children===a.children&&!Pa.current){t=Bi(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var o=l.dependencies;if(null!==o){i=l.child;for(var c=o.firstContext;null!==c;){if(c.context===r){if(1===l.tag){(c=Is(-1,n&-n)).tag=2;var d=l.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),Es(l.return,n,t),o.lanes|=n;break}c=c.next}}else if(10===l.tag)i=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(i=l.return))throw Error(s(341));i.lanes|=n,null!==(o=i.alternate)&&(o.lanes|=n),Es(i,n,t),i=l.sibling}else i=l.child;if(null!==i)i.return=l;else for(i=l;null!==i;){if(i===t){i=null;break}if(null!==(l=i.sibling)){l.return=i.return,i=l;break}i=i.return}l=i}vi(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ps(t,n),r=r(a=Ts(a)),t.flags|=1,vi(e,t,r,n),t.child;case 14:return a=ti(r=t.type,t.pendingProps),ji(e,t,r,a=ti(r.type,a),n);case 15:return Ni(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ti(r,a),qi(e,t),t.tag=1,Oa(r)?(e=!0,za(t)):e=!1,Ps(t,n),si(t,r,a),ii(t,r,a,n),Ci(null,t,r,!0,e,n);case 19:return Ui(e,t,n);case 22:return wi(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yc(){}function Zc(e,t,n,r,a){var s=n._reactRootContainer;if(s){var l=s;if("function"===typeof a){var i=a;a=function(){var e=Vc(l);i.call(e)}}Bc(t,l,e,a)}else l=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=Vc(l);s.call(e)}}var l=qc(t,r,e,0,null,!1,0,"",Yc);return e._reactRootContainer=l,e[pa]=l.current,qr(8===e.nodeType?e.parentNode:e),dc(),l}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var i=r;r=function(){var e=Vc(o);i.call(e)}}var o=$c(e,0,!1,null,0,!1,0,"",Yc);return e._reactRootContainer=o,e[pa]=o.current,qr(8===e.nodeType?e.parentNode:e),dc(function(){Bc(t,o,n,r)}),o}(n,t,e,a,r);return Vc(l)}Jc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Bc(e,t,null,null)},Jc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Bc(null,e,null,null)}),t[pa]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Dt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Eo)&&(qo=Xe()+500,qa()))}break;case 13:dc(function(){var t=Ls(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Hc(e,1)}},Nt=function(e){if(13===e.tag){var t=Ls(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},wt=function(e){if(13===e.tag){var t=tc(e),n=Ls(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},kt=function(){return vt},St=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},Ne=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ja(r);if(!a)throw Error(s(90));Q(r),Y(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cc,Pe=dc;var ed={usingClientEntryPoint:!1,Events:[va,ya,ja,_e,Ce,cc]},td={findFiberByHostInstance:ga,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{at=rd.inject(nd),st=rd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Kc(e))throw Error(s(299));var n=!1,r="",a=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=$c(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,qr(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,l="",i=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(l=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,a,0,l,i),e[pa]=t.current,qr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Jc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pa]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},352:(e,t,n)=>{var r=n(119);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},414:(e,t,n)=>{e.exports=n(654)},654:(e,t,n)=>{var r=n(950),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,r)&&!o.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:d,props:s,_owner:i.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},761:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,l=a>>>1;r<l;){var i=2*(r+1)-1,o=e[i],c=i+1,d=e[c];if(0>s(o,n))c<a&&0>s(d,o)?(e[r]=d,e[c]=n,r=c):(e[r]=o,e[i]=n,r=i);else{if(!(c<a&&0>s(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,m=null,f=3,p=!1,h=!1,x=!1,b="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=r(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function j(e){if(x=!1,y(e),!h)if(null!==r(c))h=!0,A(N);else{var t=r(d);null!==t&&L(j,t.startTime-e)}}function N(e,n){h=!1,x&&(x=!1,g(_),_=-1),p=!0;var s=f;try{for(y(n),m=r(c);null!==m&&(!(m.expirationTime>n)||e&&!P());){var l=m.callback;if("function"===typeof l){m.callback=null,f=m.priorityLevel;var i=l(m.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?m.callback=i:m===r(c)&&a(c),y(n)}else a(c);m=r(c)}if(null!==m)var o=!0;else{var u=r(d);null!==u&&L(j,u.startTime-n),o=!1}return o}finally{m=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,k=!1,S=null,_=-1,C=5,E=-1;function P(){return!(t.unstable_now()-E<C)}function T(){if(null!==S){var e=t.unstable_now();E=e;var n=!0;try{n=S(!0,e)}finally{n?w():(k=!1,S=null)}}else k=!1}if("function"===typeof v)w=function(){v(T)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,O=R.port2;R.port1.onmessage=T,w=function(){O.postMessage(null)}}else w=function(){b(T,0)};function A(e){S=e,k||(k=!0,w())}function L(e,n){_=b(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){h||p||(h=!0,A(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,s){var l=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?l+s:l:s=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>l?(e.sortIndex=s,n(d,e),null===r(c)&&e===r(d)&&(x?(g(_),_=-1):x=!0,L(j,s-l))):(e.sortIndex=i,n(c,e),h||p||(h=!0,A(N))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{e.exports=n(49)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var l={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&r;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>l[e]=()=>r[e]);return l.default=()=>r,n.d(s,l),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>Rt,hasStandardBrowserEnv:()=>At,hasStandardBrowserWebWorkerEnv:()=>Lt,navigator:()=>Ot,origin:()=>Mt});var a,s=n(950),l=n.t(s,2),i=n(352),o=n(119),c=n.t(o,2);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const u="popstate";function m(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function f(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),d({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?b(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function x(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function b(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,t,n,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:l=!1}=r,i=s.history,o=a.Pop,c=null,f=b();function b(){return(i.state||{idx:null}).idx}function g(){o=a.Pop;let e=b(),t=null==e?null:e-f;f=e,c&&c({action:o,location:y.location,delta:t})}function v(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:x(e);return n=n.replace(/ $/,"%20"),m(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==f&&(f=0,i.replaceState(d({},i.state,{idx:f}),""));let y={get action(){return o},get location(){return e(s,i)},listen(e){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(u,g),c=e,()=>{s.removeEventListener(u,g),c=null}},createHref:e=>t(s,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o=a.Push;let r=h(y.location,e,t);n&&n(r,e),f=b()+1;let d=p(r,f),u=y.createHref(r);try{i.pushState(d,"",u)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;s.location.assign(u)}l&&c&&c({action:o,location:y.location,delta:1})},replace:function(e,t){o=a.Replace;let r=h(y.location,e,t);n&&n(r,e),f=b();let s=p(r,f),d=y.createHref(r);i.replaceState(s,"",d),l&&c&&c({action:o,location:y.location,delta:0})},go:e=>i.go(e)};return y}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),j(e,t,n,!1)}function j(e,t,n,r){let a=M(("string"===typeof t?b(t):t).pathname||"/",n);if(null==a)return null;let s=N(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let l=null;for(let i=0;null==l&&i<s.length;++i){let e=L(a);l=O(s[i],e,r)}return l}function N(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,s)=>{let l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};l.relativePath.startsWith("/")&&(m(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),l.relativePath=l.relativePath.slice(r.length));let i=$([r,l.relativePath]),o=n.concat(l);e.children&&e.children.length>0&&(m(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),N(e.children,t,o,i)),(null!=e.path||e.index)&&t.push({path:i,score:R(i,e.index),routesMeta:o})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))a(e,t,r);else a(e,t)}),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return a?[s,""]:[s];let l=w(r.join("/")),i=[];return i.push(...l.map(e=>""===e?s:[s,e].join("/"))),a&&i.push(...l),i.map(t=>e.startsWith("/")&&""===t?"/":t)}const k=/^:[\w-]+$/,S=3,_=2,C=1,E=10,P=-2,T=e=>"*"===e;function R(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=P),t&&(r+=_),n.filter(e=>!T(e)).reduce((e,t)=>e+(k.test(t)?S:""===t?C:E),r)}function O(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},s="/",l=[];for(let i=0;i<r.length;++i){let e=r[i],o=i===r.length-1,c="/"===s?t:t.slice(s.length)||"/",d=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&n&&!r[r.length-1].route.index&&(d=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),l.push({params:a,pathname:$([s,d.pathname]),pathnameBase:U($([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=$([s,d.pathnameBase]))}return l}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);f("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],l=s.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=i[n]||"";l=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const o=i[n];return e[r]=a&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:l,pattern:e}}function L(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return f(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function M(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function z(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function I(e,t){let n=D(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function F(e,t,n,r){let a;void 0===r&&(r=!1),"string"===typeof e?a=b(e):(a=d({},e),m(!a.pathname||!a.pathname.includes("?"),z("?","pathname","search",a)),m(!a.pathname||!a.pathname.includes("#"),z("#","pathname","hash",a)),m(!a.search||!a.search.includes("#"),z("#","search","hash",a)));let s,l=""===e||""===a.pathname,i=l?"/":a.pathname;if(null==i)s=n;else{let e=t.length-1;if(!r&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let o=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?b(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:q(r),hash:B(a)}}(a,s),c=i&&"/"!==i&&i.endsWith("/"),u=(l||"."===i)&&n.endsWith("/");return o.pathname.endsWith("/")||!c&&!u||(o.pathname+="/"),o}const $=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],H=(new Set(W),["get",...W]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q.apply(this,arguments)}const G=s.createContext(null);const J=s.createContext(null);const K=s.createContext(null);const X=s.createContext(null);const Y=s.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=s.createContext(null);function ee(){return null!=s.useContext(X)}function te(){return ee()||m(!1),s.useContext(X).location}function ne(e){s.useContext(K).static||s.useLayoutEffect(e)}function re(){let{isDataRoute:e}=s.useContext(Y);return e?function(){let{router:e}=me(de.UseNavigateStable),t=pe(ue.UseNavigateStable),n=s.useRef(!1);return ne(()=>{n.current=!0}),s.useCallback(function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,Q({fromRouteId:t},a)))},[e,t])}():function(){ee()||m(!1);let e=s.useContext(G),{basename:t,future:n,navigator:r}=s.useContext(K),{matches:a}=s.useContext(Y),{pathname:l}=te(),i=JSON.stringify(I(a,n.v7_relativeSplatPath)),o=s.useRef(!1);ne(()=>{o.current=!0});let c=s.useCallback(function(n,a){if(void 0===a&&(a={}),!o.current)return;if("number"===typeof n)return void r.go(n);let s=F(n,JSON.parse(i),l,"path"===a.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:$([t,s.pathname])),(a.replace?r.replace:r.push)(s,a.state,a)},[t,r,i,l,e]);return c}()}function ae(e,t,n,r){ee()||m(!1);let{navigator:l}=s.useContext(K),{matches:i}=s.useContext(Y),o=i[i.length-1],c=o?o.params:{},d=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let u,f=te();if(t){var p;let e="string"===typeof t?b(t):t;"/"===d||(null==(p=e.pathname)?void 0:p.startsWith(d))||m(!1),u=e}else u=f;let h=u.pathname||"/",x=h;if("/"!==d){let e=d.replace(/^\//,"").split("/");x="/"+h.replace(/^\//,"").split("/").slice(e.length).join("/")}let g=y(e,{pathname:x});let v=ce(g&&g.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:$([d,l.encodeLocation?l.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:$([d,l.encodeLocation?l.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,n,r);return t&&v?s.createElement(X.Provider,{value:{location:Q({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:a.Pop}},v):v}function se(){let e=function(){var e;let t=s.useContext(Z),n=fe(ue.UseRouteError),r=pe(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:a},n):null,null)}const le=s.createElement(se,null);class ie extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(Y.Provider,{value:this.props.routeContext},s.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:n,children:r}=e,a=s.useContext(G);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(Y.Provider,{value:t},r)}function ce(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var l;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(l=r)&&l.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let i=e,o=null==(a=n)?void 0:a.errors;if(null!=o){let e=i.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||m(!1),i=i.slice(0,Math.min(i.length,e+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let s=0;s<i.length;s++){let e=i[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=s),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){c=!0,i=d>=0?i.slice(0,d+1):[i[0]];break}}}return i.reduceRight((e,r,a)=>{let l,u=!1,m=null,f=null;var p;n&&(l=o&&r.route.id?o[r.route.id]:void 0,m=r.route.errorElement||le,c&&(d<0&&0===a?(p="route-fallback",!1||he[p]||(he[p]=!0),u=!0,f=null):d===a&&(u=!0,f=r.route.hydrateFallbackElement||null)));let h=t.concat(i.slice(0,a+1)),x=()=>{let t;return t=l?m:u?f:r.route.Component?s.createElement(r.route.Component,null):r.route.element?r.route.element:e,s.createElement(oe,{match:r,routeContext:{outlet:e,matches:h,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?s.createElement(ie,{location:n.location,revalidation:n.revalidation,component:m,error:l,children:x(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):x()},null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function me(e){let t=s.useContext(G);return t||m(!1),t}function fe(e){let t=s.useContext(J);return t||m(!1),t}function pe(e){let t=function(){let e=s.useContext(Y);return e||m(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||m(!1),n.route.id}const he={};function xe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}l.startTransition;function be(e){let{to:t,replace:n,state:r,relative:a}=e;ee()||m(!1);let{future:l,static:i}=s.useContext(K),{matches:o}=s.useContext(Y),{pathname:c}=te(),d=re(),u=F(t,I(o,l.v7_relativeSplatPath),c,"path"===a),f=JSON.stringify(u);return s.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:a}),[d,f,a,n,r]),null}function ge(e){m(!1)}function ve(e){let{basename:t="/",children:n=null,location:r,navigationType:l=a.Pop,navigator:i,static:o=!1,future:c}=e;ee()&&m(!1);let d=t.replace(/^\/*/,"/"),u=s.useMemo(()=>({basename:d,navigator:i,static:o,future:Q({v7_relativeSplatPath:!1},c)}),[d,c,i,o]);"string"===typeof r&&(r=b(r));let{pathname:f="/",search:p="",hash:h="",state:x=null,key:g="default"}=r,v=s.useMemo(()=>{let e=M(f,d);return null==e?null:{location:{pathname:e,search:p,hash:h,state:x,key:g},navigationType:l}},[d,f,p,h,x,g,l]);return null==v?null:s.createElement(K.Provider,{value:u},s.createElement(X.Provider,{children:n,value:v}))}function ye(e){let{children:t,location:n}=e;return ae(je(t),n)}new Promise(()=>{});s.Component;function je(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,(e,r)=>{if(!s.isValidElement(e))return;let a=[...t,r];if(e.type===s.Fragment)return void n.push.apply(n,je(e.props.children,a));e.type!==ge&&m(!1),e.props.index&&e.props.children&&m(!1);let l={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(l.children=je(e.props.children,a)),n.push(l)}),n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(Rr){}new Map;const Ne=l.startTransition;c.flushSync,l.useId;function we(e){let{basename:t,children:n,future:r,window:a}=e,l=s.useRef();var i;null==l.current&&(l.current=(void 0===(i={window:a,v5Compat:!0})&&(i={}),g(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return h("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:x(t)},null,i)));let o=l.current,[c,d]=s.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},m=s.useCallback(e=>{u&&Ne?Ne(()=>d(e)):d(e)},[d,u]);return s.useLayoutEffect(()=>o.listen(m),[o,m]),s.useEffect(()=>xe(r),[r]),s.createElement(ve,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:o,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var ke,Se;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ke||(ke={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Se||(Se={}));function _e(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ce}=Object.prototype,{getPrototypeOf:Ee}=Object,{iterator:Pe,toStringTag:Te}=Symbol,Re=(Oe=Object.create(null),e=>{const t=Ce.call(e);return Oe[t]||(Oe[t]=t.slice(8,-1).toLowerCase())});var Oe;const Ae=e=>(e=e.toLowerCase(),t=>Re(t)===e),Le=e=>t=>typeof t===e,{isArray:Me}=Array,ze=Le("undefined");function De(e){return null!==e&&!ze(e)&&null!==e.constructor&&!ze(e.constructor)&&$e(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ie=Ae("ArrayBuffer");const Fe=Le("string"),$e=Le("function"),Ue=Le("number"),qe=e=>null!==e&&"object"===typeof e,Be=e=>{if("object"!==Re(e))return!1;const t=Ee(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Te in e)&&!(Pe in e)},Ve=Ae("Date"),We=Ae("File"),He=Ae("Blob"),Qe=Ae("FileList"),Ge=Ae("URLSearchParams"),[Je,Ke,Xe,Ye]=["ReadableStream","Request","Response","Headers"].map(Ae);function Ze(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Me(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(De(e))return;const r=a?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let l;for(n=0;n<s;n++)l=r[n],t.call(null,e[l],l,e)}}function et(e,t){if(De(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const tt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,nt=e=>!ze(e)&&e!==tt;const rt=(at="undefined"!==typeof Uint8Array&&Ee(Uint8Array),e=>at&&e instanceof at);var at;const st=Ae("HTMLFormElement"),lt=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),it=Ae("RegExp"),ot=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ze(n,(n,a)=>{let s;!1!==(s=t(n,a,e))&&(r[a]=s||n)}),Object.defineProperties(e,r)};const ct=Ae("AsyncFunction"),dt=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],tt.addEventListener("message",e=>{let{source:t,data:a}=e;t===tt&&a===n&&r.length&&r.shift()()},!1),e=>{r.push(e),tt.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,$e(tt.postMessage)),ut="undefined"!==typeof queueMicrotask?queueMicrotask.bind(tt):"undefined"!==typeof process&&process.nextTick||dt,mt={isArray:Me,isArrayBuffer:Ie,isBuffer:De,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||$e(e.append)&&("formdata"===(t=Re(e))||"object"===t&&$e(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ie(e.buffer),t},isString:Fe,isNumber:Ue,isBoolean:e=>!0===e||!1===e,isObject:qe,isPlainObject:Be,isEmptyObject:e=>{if(!qe(e)||De(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Rr){return!1}},isReadableStream:Je,isRequest:Ke,isResponse:Xe,isHeaders:Ye,isUndefined:ze,isDate:Ve,isFile:We,isBlob:He,isRegExp:it,isFunction:$e,isStream:e=>qe(e)&&$e(e.pipe),isURLSearchParams:Ge,isTypedArray:rt,isFileList:Qe,forEach:Ze,merge:function e(){const{caseless:t}=nt(this)&&this||{},n={},r=(r,a)=>{const s=t&&et(n,a)||a;Be(n[s])&&Be(r)?n[s]=e(n[s],r):Be(r)?n[s]=e({},r):Me(r)?n[s]=r.slice():n[s]=r};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&Ze(arguments[a],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Ze(t,(t,r)=>{n&&$e(t)?e[r]=_e(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,s,l;const i={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)l=a[s],r&&!r(l,e,t)||i[l]||(t[l]=e[l],i[l]=!0);e=!1!==n&&Ee(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Re,kindOfTest:Ae,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Me(e))return e;let t=e.length;if(!Ue(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Pe]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:st,hasOwnProperty:lt,hasOwnProp:lt,reduceDescriptors:ot,freezeMethods:e=>{ot(e,(t,n)=>{if($e(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];$e(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return Me(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:et,global:tt,isContextDefined:nt,isSpecCompliantForm:function(e){return!!(e&&$e(e.append)&&"FormData"===e[Te]&&e[Pe])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(qe(e)){if(t.indexOf(e)>=0)return;if(De(e))return e;if(!("toJSON"in e)){t[r]=e;const a=Me(e)?[]:{};return Ze(e,(e,t)=>{const s=n(e,r+1);!ze(s)&&(a[t]=s)}),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:ct,isThenable:e=>e&&(qe(e)||$e(e))&&$e(e.then)&&$e(e.catch),setImmediate:dt,asap:ut,isIterable:e=>null!=e&&$e(e[Pe])};function ft(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}mt.inherits(ft,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:mt.toJSONObject(this.config),code:this.code,status:this.status}}});const pt=ft.prototype,ht={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ht[e]={value:e}}),Object.defineProperties(ft,ht),Object.defineProperty(pt,"isAxiosError",{value:!0}),ft.from=(e,t,n,r,a,s)=>{const l=Object.create(pt);return mt.toFlatObject(e,l,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),ft.call(l,e.message,t,n,r,a),l.cause=e,l.name=e.name,s&&Object.assign(l,s),l};const xt=ft;function bt(e){return mt.isPlainObject(e)||mt.isArray(e)}function gt(e){return mt.endsWith(e,"[]")?e.slice(0,-2):e}function vt(e,t,n){return e?e.concat(t).map(function(e,t){return e=gt(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const yt=mt.toFlatObject(mt,{},null,function(e){return/^is[A-Z]/.test(e)});const jt=function(e,t,n){if(!mt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=mt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!mt.isUndefined(t[e])})).metaTokens,a=n.visitor||c,s=n.dots,l=n.indexes,i=(n.Blob||"undefined"!==typeof Blob&&Blob)&&mt.isSpecCompliantForm(t);if(!mt.isFunction(a))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(mt.isDate(e))return e.toISOString();if(mt.isBoolean(e))return e.toString();if(!i&&mt.isBlob(e))throw new xt("Blob is not supported. Use a Buffer instead.");return mt.isArrayBuffer(e)||mt.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,a){let i=e;if(e&&!a&&"object"===typeof e)if(mt.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(mt.isArray(e)&&function(e){return mt.isArray(e)&&!e.some(bt)}(e)||(mt.isFileList(e)||mt.endsWith(n,"[]"))&&(i=mt.toArray(e)))return n=gt(n),i.forEach(function(e,r){!mt.isUndefined(e)&&null!==e&&t.append(!0===l?vt([n],r,s):null===l?n:n+"[]",o(e))}),!1;return!!bt(e)||(t.append(vt(a,n,s),o(e)),!1)}const d=[],u=Object.assign(yt,{defaultVisitor:c,convertValue:o,isVisitable:bt});if(!mt.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!mt.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),mt.forEach(n,function(n,s){!0===(!(mt.isUndefined(n)||null===n)&&a.call(t,n,mt.isString(s)?s.trim():s,r,u))&&e(n,r?r.concat(s):[s])}),d.pop()}}(e),t};function Nt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function wt(e,t){this._pairs=[],e&&jt(e,this,t)}const kt=wt.prototype;kt.append=function(e,t){this._pairs.push([e,t])},kt.toString=function(e){const t=e?function(t){return e.call(this,t,Nt)}:Nt;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const St=wt;function _t(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ct(e,t,n){if(!t)return e;const r=n&&n.encode||_t;mt.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let s;if(s=a?a(t,n):mt.isURLSearchParams(t)?t.toString():new St(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const Et=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){mt.forEach(this.handlers,function(t){null!==t&&e(t)})}},Pt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Tt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:St,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Rt="undefined"!==typeof window&&"undefined"!==typeof document,Ot="object"===typeof navigator&&navigator||void 0,At=Rt&&(!Ot||["ReactNative","NativeScript","NS"].indexOf(Ot.product)<0),Lt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Mt=Rt&&window.location.href||"http://localhost",zt={...r,...Tt};const Dt=function(e){function t(e,n,r,a){let s=e[a++];if("__proto__"===s)return!0;const l=Number.isFinite(+s),i=a>=e.length;if(s=!s&&mt.isArray(r)?r.length:s,i)return mt.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!l;r[s]&&mt.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],a)&&mt.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let s;for(r=0;r<a;r++)s=n[r],t[s]=e[s];return t}(r[s])),!l}if(mt.isFormData(e)&&mt.isFunction(e.entries)){const n={};return mt.forEachEntry(e,(e,r)=>{t(function(e){return mt.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const It={transitional:Pt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=mt.isObject(e);a&&mt.isHTMLForm(e)&&(e=new FormData(e));if(mt.isFormData(e))return r?JSON.stringify(Dt(e)):e;if(mt.isArrayBuffer(e)||mt.isBuffer(e)||mt.isStream(e)||mt.isFile(e)||mt.isBlob(e)||mt.isReadableStream(e))return e;if(mt.isArrayBufferView(e))return e.buffer;if(mt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return jt(e,new zt.classes.URLSearchParams,{visitor:function(e,t,n,r){return zt.isNode&&mt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((s=mt.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return jt(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(mt.isString(e))try{return(t||JSON.parse)(e),mt.trim(e)}catch(Rr){if("SyntaxError"!==Rr.name)throw Rr}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||It.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(mt.isResponse(e)||mt.isReadableStream(e))return e;if(e&&mt.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(Rr){if(n){if("SyntaxError"===Rr.name)throw xt.from(Rr,xt.ERR_BAD_RESPONSE,this,null,this.response);throw Rr}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zt.classes.FormData,Blob:zt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};mt.forEach(["delete","get","head","post","put","patch"],e=>{It.headers[e]={}});const Ft=It,$t=mt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ut=Symbol("internals");function qt(e){return e&&String(e).trim().toLowerCase()}function Bt(e){return!1===e||null==e?e:mt.isArray(e)?e.map(Bt):String(e)}function Vt(e,t,n,r,a){return mt.isFunction(r)?r.call(this,t,n):(a&&(t=n),mt.isString(t)?mt.isString(r)?-1!==t.indexOf(r):mt.isRegExp(r)?r.test(t):void 0:void 0)}class Wt{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=qt(t);if(!a)throw new Error("header name must be a non-empty string");const s=mt.findKey(r,a);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=Bt(e))}const s=(e,t)=>mt.forEach(e,(e,n)=>a(e,n,t));if(mt.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(mt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&$t[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(mt.isObject(e)&&mt.isIterable(e)){let n,r,a={};for(const t of e){if(!mt.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[r=t[0]]=(n=a[r])?mt.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(a,t)}else null!=e&&a(t,e,n);return this}get(e,t){if(e=qt(e)){const n=mt.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(mt.isFunction(t))return t.call(this,e,n);if(mt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=qt(e)){const n=mt.findKey(this,e);return!(!n||void 0===this[n]||t&&!Vt(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=qt(e)){const a=mt.findKey(n,e);!a||t&&!Vt(0,n[a],a,t)||(delete n[a],r=!0)}}return mt.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!Vt(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return mt.forEach(this,(r,a)=>{const s=mt.findKey(n,a);if(s)return t[s]=Bt(r),void delete t[a];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(a):String(a).trim();l!==a&&delete t[a],t[l]=Bt(r),n[l]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return mt.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&mt.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Ut]=this[Ut]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=qt(e);t[r]||(!function(e,t){const n=mt.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})})}(n,e),t[r]=!0)}return mt.isArray(e)?e.forEach(r):r(e),this}}Wt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),mt.reduceDescriptors(Wt.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),mt.freezeMethods(Wt);const Ht=Wt;function Qt(e,t){const n=this||Ft,r=t||n,a=Ht.from(r.headers);let s=r.data;return mt.forEach(e,function(e){s=e.call(n,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function Gt(e){return!(!e||!e.__CANCEL__)}function Jt(e,t,n){xt.call(this,null==e?"canceled":e,xt.ERR_CANCELED,t,n),this.name="CanceledError"}mt.inherits(Jt,xt,{__CANCEL__:!0});const Kt=Jt;function Xt(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new xt("Request failed with status code "+n.status,[xt.ERR_BAD_REQUEST,xt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Yt=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,s=0,l=0;return t=void 0!==t?t:1e3,function(i){const o=Date.now(),c=r[l];a||(a=o),n[s]=i,r[s]=o;let d=l,u=0;for(;d!==s;)u+=n[d++],d%=e;if(s=(s+1)%e,s===l&&(l=(l+1)%e),o-a<t)return;const m=c&&o-c;return m?Math.round(1e3*u/m):void 0}};const Zt=function(e,t){let n,r,a=0,s=1e3/t;const l=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=s,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-a;for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];t>=s?l(o,e):(n=o,r||(r=setTimeout(()=>{r=null,l(n)},s-t)))},()=>n&&l(n)]},en=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const a=Yt(50,250);return Zt(n=>{const s=n.loaded,l=n.lengthComputable?n.total:void 0,i=s-r,o=a(i);r=s;e({loaded:s,total:l,progress:l?s/l:void 0,bytes:i,rate:o||void 0,estimated:o&&l&&s<=l?(l-s)/o:void 0,event:n,lengthComputable:null!=l,[t?"download":"upload"]:!0})},n)},tn=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},nn=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mt.asap(()=>e(...n))},rn=zt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,zt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(zt.origin),zt.navigator&&/(msie|trident)/i.test(zt.navigator.userAgent)):()=>!0,an=zt.hasStandardBrowserEnv?{write(e,t,n,r,a,s){const l=[e+"="+encodeURIComponent(t)];mt.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),mt.isString(r)&&l.push("path="+r),mt.isString(a)&&l.push("domain="+a),!0===s&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function sn(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const ln=e=>e instanceof Ht?{...e}:e;function on(e,t){t=t||{};const n={};function r(e,t,n,r){return mt.isPlainObject(e)&&mt.isPlainObject(t)?mt.merge.call({caseless:r},e,t):mt.isPlainObject(t)?mt.merge({},t):mt.isArray(t)?t.slice():t}function a(e,t,n,a){return mt.isUndefined(t)?mt.isUndefined(e)?void 0:r(void 0,e,0,a):r(e,t,0,a)}function s(e,t){if(!mt.isUndefined(t))return r(void 0,t)}function l(e,t){return mt.isUndefined(t)?mt.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function i(n,a,s){return s in t?r(n,a):s in e?r(void 0,n):void 0}const o={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:i,headers:(e,t,n)=>a(ln(e),ln(t),0,!0)};return mt.forEach(Object.keys({...e,...t}),function(r){const s=o[r]||a,l=s(e[r],t[r],r);mt.isUndefined(l)&&s!==i||(n[r]=l)}),n}const cn=e=>{const t=on({},e);let n,{data:r,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:l,headers:i,auth:o}=t;if(t.headers=i=Ht.from(i),t.url=Ct(sn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),mt.isFormData(r))if(zt.hasStandardBrowserEnv||zt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(!1!==(n=i.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}if(zt.hasStandardBrowserEnv&&(a&&mt.isFunction(a)&&(a=a(t)),a||!1!==a&&rn(t.url))){const e=s&&l&&an.read(l);e&&i.set(s,e)}return t},dn="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=cn(e);let a=r.data;const s=Ht.from(r.headers).normalize();let l,i,o,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:f}=r;function p(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(l),r.signal&&r.signal.removeEventListener("abort",l)}let h=new XMLHttpRequest;function x(){if(!h)return;const r=Ht.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());Xt(function(e){t(e),p()},function(e){n(e),p()},{data:u&&"text"!==u&&"json"!==u?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:r,config:e,request:h}),h=null}h.open(r.method.toUpperCase(),r.url,!0),h.timeout=r.timeout,"onloadend"in h?h.onloadend=x:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(x)},h.onabort=function(){h&&(n(new xt("Request aborted",xt.ECONNABORTED,e,h)),h=null)},h.onerror=function(){n(new xt("Network Error",xt.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||Pt;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new xt(t,a.clarifyTimeoutError?xt.ETIMEDOUT:xt.ECONNABORTED,e,h)),h=null},void 0===a&&s.setContentType(null),"setRequestHeader"in h&&mt.forEach(s.toJSON(),function(e,t){h.setRequestHeader(t,e)}),mt.isUndefined(r.withCredentials)||(h.withCredentials=!!r.withCredentials),u&&"json"!==u&&(h.responseType=r.responseType),f&&([o,d]=en(f,!0),h.addEventListener("progress",o)),m&&h.upload&&([i,c]=en(m),h.upload.addEventListener("progress",i),h.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(l=t=>{h&&(n(!t||t.type?new Kt(null,e,h):t),h.abort(),h=null)},r.cancelToken&&r.cancelToken.subscribe(l),r.signal&&(r.signal.aborted?l():r.signal.addEventListener("abort",l)));const b=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);b&&-1===zt.protocols.indexOf(b)?n(new xt("Unsupported protocol "+b+":",xt.ERR_BAD_REQUEST,e)):h.send(a||null)})},un=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const a=function(e){if(!n){n=!0,l();const t=e instanceof Error?e:this.reason;r.abort(t instanceof xt?t:new Kt(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,a(new xt(`timeout ${t} of ms exceeded`,xt.ETIMEDOUT))},t);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:i}=r;return i.unsubscribe=()=>mt.asap(l),i}},mn=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},fn=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},pn=(e,t,n,r)=>{const a=async function*(e,t){for await(const n of fn(e))yield*mn(n,t)}(e,t);let s,l=0,i=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return i(),void e.close();let s=r.byteLength;if(n){let e=l+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw i(t),t}},cancel:e=>(i(e),a.return())},{highWaterMark:2})},hn="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,xn=hn&&"function"===typeof ReadableStream,bn=hn&&("function"===typeof TextEncoder?(gn=new TextEncoder,e=>gn.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var gn;const vn=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(Rr){return!1}},yn=xn&&vn(()=>{let e=!1;const t=new Request(zt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),jn=xn&&vn(()=>mt.isReadableStream(new Response("").body)),Nn={stream:jn&&(e=>e.body)};var wn;hn&&(wn=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Nn[e]&&(Nn[e]=mt.isFunction(wn[e])?t=>t[e]():(t,n)=>{throw new xt(`Response type '${e}' is not supported`,xt.ERR_NOT_SUPPORT,n)})}));const kn=async(e,t)=>{const n=mt.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(mt.isBlob(e))return e.size;if(mt.isSpecCompliantForm(e)){const t=new Request(zt.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return mt.isArrayBufferView(e)||mt.isArrayBuffer(e)?e.byteLength:(mt.isURLSearchParams(e)&&(e+=""),mt.isString(e)?(await bn(e)).byteLength:void 0)})(t):n},Sn=hn&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:s,timeout:l,onDownloadProgress:i,onUploadProgress:o,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:m}=cn(e);c=c?(c+"").toLowerCase():"text";let f,p=un([a,s&&s.toAbortSignal()],l);const h=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let x;try{if(o&&yn&&"get"!==n&&"head"!==n&&0!==(x=await kn(d,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(mt.isFormData(r)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=tn(x,en(nn(o)));r=pn(n.body,65536,e,t)}}mt.isString(u)||(u=u?"include":"omit");const a="credentials"in Request.prototype;f=new Request(t,{...m,signal:p,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:a?u:void 0});let s=await fetch(f,m);const l=jn&&("stream"===c||"response"===c);if(jn&&(i||l&&h)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=s[t]});const t=mt.toFiniteNumber(s.headers.get("content-length")),[n,r]=i&&tn(t,en(nn(i),!0))||[];s=new Response(pn(s.body,65536,n,()=>{r&&r(),h&&h()}),e)}c=c||"text";let b=await Nn[mt.findKey(Nn,c)||"text"](s,e);return!l&&h&&h(),await new Promise((t,n)=>{Xt(t,n,{data:b,headers:Ht.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:f})})}catch(b){if(h&&h(),b&&"TypeError"===b.name&&/Load failed|fetch/i.test(b.message))throw Object.assign(new xt("Network Error",xt.ERR_NETWORK,e,f),{cause:b.cause||b});throw xt.from(b,b&&b.code,e,f)}}),_n={http:null,xhr:dn,fetch:Sn};mt.forEach(_n,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Rr){}Object.defineProperty(e,"adapterName",{value:t})}});const Cn=e=>`- ${e}`,En=e=>mt.isFunction(e)||null===e||!1===e,Pn=e=>{e=mt.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!En(n)&&(r=_n[(t=String(n)).toLowerCase()],void 0===r))throw new xt(`Unknown adapter '${t}'`);if(r)break;a[t||"#"+s]=r}if(!r){const e=Object.entries(a).map(e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")});let n=t?e.length>1?"since :\n"+e.map(Cn).join("\n"):" "+Cn(e[0]):"as no adapter specified";throw new xt("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Tn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Kt(null,e)}function Rn(e){Tn(e),e.headers=Ht.from(e.headers),e.data=Qt.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Pn(e.adapter||Ft.adapter)(e).then(function(t){return Tn(e),t.data=Qt.call(e,e.transformResponse,t),t.headers=Ht.from(t.headers),t},function(t){return Gt(t)||(Tn(e),t&&t.response&&(t.response.data=Qt.call(e,e.transformResponse,t.response),t.response.headers=Ht.from(t.response.headers))),Promise.reject(t)})}const On="1.11.0",An={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{An[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Ln={};An.transitional=function(e,t,n){function r(e,t){return"[Axios v"+On+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,s)=>{if(!1===e)throw new xt(r(a," has been removed"+(t?" in "+t:"")),xt.ERR_DEPRECATED);return t&&!Ln[a]&&(Ln[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,s)}},An.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const Mn={assertOptions:function(e,t,n){if("object"!==typeof e)throw new xt("options must be an object",xt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const s=r[a],l=t[s];if(l){const t=e[s],n=void 0===t||l(t,s,e);if(!0!==n)throw new xt("option "+s+" must be "+n,xt.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new xt("Unknown option "+s,xt.ERR_BAD_OPTION)}},validators:An},zn=Mn.validators;class Dn{constructor(e){this.defaults=e||{},this.interceptors={request:new Et,response:new Et}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Rr){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=on(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&Mn.assertOptions(n,{silentJSONParsing:zn.transitional(zn.boolean),forcedJSONParsing:zn.transitional(zn.boolean),clarifyTimeoutError:zn.transitional(zn.boolean)},!1),null!=r&&(mt.isFunction(r)?t.paramsSerializer={serialize:r}:Mn.assertOptions(r,{encode:zn.function,serialize:zn.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Mn.assertOptions(t,{baseUrl:zn.spelling("baseURL"),withXsrfToken:zn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&mt.merge(a.common,a[t.method]);a&&mt.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=Ht.concat(s,a);const l=[];let i=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});const o=[];let c;this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)});let d,u=0;if(!i){const e=[Rn.bind(this),void 0];for(e.unshift(...l),e.push(...o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=l.length;let m=t;for(u=0;u<d;){const e=l[u++],t=l[u++];try{m=e(m)}catch(f){t.call(this,f);break}}try{c=Rn.call(this,m)}catch(f){return Promise.reject(f)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return Ct(sn((e=on(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}mt.forEach(["delete","get","head","options"],function(e){Dn.prototype[e]=function(t,n){return this.request(on(n||{},{method:e,url:t,data:(n||{}).data}))}}),mt.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,a){return this.request(on(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Dn.prototype[e]=t(),Dn.prototype[e+"Form"]=t(!0)});const In=Dn;class Fn{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,a){n.reason||(n.reason=new Kt(e,r,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Fn(function(t){e=t}),cancel:e}}}const $n=Fn;const Un={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Un).forEach(e=>{let[t,n]=e;Un[n]=t});const qn=Un;const Bn=function e(t){const n=new In(t),r=_e(In.prototype.request,n);return mt.extend(r,In.prototype,n,{allOwnKeys:!0}),mt.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(on(t,n))},r}(Ft);Bn.Axios=In,Bn.CanceledError=Kt,Bn.CancelToken=$n,Bn.isCancel=Gt,Bn.VERSION=On,Bn.toFormData=jt,Bn.AxiosError=xt,Bn.Cancel=Bn.CanceledError,Bn.all=function(e){return Promise.all(e)},Bn.spread=function(e){return function(t){return e.apply(null,t)}},Bn.isAxiosError=function(e){return mt.isObject(e)&&!0===e.isAxiosError},Bn.mergeConfig=on,Bn.AxiosHeaders=Ht,Bn.formToJSON=e=>Dt(mt.isHTMLForm(e)?new FormData(e):e),Bn.getAdapter=Pn,Bn.HttpStatusCode=qn,Bn.default=Bn;const Vn=Bn,Wn=Vn.create({baseURL:"https://icii.onrender.com/api",headers:{"Content-Type":"application/json"}});Wn.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const Hn={async register(e){const t=await Wn.post("/auth/register",e);return t.data.token&&localStorage.setItem("token",t.data.token),t.data},async login(e){const t=await Wn.post("/auth/login",e);return t.data.token&&localStorage.setItem("token",t.data.token),t.data},async demoLogin(){const e=await Wn.post("/auth/demo");return e.data.token&&localStorage.setItem("token",e.data.token),e.data},getCurrentUser:async()=>(await Wn.get("/characters/me")).data,logout(){localStorage.removeItem("token")}},Qn=Wn;var Gn=n(414);const Jn=e=>{let{onLogin:t}=e;const[n,r]=(0,s.useState)(!1),[a,l]=(0,s.useState)(""),i=async()=>{r(!0),l("");try{const e=await Hn.demoLogin();t(e.user)}catch(e){l("Erreur lors de la connexion demo")}finally{r(!1)}},o=()=>{window.location.href="/login"};return(0,Gn.jsxs)("div",{className:"min-h-screen bg-sky-gradient",children:[(0,Gn.jsxs)("div",{className:"relative overflow-hidden",children:[(0,Gn.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-900/20 to-amber-600/20"}),(0,Gn.jsx)("div",{className:"relative max-w-7xl mx-auto px-4 py-16",children:(0,Gn.jsxs)("div",{className:"text-center",children:[(0,Gn.jsx)("h1",{className:"text-6xl font-medieval text-amber-900 mb-4 drop-shadow-lg",children:"\ud83c\udff0 Alidhan \ud83d\udc09"}),(0,Gn.jsx)("p",{className:"text-2xl text-amber-800 mb-2 italic",children:"MMORPG M\xe9di\xe9val Fantastique"}),(0,Gn.jsx)("p",{className:"text-lg text-amber-700 mb-8",children:"Forge ton destin dans le royaume l\xe9gendaire d'Alidhan"}),(0,Gn.jsxs)("div",{className:"flex justify-center gap-6 mb-12",children:[(0,Gn.jsx)("button",{onClick:i,disabled:n,className:"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white px-8 py-4 rounded-lg text-xl font-bold shadow-lg transform transition hover:scale-105",children:n?"\ud83c\udfae Chargement...":"\ud83c\udfae JOUER MAINTENANT"}),(0,Gn.jsx)("button",{onClick:o,className:"bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-700 hover:to-amber-800 text-white px-8 py-4 rounded-lg text-xl font-bold shadow-lg transform transition hover:scale-105",children:"\u2694\ufe0f SE CONNECTER"})]}),a&&(0,Gn.jsx)("div",{className:"text-red-600 text-lg text-center bg-red-100 p-3 rounded-lg mb-6 inline-block",children:a})]})})]}),(0,Gn.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-16",children:[(0,Gn.jsx)("h2",{className:"text-4xl font-medieval text-center text-amber-900 mb-12",children:"\ud83c\udf1f D\xe9couvre Alidhan \ud83c\udf1f"}),(0,Gn.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[(0,Gn.jsxs)("div",{className:"medieval-panel p-6 text-center transform hover:scale-105 transition",children:[(0,Gn.jsx)("div",{className:"text-6xl mb-4",children:"\u2694\ufe0f"}),(0,Gn.jsx)("h3",{className:"text-2xl font-bold text-amber-900 mb-3",children:"Trois Factions \xc9piques"}),(0,Gn.jsxs)("p",{className:"text-amber-800",children:[(0,Gn.jsx)("strong",{children:"Royalistes de Galoregor"})," - Noble d\xe9fense",(0,Gn.jsx)("br",{}),(0,Gn.jsx)("strong",{children:"Exil\xe9s de Kaldrass"})," - Puissance offensive",(0,Gn.jsx)("br",{}),(0,Gn.jsx)("strong",{children:"Cartel de Brumebois"})," - Richesse et commerce"]})]}),(0,Gn.jsxs)("div",{className:"medieval-panel p-6 text-center transform hover:scale-105 transition",children:[(0,Gn.jsx)("div",{className:"text-6xl mb-4",children:"\ud83e\uddd9\u200d\u2642\ufe0f"}),(0,Gn.jsx)("h3",{className:"text-2xl font-bold text-amber-900 mb-3",children:"Quatre Classes Uniques"}),(0,Gn.jsxs)("p",{className:"text-amber-800",children:[(0,Gn.jsx)("strong",{children:"Guerrier"})," - Ma\xeetre des armes",(0,Gn.jsx)("br",{}),(0,Gn.jsx)("strong",{children:"Mage"})," - Puissance magique",(0,Gn.jsx)("br",{}),(0,Gn.jsx)("strong",{children:"Archer"})," - Pr\xe9cision mortelle",(0,Gn.jsx)("br",{}),(0,Gn.jsx)("strong",{children:"Moine"})," - Sagesse et \xe9quilibre"]})]}),(0,Gn.jsxs)("div",{className:"medieval-panel p-6 text-center transform hover:scale-105 transition",children:[(0,Gn.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udca5"}),(0,Gn.jsx)("h3",{className:"text-2xl font-bold text-amber-900 mb-3",children:"Combat Tactique"}),(0,Gn.jsxs)("p",{className:"text-amber-800",children:[(0,Gn.jsx)("strong",{children:"8 sorts magiques"})," dans 5 \xe9coles",(0,Gn.jsx)("br",{}),(0,Gn.jsx)("strong",{children:"Syst\xe8me PA/PM"})," strat\xe9gique",(0,Gn.jsx)("br",{}),(0,Gn.jsx)("strong",{children:"Ennemis vari\xe9s"})," \xe0 combattre"]})]}),(0,Gn.jsxs)("div",{className:"medieval-panel p-6 text-center transform hover:scale-105 transition",children:[(0,Gn.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\uddfa\ufe0f"}),(0,Gn.jsx)("h3",{className:"text-2xl font-bold text-amber-900 mb-3",children:"Monde Immense"}),(0,Gn.jsxs)("p",{className:"text-amber-800",children:[(0,Gn.jsx)("strong",{children:"Cartes 18x16"})," proc\xe9durales",(0,Gn.jsx)("br",{}),(0,Gn.jsx)("strong",{children:"448 tuiles"})," personnalis\xe9es",(0,Gn.jsx)("br",{}),(0,Gn.jsx)("strong",{children:"Portails magiques"})," de t\xe9l\xe9portation"]})]}),(0,Gn.jsxs)("div",{className:"medieval-panel p-6 text-center transform hover:scale-105 transition",children:[(0,Gn.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udc65"}),(0,Gn.jsx)("h3",{className:"text-2xl font-bold text-amber-900 mb-3",children:"Syst\xe8me Social"}),(0,Gn.jsxs)("p",{className:"text-amber-800",children:[(0,Gn.jsx)("strong",{children:"4 Guildes"})," \xe0 rejoindre",(0,Gn.jsx)("br",{}),(0,Gn.jsx)("strong",{children:"Messages"})," entre joueurs",(0,Gn.jsx)("br",{}),(0,Gn.jsx)("strong",{children:"March\xe9"})," pour commercer"]})]}),(0,Gn.jsxs)("div",{className:"medieval-panel p-6 text-center transform hover:scale-105 transition",children:[(0,Gn.jsx)("div",{className:"text-6xl mb-4",children:"\u2699\ufe0f"}),(0,Gn.jsx)("h3",{className:"text-2xl font-bold text-amber-900 mb-3",children:"Gestion Avanc\xe9e"}),(0,Gn.jsxs)("p",{className:"text-amber-800",children:[(0,Gn.jsx)("strong",{children:"Panel Admin"})," complet",(0,Gn.jsx)("br",{}),(0,Gn.jsx)("strong",{children:"\xc9diteur de cartes"}),(0,Gn.jsx)("br",{}),(0,Gn.jsx)("strong",{children:"Gestion des joueurs"})]})]})]})]}),(0,Gn.jsx)("div",{className:"bg-gradient-to-r from-amber-800 to-amber-900 py-12",children:(0,Gn.jsx)("div",{className:"max-w-4xl mx-auto px-4",children:(0,Gn.jsxs)("div",{className:"grid md:grid-cols-3 gap-8 text-center text-white",children:[(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("div",{className:"text-4xl font-bold mb-2",children:"23,610"}),(0,Gn.jsx)("div",{className:"text-xl",children:"Aventuriers Inscrits"})]}),(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("div",{className:"text-4xl font-bold mb-2",children:"174"}),(0,Gn.jsx)("div",{className:"text-xl",children:"H\xe9ros En Ligne"})]}),(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("div",{className:"text-4xl font-bold mb-2",children:"100%"}),(0,Gn.jsx)("div",{className:"text-xl",children:"Gratuit \xc0 Jouer"})]})]})})}),(0,Gn.jsx)("div",{className:"bg-amber-50 py-16",children:(0,Gn.jsxs)("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[(0,Gn.jsx)("h2",{className:"text-4xl font-medieval text-amber-900 mb-6",children:"\ud83c\udfae Pr\xeat pour l'Aventure ?"}),(0,Gn.jsxs)("p",{className:"text-xl text-amber-800 mb-8",children:["Rejoins des milliers de joueurs dans l'univers l\xe9gendaire d'Alidhan.",(0,Gn.jsx)("br",{}),"Ton destin t'attend dans ce royaume m\xe9di\xe9val fantastique !"]}),(0,Gn.jsxs)("div",{className:"flex justify-center gap-6",children:[(0,Gn.jsx)("button",{onClick:i,disabled:n,className:"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white px-10 py-5 rounded-lg text-2xl font-bold shadow-lg transform transition hover:scale-105",children:n?"\u26a1 Connexion...":"\u26a1 MODE D\xc9MO"}),(0,Gn.jsx)("button",{onClick:o,className:"bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-700 hover:to-amber-800 text-white px-10 py-5 rounded-lg text-2xl font-bold shadow-lg transform transition hover:scale-105",children:"\ud83c\udff0 INSCRIPTION"})]})]})}),(0,Gn.jsx)("div",{className:"bg-amber-900 text-amber-100 py-8",children:(0,Gn.jsxs)("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[(0,Gn.jsxs)("p",{className:"text-lg mb-4",children:["\u2694\ufe0f ",(0,Gn.jsx)("strong",{children:"Alidhan MMORPG"})," - Jeu de r\xf4le m\xe9di\xe9val fantastique \u2694\ufe0f"]}),(0,Gn.jsxs)("div",{className:"flex justify-center gap-8 text-sm",children:[(0,Gn.jsx)("a",{href:"/login",className:"hover:text-white transition",children:"Connexion"}),(0,Gn.jsx)("a",{href:"/admin/login",className:"hover:text-white transition",children:"Administration"}),(0,Gn.jsx)("span",{children:"\xa9 2025 Alidhan - Tous droits r\xe9serv\xe9s"})]})]})})]})},Kn=e=>{let{onLogin:t}=e;const[n,r]=(0,s.useState)(!0),[a,l]=(0,s.useState)({username:"",password:"",email:""}),[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(""),u=e=>{l({...a,[e.target.name]:e.target.value})};return(0,Gn.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4 bg-sky-gradient",children:(0,Gn.jsxs)("div",{className:"flex w-full max-w-6xl",children:[(0,Gn.jsxs)("div",{className:"w-64 medieval-panel p-6 mr-8",children:[(0,Gn.jsxs)("div",{className:"text-center mb-8",children:[(0,Gn.jsx)("h1",{className:"text-3xl font-medieval text-amber-900 mb-2",children:"Alidhan"}),(0,Gn.jsx)("p",{className:"text-sm text-amber-700 italic",children:"Jeu de r\xf4le m\xe9di\xe9val en ligne"})]}),(0,Gn.jsxs)("nav",{className:"space-y-3",children:[(0,Gn.jsx)("div",{className:"medieval-button text-center",children:"ACCUEIL"}),(0,Gn.jsx)("div",{className:"medieval-button text-center",children:"INSCRIPTION"}),(0,Gn.jsx)("div",{className:"medieval-button text-center",children:"CHARTE"}),(0,Gn.jsx)("div",{className:"medieval-button text-center",children:"FORUM"}),(0,Gn.jsx)("div",{className:"medieval-button text-center",children:"FAQ"}),(0,Gn.jsx)("div",{className:"medieval-button text-center",children:"APER\xc7U"}),(0,Gn.jsx)("div",{className:"medieval-button text-center",children:"HISTOIRE"}),(0,Gn.jsx)("div",{className:"medieval-button text-center",children:"SUPPORT"}),(0,Gn.jsx)("div",{className:"mt-8 pt-4 border-t border-amber-400",children:(0,Gn.jsx)("a",{href:"/admin/login",className:"block text-center bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded font-bold text-sm transition-colors",title:"Acc\xe8s Administrateur",children:"\ud83d\udd10 ADMIN"})})]}),(0,Gn.jsxs)("div",{className:"mt-8 p-4 bg-amber-50 rounded border-2 border-amber-600",children:[(0,Gn.jsx)("h3",{className:"font-bold text-amber-900 mb-2",children:"Joueurs"}),(0,Gn.jsx)("p",{className:"text-sm text-amber-700",children:"Inscrits: 23 610"}),(0,Gn.jsx)("p",{className:"text-sm text-amber-700",children:"Connect\xe9s: 174"})]})]}),(0,Gn.jsxs)("div",{className:"flex-1 flex",children:[(0,Gn.jsxs)("div",{className:"flex-1 medieval-panel p-8 mr-8",children:[(0,Gn.jsx)("h2",{className:"text-2xl font-medieval text-center text-amber-900 mb-6",children:"BIENVENUE SUR ALIDHAN"}),(0,Gn.jsxs)("div",{className:"space-y-4 text-amber-800",children:[(0,Gn.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Gn.jsx)("div",{className:"w-16 h-20 bg-gradient-to-b from-red-400 to-red-600 rounded-lg flex items-center justify-center",children:"\ud83d\udc09"}),(0,Gn.jsxs)("div",{className:"flex-1",children:[(0,Gn.jsxs)("p",{className:"mb-2",children:[(0,Gn.jsx)("strong",{children:"Alidhan"})," est un jeu de r\xf4le dans un univers m\xe9di\xe9val fantastique. Vous incarnez un personnage que vous devez faire \xe9voluer dans le royaume."]}),(0,Gn.jsx)("p",{children:"Chaque jour vous recevez 120 Points d'Action pour faire interagir votre personnage avec le monde qui l'entoure et 240 points de mobilit\xe9 pour le faire bouger."})]})]}),(0,Gn.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Gn.jsx)("div",{className:"w-16 h-20 bg-gradient-to-b from-blue-400 to-blue-600 rounded-lg flex items-center justify-center",children:"\u2694\ufe0f"}),(0,Gn.jsx)("div",{className:"flex-1",children:(0,Gn.jsx)("p",{children:"Vous venez \xe0 peine d'entrer sur les terres tourment\xe9es du royaume d'Alidhan, et d\xe9j\xe0, il vous faut faire un choix ! Trois \"grandes\" familles se concentrent pour la domination du royaume, et vous devez rejoindre l'une d'elle."})})]}),(0,Gn.jsxs)("div",{className:"text-center mt-6",children:[(0,Gn.jsx)("p",{className:"text-lg font-semibold text-amber-900",children:"Que vous vous sentiez l'\xe2me d'\xeatre guerrier, mage, archer ou moine ; que vous ayez l'\xe2me d'un voleur ou d'un h\xe9ros justicier d'un assassin ou d'un h\xe9ros courageux, vous trouverez votre place en ces lieux."}),(0,Gn.jsx)("p",{className:"mt-4 text-amber-700",children:"Prenez votre courage \xe0 deux mains et rejoignez maintenant ces terres !! Vous y trouverez la mort ou la gloire, \xe0 vous de bien choisir !!"})]})]}),(0,Gn.jsx)("div",{className:"text-center mt-8",children:(0,Gn.jsx)("button",{onClick:async()=>{o(!0),d("");try{const e=await Hn.demoLogin();t(e.user)}catch(e){d("Erreur lors de la connexion demo")}finally{o(!1)}},disabled:i,className:"medieval-button text-lg px-8 py-3",children:i?"Connexion...":"MODE DEMO"})})]}),(0,Gn.jsxs)("div",{className:"w-80 medieval-panel p-6",children:[(0,Gn.jsx)("div",{className:"text-center mb-6",children:(0,Gn.jsx)("h3",{className:"text-xl font-medieval text-amber-900 mb-4",children:n?"Connexion":"Inscription"})}),(0,Gn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),o(!0),d("");try{let e;e=n?await Hn.login({username:a.username,password:a.password}):await Hn.register(a),t(e.user)}catch(l){var r,s;d((null===(r=l.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.detail)||"Erreur de connexion")}finally{o(!1)}},className:"space-y-4",children:[(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-amber-900 font-semibold mb-2",children:"Pseudo :"}),(0,Gn.jsx)("input",{type:"text",name:"username",value:a.username,onChange:u,className:"medieval-input w-full",required:!0})]}),(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-amber-900 font-semibold mb-2",children:"Mot de passe :"}),(0,Gn.jsx)("input",{type:"password",name:"password",value:a.password,onChange:u,className:"medieval-input w-full",required:!0})]}),!n&&(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-amber-900 font-semibold mb-2",children:"Email :"}),(0,Gn.jsx)("input",{type:"email",name:"email",value:a.email,onChange:u,className:"medieval-input w-full",required:!0})]}),c&&(0,Gn.jsx)("div",{className:"text-red-600 text-sm text-center bg-red-100 p-2 rounded",children:c}),(0,Gn.jsx)("button",{type:"submit",disabled:i,className:"medieval-button w-full",children:i?"Chargement...":n?"SE CONNECTER":"S'INSCRIRE"}),(0,Gn.jsx)("div",{className:"text-center",children:(0,Gn.jsx)("button",{type:"button",onClick:()=>r(!n),className:"text-amber-700 hover:text-amber-900 text-sm underline",children:n?"Cr\xe9er un compte":"J'ai d\xe9j\xe0 un compte"})}),n&&(0,Gn.jsx)("div",{className:"text-center",children:(0,Gn.jsx)("button",{type:"button",className:"text-amber-700 hover:text-amber-900 text-sm underline",children:"Mot de passe oubli\xe9 ?"})})]})]})]})]})})},Xn={getGameData:async()=>(await Qn.get("/game-data")).data,getMap:async()=>(await Qn.get("/map")).data,getEnemies:async()=>(await Qn.get("/enemies")).data,getPortals:async()=>(await Qn.get("/portals")).data,usePortal:async e=>(await Qn.post("/portals/teleport",{portal_id:e})).data,getActiveCharacters:async()=>(await Qn.get("/characters/active")).data,getOnlinePlayersCount:async()=>(await Qn.get("/online-players")).data,createCharacter:async e=>(await Qn.post("/characters",e)).data,getCharacter:async()=>(await Qn.get("/characters/me")).data,moveCharacter:async e=>(await Qn.post("/characters/move",{direction:e})).data,async attackEnemy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{action_type:"attack"};return(await Qn.post("/combat/attack",e)).data}};const Yn=new class{constructor(){if(this.socket=null,this.isConnected=!1,this.eventListeners={},this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectInterval=3e3,this.token=localStorage.getItem("token"),this.userId=null,this.usePolling=!1,this.pollingInterval=null,this.lastPlayerPositions=new Map,this.token)try{const e=JSON.parse(atob(this.token.split(".")[1]));this.userId=e.user_id}catch(e){console.error("Invalid token:",e)}}connect(){return this.token&&this.userId?(this.tryWebSocketConnection()||(console.log("\ud83d\udd04 WebSocket failed, falling back to polling mode"),this.startPollingMode()),!0):(console.error("No valid token or user ID found"),!1)}tryWebSocketConnection(){try{const e=`${"https://icii.onrender.com".replace("https://","wss://").replace("http://","ws://")}/ws/${this.userId}?token=${this.token}`;return this.socket=new WebSocket(e),this.socket.onopen=()=>{console.log("\ud83c\udf10 WebSocket connected"),this.isConnected=!0,this.reconnectAttempts=0,this.usePolling=!1,this.emit("connected"),this.pingInterval=setInterval(()=>{this.isConnected&&this.send("ping",{})},3e4)},this.socket.onmessage=e=>{try{const t=JSON.parse(e.data);this.emit(t.type,t.data)}catch(t){console.error("Error parsing WebSocket message:",t)}},this.socket.onclose=()=>{console.log("\ud83d\udd0c WebSocket disconnected"),this.isConnected=!1,this.emit("disconnected"),this.pingInterval&&clearInterval(this.pingInterval),this.reconnectAttempts<this.maxReconnectAttempts?setTimeout(()=>{this.reconnectAttempts++,console.log(`\ud83d\udd04 Reconnecting... (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.connect()},this.reconnectInterval):(console.log("\ud83d\udd04 Max WebSocket reconnect attempts reached, switching to polling"),this.startPollingMode())},this.socket.onerror=e=>{console.error("WebSocket error:",e),this.emit("error",e)},!0}catch(e){return console.error("Failed to create WebSocket connection:",e),!1}}startPollingMode(){this.usePolling=!0,this.isConnected=!0,this.emit("connected"),this.pollingInterval=setInterval(async()=>{try{await this.pollForUpdates()}catch(e){console.error("Polling error:",e)}},5e3),console.log("\ud83d\udce1 Polling mode activated (5s intervals)")}async pollForUpdates(){try{const e=await fetch("https://icii.onrender.com/api/characters/active",{headers:{Authorization:`Bearer ${this.token}`}});if(e.ok){const t=await e.json(),n=new Map;t.active_characters.forEach(e=>{n.set(e.id,e);const t=this.lastPlayerPositions.get(e.id);t?t.position_x===e.position_x&&t.position_y===e.position_y||this.emit("player_moved",{id:e.id,name:e.name,position_x:e.position_x,position_y:e.position_y}):this.emit("player_joined",e)});for(const[e,r]of this.lastPlayerPositions)n.has(e)||this.emit("player_left",{id:e,name:r.name});this.lastPlayerPositions=n}}catch(e){console.error("Error during polling:",e)}}disconnect(){this.socket&&(this.socket.close(),this.socket=null),this.pingInterval&&clearInterval(this.pingInterval),this.pollingInterval&&clearInterval(this.pollingInterval),this.isConnected=!1,this.usePolling=!1}send(e,t){if(this.usePolling)return"chat"===e&&(this.sendChatViaAPI(t.message,t.message_type),!0);if(this.socket&&this.isConnected)try{return this.socket.send(JSON.stringify({type:e,...t})),!0}catch(n){return console.error("Error sending WebSocket message:",n),!1}return!1}async sendChatViaAPI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";try{if((await fetch("https://icii.onrender.com/api/chat/send",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.token}`},body:JSON.stringify({message:e,message_type:t})})).ok){const n=await fetch("https://icii.onrender.com/api/characters/me",{headers:{Authorization:`Bearer ${this.token}`}});if(n.ok){const r=await n.json();this.emit("chat_message",{user_id:this.userId,character_name:r.name,message:e,message_type:t,timestamp:(new Date).toISOString()})}return!0}}catch(n){console.error("Error sending chat via API:",n)}return!1}sendChatMessage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";return this.usePolling?this.sendChatViaAPI(e,t):this.send("chat",{message:e,message_type:t})}on(e,t){this.eventListeners[e]||(this.eventListeners[e]=[]),this.eventListeners[e].push(t)}off(e,t){this.eventListeners[e]&&(this.eventListeners[e]=this.eventListeners[e].filter(e=>e!==t))}emit(e,t){this.eventListeners[e]&&this.eventListeners[e].forEach(n=>{try{n(t)}catch(r){console.error(`Error in WebSocket event handler for ${e}:`,r)}})}getConnectionStatus(){return{connected:this.isConnected,attempts:this.reconnectAttempts,maxAttempts:this.maxReconnectAttempts,mode:this.usePolling?"polling":"websocket"}}},Zn=Yn,er=e=>{var t,n;let{gameData:r,onCharacterCreated:a,onLogout:l}=e;const[i,o]=(0,s.useState)({name:"",faction:"",character_class:""}),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(""),f=e=>{o({...i,[e.target.name]:e.target.value})};return(0,Gn.jsx)("div",{className:"min-h-screen bg-sky-gradient flex items-center justify-center p-4",children:(0,Gn.jsxs)("div",{className:"medieval-panel p-8 max-w-2xl w-full",children:[(0,Gn.jsxs)("div",{className:"text-center mb-8",children:[(0,Gn.jsx)("h1",{className:"text-3xl font-medieval text-amber-900 mb-2",children:"Cr\xe9ation de Personnage"}),(0,Gn.jsx)("p",{className:"text-amber-700",children:"Forgez votre destin dans les terres d'Alidhan"})]}),(0,Gn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),i.name&&i.faction&&i.character_class){d(!0),m("");try{const e=await Xn.createCharacter(i);a(e)}catch(r){var t,n;m((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Erreur lors de la cr\xe9ation du personnage")}finally{d(!1)}}else m("Veuillez remplir tous les champs")},className:"space-y-6",children:[(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-amber-900 font-semibold mb-2",children:"Nom du personnage :"}),(0,Gn.jsx)("input",{type:"text",name:"name",value:i.name,onChange:f,className:"medieval-input w-full",placeholder:"Entrez le nom de votre h\xe9ros",maxLength:"20"})]}),(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-amber-900 font-semibold mb-3",children:"Choisissez votre faction :"}),(0,Gn.jsx)("div",{className:"grid grid-cols-1 gap-3",children:null===r||void 0===r||null===(t=r.factions)||void 0===t?void 0:t.map(e=>(0,Gn.jsxs)("label",{className:"cursor-pointer",children:[(0,Gn.jsx)("input",{type:"radio",name:"faction",value:e.id,checked:i.faction===e.id,onChange:f,className:"sr-only"}),(0,Gn.jsxs)("div",{className:"p-4 border-2 rounded-lg transition-all "+(i.faction===e.id?"border-amber-600 bg-amber-100":"border-amber-300 bg-amber-50 hover:border-amber-500"),children:[(0,Gn.jsx)("h3",{className:"font-bold text-amber-900",children:e.name}),(0,Gn.jsx)("p",{className:"text-sm text-amber-700 mt-1",children:e.bonus.description})]})]},e.id))})]}),(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-amber-900 font-semibold mb-3",children:"Choisissez votre classe :"}),(0,Gn.jsx)("div",{className:"grid grid-cols-2 gap-3",children:null===r||void 0===r||null===(n=r.classes)||void 0===n?void 0:n.map(e=>(0,Gn.jsxs)("label",{className:"cursor-pointer",children:[(0,Gn.jsx)("input",{type:"radio",name:"character_class",value:e.id,checked:i.character_class===e.id,onChange:f,className:"sr-only"}),(0,Gn.jsxs)("div",{className:"p-4 border-2 rounded-lg transition-all "+(i.character_class===e.id?"border-amber-600 bg-amber-100":"border-amber-300 bg-amber-50 hover:border-amber-500"),children:[(0,Gn.jsx)("h3",{className:"font-bold text-amber-900 text-center",children:e.name}),(0,Gn.jsxs)("div",{className:"text-xs text-amber-700 mt-2",children:[(0,Gn.jsxs)("div",{children:["Force: ",e.stats.strength]}),(0,Gn.jsxs)("div",{children:["Intelligence: ",e.stats.intelligence]}),(0,Gn.jsxs)("div",{children:["Agilit\xe9: ",e.stats.agility]}),(0,Gn.jsxs)("div",{children:["Constitution: ",e.stats.constitution]}),(0,Gn.jsxs)("div",{children:["Sagesse: ",e.stats.wisdom]})]})]})]},e.id))})]}),u&&(0,Gn.jsx)("div",{className:"text-red-600 text-center bg-red-100 p-3 rounded border border-red-300",children:u}),(0,Gn.jsxs)("div",{className:"flex justify-between items-center pt-4",children:[(0,Gn.jsx)("button",{type:"button",onClick:l,className:"text-amber-700 hover:text-amber-900 underline",children:"Retour \xe0 la connexion"}),(0,Gn.jsx)("button",{type:"submit",disabled:c,className:"medieval-button text-lg px-8 py-3",children:c?"Cr\xe9ation...":"Cr\xe9er le Personnage"})]})]})]})})},tr=e=>{let{enemy:t,character:n,onCombatEnd:r,onEnemyUpdate:a}=e;const[l,i]=(0,s.useState)([]),[o,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)(t);(0,s.useEffect)(()=>{i([`\ud83d\udc80 Un ${t.enemy_type} niveau ${t.level} vous barre la route !`])},[t]);return(0,Gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-end justify-center z-50",children:(0,Gn.jsx)("div",{className:"bg-gradient-to-t from-gray-800 via-gray-700 to-gray-600 w-full h-64 border-t-4 border-amber-600 shadow-2xl",children:(0,Gn.jsxs)("div",{className:"flex h-full",children:[(0,Gn.jsxs)("div",{className:"w-32 p-4 flex flex-col items-center justify-center bg-gradient-to-br from-blue-600 to-blue-800 border-r-2 border-gray-600",children:[(0,Gn.jsx)("div",{className:"bg-white rounded-lg p-3 mb-2 shadow-lg",children:(0,Gn.jsx)("div",{className:"text-4xl font-bold text-blue-600",children:"\u2694\ufe0f"})}),(0,Gn.jsx)("div",{className:"text-white text-xs text-center font-semibold",children:"ATTAQUE"})]}),(0,Gn.jsxs)("div",{className:"flex-1 p-4 text-white",children:[(0,Gn.jsxs)("div",{className:"flex items-center mb-3",children:[(0,Gn.jsx)("div",{className:"text-3xl mr-3",children:(e=>{switch(e){case"Gobelin":default:return"\ud83d\udc79";case"Orc":return"\ud83d\udc17";case"Troll":return"\ud83e\uddcc";case"Dragon":return"\ud83d\udc09"}})(d.enemy_type)}),(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("h3",{className:"text-xl font-bold text-amber-300",children:d.enemy_type}),(0,Gn.jsxs)("p",{className:"text-sm text-gray-300",children:["Niveau ",d.level]})]})]}),(0,Gn.jsxs)("div",{className:"mb-4",children:[(0,Gn.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,Gn.jsx)("span",{children:"Points de Vie"}),(0,Gn.jsxs)("span",{children:[d.health,"/",d.max_health]})]}),(0,Gn.jsx)("div",{className:"w-full bg-gray-600 rounded-full h-4 shadow-inner",children:(0,Gn.jsx)("div",{className:"bg-gradient-to-r from-red-600 to-red-500 h-4 rounded-full transition-all duration-500 shadow-lg",style:{width:d.health/d.max_health*100+"%"}})})]}),(0,Gn.jsx)("div",{className:"bg-black bg-opacity-50 rounded p-2 h-16 overflow-y-auto text-xs",children:l.map((e,t)=>(0,Gn.jsx)("div",{className:"mb-1",children:e},t))}),(0,Gn.jsxs)("div",{className:"flex justify-center space-x-4 mt-3",children:[(0,Gn.jsx)("button",{onClick:async()=>{if(!(o||n.pa<5)){c(!0);try{const e=await Xn.attackEnemy(),t={...d};t.health=Math.max(0,t.health-e.damage_dealt),u(t);const n=[...l];n.push(`\u2694\ufe0f Vous infligez ${e.damage_dealt} d\xe9g\xe2ts !`),e.damage_received>0&&n.push(`\ud83d\udca5 ${d.enemy_type} vous inflige ${e.damage_received} d\xe9g\xe2ts !`),e.enemy_defeated&&(n.push(`\ud83c\udfc6 ${d.enemy_type} est vaincu ! +${e.rewards.exp} XP, +${e.rewards.gold} or`),setTimeout(()=>{a(),r()},2e3)),i(n);await Xn.getCharacter()}catch(s){var e,t;i([...l,`\u274c Erreur: ${(null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Erreur de combat"}`])}finally{c(!1)}}},disabled:o||n.pa<5,className:"px-4 py-1 rounded font-bold text-sm "+(o||n.pa<5?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white shadow-lg"),children:o?"\u23f3":"\u2694\ufe0f Attaquer (5 PA)"}),(0,Gn.jsx)("button",{onClick:()=>{i([...l,"\ud83c\udfc3 Vous prenez la fuite !"]),setTimeout(()=>{r()},1e3)},disabled:o,className:"px-4 py-1 bg-yellow-600 hover:bg-yellow-700 text-white rounded font-bold text-sm shadow-lg",children:"\ud83c\udfc3 Fuir"})]})]}),(0,Gn.jsxs)("div",{className:"w-32 p-4 bg-gradient-to-bl from-green-600 to-green-800 border-l-2 border-gray-600",children:[(0,Gn.jsx)("div",{className:"text-amber-300 font-bold text-sm mb-3 text-center",children:"ACTIONS"}),(0,Gn.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Gn.jsxs)("div",{className:"bg-gray-700 rounded p-2 text-center cursor-pointer hover:bg-gray-600",children:[(0,Gn.jsx)("div",{className:"text-lg",children:"\ud83e\uddd9\u200d\u2642\ufe0f"}),(0,Gn.jsx)("div",{className:"text-xs text-white",children:"Sort"})]}),(0,Gn.jsxs)("div",{className:"bg-gray-700 rounded p-2 text-center cursor-pointer hover:bg-gray-600",children:[(0,Gn.jsx)("div",{className:"text-lg",children:"\ud83e\uddea"}),(0,Gn.jsx)("div",{className:"text-xs text-white",children:"Objet"})]}),(0,Gn.jsxs)("div",{className:"bg-gray-700 rounded p-2 text-center cursor-pointer hover:bg-gray-600",children:[(0,Gn.jsx)("div",{className:"text-lg",children:"\ud83d\udee1\ufe0f"}),(0,Gn.jsx)("div",{className:"text-xs text-white",children:"D\xe9fense"})]}),(0,Gn.jsxs)("div",{className:"bg-gray-700 rounded p-2 text-center cursor-pointer hover:bg-gray-600",children:[(0,Gn.jsx)("div",{className:"text-lg",children:"\ud83d\udc41\ufe0f"}),(0,Gn.jsx)("div",{className:"text-xs text-white",children:"Observer"})]})]})]})]})})})},nr=e=>{let{map:t,character:n,onCharacterUpdate:r,realtimeCharacters:a=[]}=e;const[l,i]=(0,s.useState)(!1),[o,c]=(0,s.useState)(""),[d,u]=(0,s.useState)(null),[m,f]=(0,s.useState)([]),[p,h]=(0,s.useState)([]),[x,b]=(0,s.useState)(new Set),[g,v]=(0,s.useState)(null),[y,j]=(0,s.useState)(!1),[N,w]=(0,s.useState)([]);s.useEffect(()=>{const e=async()=>{try{const e=await Xn.getEnemies();f(e.enemies||[]);const t=await Xn.getPortals();h(t.portals||[]);const r=(await Xn.getActiveCharacters()).active_characters.filter(e=>e.id!==(null===n||void 0===n?void 0:n.id));w(r)}catch(e){console.error("Error loading enemies, portals and players:",e)}};if(n){e();const t=setInterval(e,3e3);return()=>clearInterval(t)}},[n]);const k=(e,t,n,r)=>{const a=Math.abs(e-n),s=Math.abs(t-r);return a<=1&&s<=1&&!(0===a&&0===s)},S=(e,t)=>p.find(n=>n.from_x===e&&n.from_y===t),_=async(e,t)=>{if(!n||l||y)return;const a=S(e,t);if(a&&n.position_x===e&&n.position_y===t)return void await(async e=>{if(!l&&n){if(n.level<e.level_required)return c(`\u26a0\ufe0f Niveau ${e.level_required} requis pour utiliser ce portail !`),void setTimeout(()=>c(""),3e3);i(!0);try{const t=await Xn.usePortal(e.id);r(t.character),c(`\u2728 ${t.message}`),setTimeout(()=>c(""),3e3)}catch(s){var t,a;c(`\u274c ${(null===(t=s.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||"Erreur lors de la t\xe9l\xe9portation"}`),setTimeout(()=>c(""),3e3)}finally{i(!1)}}})(a);const s=A(e,t);if(s&&!x.has(s.id))return v(s),void j(!0);if(!k(e,t,n.position_x,n.position_y))return;const o=((e,t,n,r)=>{const a=e-n,s=t-r;return 0===a&&-1===s?"north":0===a&&1===s?"south":-1===a&&0===s?"west":1===a&&0===s?"east":-1===a&&-1===s?"northwest":1===a&&-1===s?"northeast":-1===a&&1===s?"southwest":1===a&&1===s?"southeast":null})(e,t,n.position_x,n.position_y);o&&await M(o)},C=e=>{switch(e){case"grass":default:return"/assets/tiles/grass.png";case"water":return"/assets/tiles/water.svg";case"forest":return"/assets/tiles/tree.png";case"rock":return"/assets/tiles/rock.svg";case"road":return"/assets/tiles/road.svg";case"house":return"/assets/tiles/castle.png";case"portal":return"/assets/tiles/portal.svg";case"bridge":return"/assets/tiles/bridge.png"}},E=e=>{switch(e){case"grass":return"Plaine";case"water":return"Eau";case"forest":return"For\xeat";case"rock":return"Rocher";case"road":return"Route";case"house":return"Maison";case"portal":return"Portail";case"bridge":return"Pont";default:return"Terrain"}},P=(e,t)=>a.find(r=>r.position_x===e&&r.position_y===t&&r.id!==(null===n||void 0===n?void 0:n.id)),T=e=>{switch(e){case"Guerrier":return"\u2694\ufe0f";case"Mage":return"\ud83d\udd2e";case"Archer":return"\ud83c\udff9";case"Moine":return"\u262f\ufe0f";default:return"\ud83d\udc64"}},R=e=>{switch(e){case"Royalistes de Galoregor":return"#3b82f6";case"Exil\xe9s de Kaldrass":return"#ef4444";case"Cartel de Brumebois":return"#10b981";default:return"#6b7280"}},O=e=>{switch(e){case"Gobelin":default:return"\ud83d\udc79";case"Orc":return"\ud83d\udc17";case"Troll":return"\ud83e\uddcc";case"Dragon":return"\ud83d\udc09"}},A=(e,t)=>m.find(n=>n.position_x===e&&n.position_y===t&&!x.has(n.id)),L=async()=>{try{const e=await Xn.getEnemies();f(e.enemies||[]);const t=await Xn.getPortals();h(t.portals||[]);const n=await Xn.getCharacter();r(n)}catch(e){console.error("Error reloading data:",e)}},M=async e=>{if(!l&&n){if(n.pm<10)return c("\u26a0\ufe0f Pas assez de PM pour se d\xe9placer !"),void setTimeout(()=>c(""),3e3);i(!0);try{const t=await Xn.moveCharacter(e);r(t.character);const n=S(t.character.position_x,t.character.position_y);if(n){if(!(t.character.level<n.level_required))return setTimeout(async()=>{try{const e=await Xn.usePortal(n.id);r(e.character),c(`\u2728 ${e.message}`),setTimeout(()=>c(""),3e3)}catch(a){var e,t;c(`\u274c ${(null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Erreur lors de la t\xe9l\xe9portation"}`),setTimeout(()=>c(""),3e3)}},500),void c(`\ud83c\udf00 Portail activ\xe9 ! T\xe9l\xe9portation vers ${n.name}...`);c(`\u26a0\ufe0f Niveau ${n.level_required} requis pour utiliser ce portail !`),setTimeout(()=>c(""),3e3)}const a=A(t.character.position_x,t.character.position_y);a&&!x.has(a.id)?(v(a),j(!0),c("")):n||(c(`\u2705 D\xe9placement vers ${e} r\xe9ussi !`),setTimeout(()=>c(""),2e3))}catch(s){var t,a;c(`\u274c ${(null===(t=s.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||"Erreur lors du d\xe9placement"}`),setTimeout(()=>c(""),3e3)}finally{i(!1)}}},z=e=>{if(!l)switch(e.key.toLowerCase()){case"z":case"arrowup":M("north");break;case"s":case"arrowdown":M("south");break;case"q":case"arrowleft":M("west");break;case"d":case"arrowright":M("east");break;case" ":e.preventDefault(),(async()=>{if(!l&&n){if(n.pa<5)return c("\u26a0\ufe0f Pas assez de PA pour attaquer !"),void setTimeout(()=>c(""),3e3);i(!0);try{const e=await Xn.attackEnemy(),t=await Xn.getCharacter();r(t);const n=await Xn.getEnemies();f(n.enemies||[]),e.enemy_defeated?c(`\ud83c\udfc6 Ennemi vaincu ! +${e.rewards.exp} XP, +${e.rewards.gold} or`):c(`\u2694\ufe0f ${e.damage_dealt} d\xe9g\xe2ts inflig\xe9s. ${e.damage_received||0} d\xe9g\xe2ts re\xe7us.`),setTimeout(()=>c(""),4e3)}catch(a){var e,t;c(`\u274c ${(null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Erreur lors du combat"}`),setTimeout(()=>c(""),3e3)}finally{i(!1)}}})()}};return s.useEffect(()=>{const e=e=>z(e);return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[l,n]),t&&n?(0,Gn.jsxs)("div",{className:"w-full h-full flex flex-col",children:[(0,Gn.jsx)("div",{className:"bg-gradient-to-r from-amber-700 to-amber-600 p-2 rounded-t-lg border-2 border-amber-800 border-b-0",children:(0,Gn.jsx)("h2",{className:"text-base font-medieval text-amber-100 text-center",children:"\ud83d\uddfa\ufe0f Carte du Royaume d'Alidhan"})}),(0,Gn.jsx)("div",{className:"flex-1 flex justify-center items-center bg-gradient-to-b from-green-100 to-green-200 p-3 border-2 border-amber-800 border-t-0",children:(0,Gn.jsxs)("div",{className:"relative",children:[d&&(0,Gn.jsxs)("div",{className:"absolute bg-black text-white px-2 py-1 rounded text-xs z-20 pointer-events-none",style:{left:23*d.x+16,top:23*d.y-25},children:[E(d.terrain_type)," (",d.x,", ",d.y,")"]}),(0,Gn.jsx)("div",{className:"game-grid",children:t.map((e,t)=>e.map((e,r)=>(0,Gn.jsxs)("div",{className:"map-tile "+(k(r,t,n.position_x,n.position_y)?"clickable":""),style:{backgroundImage:`url(${C(e.terrain_type)})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},onClick:()=>_(r,t),onMouseEnter:()=>u({x:r,y:t,terrain_type:e.terrain_type}),onMouseLeave:()=>u(null),title:`${E(e.terrain_type)} (${r}, ${t})`,children:[(()=>{const e=S(r,t);if(e){const a=n.position_x===r&&n.position_y===t;return(0,Gn.jsx)("div",{className:"portal-marker "+(a?"portal-active":""),title:`${e.name} - Niveau ${e.level_required} requis${a?" (Cliquez pour utiliser)":""}`,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"18px",zIndex:3,textShadow:"1px 1px 2px rgba(0,0,0,0.8)",cursor:a?"pointer":"default",animation:a?"pulse 1.5s infinite":"none",color:a?"#8b5cf6":"#6366f1"},children:"\ud83c\udf00"})}return null})(),(()=>{const e=P(r,t);return e?(0,Gn.jsxs)("div",{className:"realtime-player-marker",title:`${e.name} - ${e.character_class} Niveau ${e.level} (${e.faction}) [TEMPS R\xc9EL]`,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:9,display:"flex",flexDirection:"column",alignItems:"center",pointerEvents:"none"},children:[(0,Gn.jsx)("div",{style:{fontSize:"16px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",marginBottom:"2px",animation:"pulse 2s infinite"},children:T(e.character_class)}),(0,Gn.jsx)("div",{style:{fontSize:"8px",fontWeight:"bold",color:R(e.faction),textShadow:"1px 1px 1px rgba(0,0,0,0.8)",backgroundColor:"rgba(255,255,255,0.9)",padding:"1px 2px",borderRadius:"2px",lineHeight:"1",border:"1px solid #00ff00"},children:e.name})]}):null})(),(()=>{const e=((e,t)=>N.find(n=>n.position_x===e&&n.position_y===t))(r,t),n=P(r,t);return e&&!n?(0,Gn.jsxs)("div",{className:"other-player-marker",title:`${e.name} - ${e.character_class} Niveau ${e.level} (${e.faction})`,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:8,display:"flex",flexDirection:"column",alignItems:"center",pointerEvents:"none"},children:[(0,Gn.jsx)("div",{style:{fontSize:"16px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",marginBottom:"2px",opacity:.7},children:T(e.character_class)}),(0,Gn.jsx)("div",{style:{fontSize:"8px",fontWeight:"bold",color:R(e.faction),textShadow:"1px 1px 1px rgba(0,0,0,0.8)",backgroundColor:"rgba(255,255,255,0.8)",padding:"1px 2px",borderRadius:"2px",lineHeight:"1"},children:e.name})]}):null})(),(()=>{const e=A(r,t);return e&&!x.has(e.id)?(0,Gn.jsx)("div",{className:"enemy-marker",title:`${e.enemy_type} - Niveau ${e.level} (${e.health}/${e.max_health} PV)`,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"16px",zIndex:5,textShadow:"1px 1px 2px rgba(0,0,0,0.8)",cursor:"pointer",opacity:x.has(e.id)?.3:1},children:O(e.enemy_type)}):null})(),n.position_x===r&&n.position_y===t&&(0,Gn.jsx)("div",{className:"character-marker",title:`${n.name} - Niveau ${n.level}`,children:(0,Gn.jsx)("img",{src:"/assets/tiles/player.png",alt:"Player",style:{width:"20px",height:"20px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:10}})})]},`${r}-${t}`)))})]})}),(0,Gn.jsx)("div",{className:"bg-gradient-to-r from-amber-700 to-amber-600 p-2 rounded-b-lg border-2 border-amber-800 border-t-0",children:(0,Gn.jsxs)("div",{className:"text-center text-xs text-amber-100",children:["\ud83c\udfae Cliquez sur les 8 cases adjacentes pour vous d\xe9placer \u2022 Espace pour attaquer",(0,Gn.jsx)("br",{}),"\ud83d\udc9a PM: ",n.pm,"/",n.max_pm," \u2022 \u2764\ufe0f PA: ",n.pa,"/",n.max_pa," \u2022 \ud83c\udf00 Cliquez sur un portail pour vous t\xe9l\xe9porter"]})}),(o||p.length>0)&&(0,Gn.jsx)("div",{className:"mt-2 p-2 bg-gradient-to-r from-purple-700 to-purple-600 rounded border-2 border-purple-800",children:(0,Gn.jsxs)("div",{className:"text-center text-xs text-purple-100",children:[o&&(0,Gn.jsx)("div",{className:"mb-1",children:o}),p.length>0&&(0,Gn.jsxs)("div",{children:["\ud83c\udf00 ",p.length," portail",p.length>1?"s":""," disponible",p.length>1?"s":""," sur la carte"]})]})}),y&&g&&(0,Gn.jsx)(tr,{enemy:g,character:n,onCombatEnd:()=>{j(!1),v(null)},onEnemyUpdate:()=>{g&&(b(e=>new Set([...e,g.id])),setTimeout(()=>{b(e=>{const t=new Set(e);return t.delete(g.id),t})},3e4)),L()}})]}):(0,Gn.jsx)("div",{className:"medieval-panel p-8",children:(0,Gn.jsxs)("div",{className:"text-center text-amber-900",children:[(0,Gn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-900 mx-auto mb-4"}),"Chargement de la carte d'Alidhan..."]})})},rr=e=>{let{children:t,content:n,position:r="top"}=e;const[a,l]=s.useState(!1);return(0,Gn.jsxs)("div",{className:"relative inline-block",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[t,a&&(0,Gn.jsx)("div",{className:`absolute z-50 ${{top:"bottom-full left-1/2 transform -translate-x-1/2 mb-2",bottom:"top-full left-1/2 transform -translate-x-1/2 mt-2",left:"right-full top-1/2 transform -translate-y-1/2 mr-2",right:"left-full top-1/2 transform -translate-y-1/2 ml-2"}[r]}`,children:(0,Gn.jsxs)("div",{className:"bg-black text-white text-xs rounded px-2 py-1 whitespace-nowrap max-w-xs",children:[n,(0,Gn.jsx)("div",{className:"absolute w-2 h-2 bg-black transform rotate-45 "+("top"===r?"top-full left-1/2 -translate-x-1/2 -mt-1":"bottom"===r?"bottom-full left-1/2 -translate-x-1/2 -mb-1":"left"===r?"left-full top-1/2 -translate-y-1/2 -ml-1":"right-full top-1/2 -translate-y-1/2 -mr-1")})]})})]})},ar=e=>{var t;let{character:n,onCharacterUpdate:r}=e;const[a,l]=(0,s.useState)("stats");if(!n)return null;const i=n.health/n.max_health*100,o=n.mana/n.max_mana*100,c=n.experience/(100*n.level)*100;return(0,Gn.jsxs)("div",{className:"medieval-panel m-2 flex-1",children:[(0,Gn.jsx)("div",{className:"bg-gradient-to-r from-amber-600 to-amber-700 p-3 rounded-t-lg -m-1 mb-3",children:(0,Gn.jsxs)("div",{className:"text-center",children:[(0,Gn.jsxs)("h3",{className:"text-lg font-medieval text-amber-100 font-bold",children:[(e=>{switch(e){case"Guerrier":return"\u2694\ufe0f";case"Mage":return"\ud83d\udd2e";case"Archer":return"\ud83c\udff9";case"Moine":return"\u262f\ufe0f";default:return"\ud83d\udc64"}})(n.character_class)," ",n.name]}),(0,Gn.jsxs)("div",{className:"text-xs text-amber-200",children:["Niveau ",n.level," \u2022 ",(0,Gn.jsx)("span",{className:(e=>{switch(e){case"Royalistes de Galoregor":return"text-blue-600";case"Exil\xe9s de Kaldrass":return"text-red-600";case"Cartel de Brumebois":return"text-green-600";default:return"text-gray-600"}})(n.faction),children:n.faction})]})]})}),(0,Gn.jsx)("div",{className:"medieval-tabs mb-3",children:(0,Gn.jsxs)("div",{className:"flex",children:[(0,Gn.jsx)("button",{onClick:()=>l("stats"),className:"medieval-tab flex-1 "+("stats"===a?"active":""),children:"\ud83d\udcca Stats"}),(0,Gn.jsx)("button",{onClick:()=>l("options"),className:"medieval-tab flex-1 "+("options"===a?"active":""),children:"\u2699\ufe0f Options"})]})}),(0,Gn.jsxs)("div",{className:"px-3 pb-3",children:["stats"===a&&(0,Gn.jsxs)("div",{children:[(0,Gn.jsxs)("div",{className:"mb-3",children:[(0,Gn.jsxs)("div",{className:"flex justify-between text-xs text-amber-800 mb-1",children:[(0,Gn.jsx)(rr,{content:"Points de Vie - Se r\xe9g\xe9n\xe8rent lentement ou avec des potions/sorts de soin",children:(0,Gn.jsx)("span",{className:"font-semibold cursor-help",children:"\ud83d\udc9a Points de Vie"})}),(0,Gn.jsxs)("span",{className:"font-bold",children:[n.health,"/",n.max_health]})]}),(0,Gn.jsx)("div",{className:"health-bar resource-bar",children:(0,Gn.jsx)("div",{className:"resource-fill",style:{width:`${i}%`}})})]}),(0,Gn.jsxs)("div",{className:"mb-4",children:[(0,Gn.jsxs)("div",{className:"flex justify-between text-xs text-amber-800 mb-1",children:[(0,Gn.jsx)(rr,{content:"Points de Mana - N\xe9cessaires pour lancer des sorts magiques",children:(0,Gn.jsx)("span",{className:"font-semibold cursor-help",children:"\ud83d\udc99 Points de Mana"})}),(0,Gn.jsxs)("span",{className:"font-bold",children:[n.mana,"/",n.max_mana]})]}),(0,Gn.jsx)("div",{className:"mana-bar resource-bar",children:(0,Gn.jsx)("div",{className:"resource-fill",style:{width:`${o}%`}})})]}),(0,Gn.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-4 text-xs",children:[(0,Gn.jsx)(rr,{content:"Points d'Action - Permettent d'attaquer et lancer des sorts (5 PA/heure)",children:(0,Gn.jsxs)("div",{className:"bg-amber-50 border border-amber-300 rounded p-2 cursor-help",children:[(0,Gn.jsx)("div",{className:"font-semibold text-amber-700",children:"PA"}),(0,Gn.jsx)("div",{className:"text-lg font-bold text-amber-900",children:n.pa}),(0,Gn.jsxs)("div",{className:"text-xs text-amber-600",children:["sur ",n.max_pa]})]})}),(0,Gn.jsx)(rr,{content:"Points de Mobilit\xe9 - N\xe9cessaires pour se d\xe9placer (10 PM/heure)",children:(0,Gn.jsxs)("div",{className:"bg-amber-50 border border-amber-300 rounded p-2 cursor-help",children:[(0,Gn.jsx)("div",{className:"font-semibold text-amber-700",children:"PM"}),(0,Gn.jsx)("div",{className:"text-lg font-bold text-amber-900",children:n.pm}),(0,Gn.jsxs)("div",{className:"text-xs text-amber-600",children:["sur ",n.max_pm]})]})})]}),(0,Gn.jsx)("div",{className:"bg-gradient-to-r from-yellow-100 to-yellow-200 border-2 border-yellow-600 rounded p-2 mb-4",children:(0,Gn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gn.jsx)("span",{className:"font-semibold text-yellow-800",children:"\ud83d\udcb0 Tr\xe9sor"}),(0,Gn.jsx)("span",{className:"text-xl font-bold text-yellow-900",children:(null===(t=n.gold)||void 0===t?void 0:t.toLocaleString())||"0"})]})}),(0,Gn.jsxs)("div",{className:"bg-amber-50 border border-amber-300 rounded p-3 mb-4",children:[(0,Gn.jsx)("h4",{className:"font-semibold text-amber-900 mb-2 text-center",children:"\u26a1 Attributs"}),(0,Gn.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,Gn.jsxs)("div",{className:"flex justify-between",children:[(0,Gn.jsx)(rr,{content:"Force - Augmente les d\xe9g\xe2ts de combat au corps \xe0 corps",children:(0,Gn.jsx)("span",{className:"text-amber-700 cursor-help",children:"\ud83d\udcaa Force:"})}),(0,Gn.jsx)("span",{className:"font-bold text-amber-900",children:n.strength})]}),(0,Gn.jsxs)("div",{className:"flex justify-between",children:[(0,Gn.jsx)(rr,{content:"Intelligence - Am\xe9liore les d\xe9g\xe2ts des sorts et la mana maximum",children:(0,Gn.jsx)("span",{className:"text-amber-700 cursor-help",children:"\ud83e\udde0 Intel:"})}),(0,Gn.jsx)("span",{className:"font-bold text-amber-900",children:n.intelligence})]}),(0,Gn.jsxs)("div",{className:"flex justify-between",children:[(0,Gn.jsx)(rr,{content:"Agilit\xe9 - Influence la vitesse et les chances d'esquive",children:(0,Gn.jsx)("span",{className:"text-amber-700 cursor-help",children:"\ud83c\udfc3 Agilit\xe9:"})}),(0,Gn.jsx)("span",{className:"font-bold text-amber-900",children:n.agility})]}),(0,Gn.jsxs)("div",{className:"flex justify-between",children:[(0,Gn.jsx)(rr,{content:"Constitution - R\xe9duit les d\xe9g\xe2ts re\xe7us et augmente les PV",children:(0,Gn.jsx)("span",{className:"text-amber-700 cursor-help",children:"\ud83d\udee1\ufe0f Const:"})}),(0,Gn.jsx)("span",{className:"font-bold text-amber-900",children:n.constitution})]})]}),(0,Gn.jsx)("div",{className:"flex justify-center mt-2",children:(0,Gn.jsxs)("div",{className:"flex justify-between w-1/2",children:[(0,Gn.jsx)(rr,{content:"Sagesse - Am\xe9liore la r\xe9sistance magique et la r\xe9g\xe9n\xe9ration de mana",children:(0,Gn.jsx)("span",{className:"text-amber-700 cursor-help",children:"\ud83d\udd2e Sagesse:"})}),(0,Gn.jsx)("span",{className:"font-bold text-amber-900",children:n.wisdom})]})})]}),(0,Gn.jsxs)("div",{className:"mb-3",children:[(0,Gn.jsxs)("div",{className:"flex justify-between text-xs text-amber-800 mb-1",children:[(0,Gn.jsx)(rr,{content:"Exp\xe9rience - Gagn\xe9e en combattant et compl\xe9tant des qu\xeates",children:(0,Gn.jsx)("span",{className:"font-semibold cursor-help",children:"\ud83c\udf1f Exp\xe9rience"})}),(0,Gn.jsxs)("span",{className:"font-bold",children:[n.experience,"/",100*n.level]})]}),(0,Gn.jsx)("div",{className:"w-full bg-gray-300 rounded-full h-3 border border-amber-600",children:(0,Gn.jsx)("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-600 h-full rounded-full transition-all duration-300",style:{width:`${c}%`}})})]}),(0,Gn.jsxs)("div",{className:"text-xs text-amber-700 text-center bg-amber-50 rounded p-2 border",children:["\ud83d\udccd Position: (",n.position_x,", ",n.position_y,")"]})]}),"options"===a&&(0,Gn.jsxs)("div",{className:"space-y-3",children:[(0,Gn.jsx)("div",{className:"text-center",children:(0,Gn.jsx)("h4",{className:"font-semibold text-amber-900 mb-3",children:"\u2699\ufe0f Options"})}),(0,Gn.jsx)("button",{className:"w-full medieval-button text-xs py-2",children:"\ud83d\udd0a R\xe9glages Audio"}),(0,Gn.jsx)("button",{className:"w-full medieval-button text-xs py-2",children:"\ud83d\udcfa R\xe9glages Vid\xe9o"}),(0,Gn.jsx)("button",{className:"w-full medieval-button text-xs py-2",children:"\ud83c\udfae Contr\xf4les"}),(0,Gn.jsx)("button",{onClick:()=>window.open("/guide","_blank"),className:"w-full medieval-button text-xs py-2",children:"\ud83d\udccb Guide du Jeu"}),(0,Gn.jsxs)("div",{className:"bg-amber-50 border border-amber-300 rounded p-3",children:[(0,Gn.jsx)("h5",{className:"font-semibold text-amber-800 mb-2",children:"\ud83d\udca1 Conseils Rapides"}),(0,Gn.jsxs)("div",{className:"text-xs text-amber-700 space-y-1",children:[(0,Gn.jsx)("p",{children:"\u2022 PA se r\xe9g\xe9n\xe8rent: 5/heure"}),(0,Gn.jsx)("p",{children:"\u2022 PM se r\xe9g\xe9n\xe8rent: 10/heure"}),(0,Gn.jsx)("p",{children:"\u2022 D\xe9placement: 10 PM par case"}),(0,Gn.jsx)("p",{children:"\u2022 Attaque: 5 PA"}),(0,Gn.jsx)("p",{children:"\u2022 Sorts: Variable Mana + PA"})]})]}),(0,Gn.jsx)("div",{className:"border-t border-amber-300 pt-3 mt-4",children:(0,Gn.jsx)("button",{className:"w-full bg-red-600 hover:bg-red-700 text-white py-2 rounded text-xs font-bold",children:"\ud83d\udeaa Quitter le Jeu"})})]})]})]})},sr={castSpell:async e=>(await Qn.post("/spells/cast",e)).data,getInventory:async e=>(await Qn.get(`/inventory/${e}`)).data,useItem:async e=>(await Qn.post("/items/use",e)).data,getGuilds:async()=>(await Qn.get("/guilds")).data,joinGuild:async e=>(await Qn.post("/guilds/join",e)).data,getMessages:async()=>(await Qn.get("/messages")).data,markMessageRead:async e=>(await Qn.post(`/messages/${e}/read`)).data,getMarket:async()=>(await Qn.get("/market")).data,buyItem:async e=>(await Qn.post("/market/buy",e)).data},lr=e=>{var t;let{character:n,gameData:r,onCharacterUpdate:a}=e;const[l,i]=(0,s.useState)("inventory"),[o,c]=(0,s.useState)([]),[d,u]=(0,s.useState)(!1),[m,f]=(0,s.useState)("");(0,s.useEffect)(()=>{n&&"inventory"===l&&p()},[n,l]);const p=async()=>{try{const e=await sr.getInventory(n.user_id);c(e.items)}catch(e){console.error("Error loading inventory:",e)}};if(!n)return null;const h=(null===r||void 0===r||null===(t=r.spells)||void 0===t?void 0:t.slice(0,8))||[],x=[{slot:"Arme",item:"\xc9p\xe9e de Bronze",icon:"\u2694\ufe0f"},{slot:"Armure",item:"Tunique de Cuir",icon:"\ud83e\udd7c"},{slot:"Bouclier",item:"Bouclier de Bois",icon:"\ud83d\udee1\ufe0f"},{slot:"Accessoire",item:null,icon:"\ud83d\udc8d"}],b=[{id:1,name:"Bienvenue \xe0 Alidhan",progress:"1/1",status:"completed"},{id:2,name:"Premier Combat",progress:"0/1",status:"active"},{id:3,name:"Ma\xeetre des Sorts",progress:"0/3",status:"inactive"}];return(0,Gn.jsx)("div",{className:"mt-2",children:(0,Gn.jsxs)("div",{className:"medieval-panel p-3",children:[m&&(0,Gn.jsx)("div",{className:"mb-3 p-2 bg-amber-100 border border-amber-400 text-amber-800 rounded font-semibold text-center text-sm",children:m}),(0,Gn.jsxs)("div",{className:"flex space-x-1 mb-3",children:[(0,Gn.jsxs)("button",{onClick:()=>i("inventory"),className:"px-3 py-1 rounded font-semibold transition-colors text-sm "+("inventory"===l?"bg-amber-600 text-amber-100":"bg-amber-200 text-amber-800 hover:bg-amber-300"),children:[(0,Gn.jsx)("span",{className:"mr-1",children:"\ud83c\udf92"}),"Inventaire"]}),(0,Gn.jsxs)("button",{onClick:()=>i("spells"),className:"px-3 py-1 rounded font-semibold transition-colors text-sm "+("spells"===l?"bg-amber-600 text-amber-100":"bg-amber-200 text-amber-800 hover:bg-amber-300"),children:[(0,Gn.jsx)("span",{className:"mr-1",children:"\ud83d\udd2e"}),"Sorts"]}),(0,Gn.jsxs)("button",{onClick:()=>i("equipment"),className:"px-3 py-1 rounded font-semibold transition-colors text-sm "+("equipment"===l?"bg-amber-600 text-amber-100":"bg-amber-200 text-amber-800 hover:bg-amber-300"),children:[(0,Gn.jsx)("span",{className:"mr-1",children:"\u2694\ufe0f"}),"\xc9quipement"]}),(0,Gn.jsxs)("button",{onClick:()=>i("quests"),className:"px-3 py-1 rounded font-semibold transition-colors text-sm "+("quests"===l?"bg-amber-600 text-amber-100":"bg-amber-200 text-amber-800 hover:bg-amber-300"),children:[(0,Gn.jsx)("span",{className:"mr-1",children:"\ud83d\udccb"}),"Qu\xeates"]})]}),(0,Gn.jsx)("div",{className:"min-h-[140px]",children:(()=>{switch(l){case"inventory":return(0,Gn.jsxs)("div",{className:"grid grid-cols-8 gap-1",children:[o.map(e=>(0,Gn.jsxs)("div",{className:"bg-amber-100 border-2 border-amber-600 rounded p-1 text-center hover:bg-amber-200 cursor-pointer",title:`${e.name} - ${e.description||""}`,onClick:()=>"consumable"===e.type&&(async e=>{if(!d){u(!0);try{const t=await sr.useItem({item_id:e.id});f(t.effects.join(", "));const n=await Xn.getCharacter();a(n),setTimeout(()=>f(""),3e3)}catch(r){var t,n;f(`\u274c ${(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Erreur"}`),setTimeout(()=>f(""),3e3)}finally{u(!1)}}})(e),children:[(0,Gn.jsx)("div",{className:"text-lg mb-1",children:e.icon}),(0,Gn.jsx)("div",{className:"text-xs text-amber-900",children:e.quantity})]},e.id)),Array.from({length:24-o.length},(e,t)=>(0,Gn.jsx)("div",{className:"bg-amber-50 border-2 border-amber-300 rounded p-1 h-12"},`empty-${t}`))]});case"spells":return(0,Gn.jsxs)("div",{className:"grid grid-cols-4 gap-1",children:[h.map(e=>(0,Gn.jsxs)("div",{className:"bg-blue-100 border-2 border-blue-600 rounded p-2 text-center hover:bg-blue-200 cursor-pointer",title:`${e.name} - ${e.description}\nNiveau requis: ${e.level_required}\nCo\xfbt: ${e.mana_cost} Mana, ${e.pa_cost} PA`,onClick:()=>(async e=>{if(!d){u(!0);try{const t=await sr.castSpell({spell_id:e.name,target_type:e.damage>0?"enemy":"self"});f(`\u2728 ${t.spell_name} lanc\xe9 ! ${t.effects.join(", ")}`);const n=await Xn.getCharacter();a(n),setTimeout(()=>f(""),4e3)}catch(r){var t,n;f(`\u274c ${(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Erreur"}`),setTimeout(()=>f(""),3e3)}finally{u(!1)}}})(e),children:[(0,Gn.jsx)("div",{className:"text-lg mb-1",children:"\ud83d\udd2e"}),(0,Gn.jsx)("div",{className:"text-xs text-blue-900 font-semibold mb-1",children:e.name}),(0,Gn.jsxs)("div",{className:"text-xs text-blue-700",children:[e.school," \u2022 Niv.",e.level_required]}),(0,Gn.jsxs)("div",{className:"text-xs text-blue-600 mt-1",children:[e.mana_cost,"M \u2022 ",e.pa_cost,"PA"]})]},e.id)),Array.from({length:12-h.length},(e,t)=>(0,Gn.jsx)("div",{className:"bg-amber-50 border-2 border-amber-300 rounded p-2 h-16"},`empty-spell-${t}`))]});case"equipment":return(0,Gn.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[x.map((e,t)=>(0,Gn.jsxs)("div",{className:"bg-amber-100 border-2 border-amber-600 rounded p-2 text-center hover:bg-amber-200 cursor-pointer",children:[(0,Gn.jsx)("div",{className:"text-2xl mb-1",children:e.icon}),(0,Gn.jsx)("div",{className:"text-xs text-amber-900 font-semibold mb-1",children:e.slot}),(0,Gn.jsx)("div",{className:"text-xs text-amber-700",children:e.item||"Vide"})]},t)),Array.from({length:8},(e,t)=>(0,Gn.jsx)("div",{className:"bg-amber-50 border-2 border-amber-300 rounded p-2 h-16"},`empty-equip-${t}`))]});case"quests":return(0,Gn.jsx)("div",{className:"space-y-1",children:b.map(e=>(0,Gn.jsx)("div",{className:"border-2 rounded p-2 cursor-pointer "+("completed"===e.status?"bg-green-100 border-green-600":"active"===e.status?"bg-yellow-100 border-yellow-600":"bg-gray-100 border-gray-400"),children:(0,Gn.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("div",{className:"font-semibold text-amber-900 text-sm",children:e.name}),(0,Gn.jsxs)("div",{className:"text-xs text-amber-700 mt-1",children:["Progression: ",e.progress]})]}),(0,Gn.jsx)("div",{className:"text-sm",children:"completed"===e.status?"\u2705":"active"===e.status?"\u23f3":"\u274c"})]})},e.id))});default:return null}})()}),(0,Gn.jsxs)("div",{className:"flex justify-between items-center mt-3 pt-2 border-t border-amber-300",children:[(0,Gn.jsx)("div",{className:"text-xs text-amber-700",children:(()=>{switch(l){case"inventory":return`${o.length}/32 objets`;case"spells":return`${h.length}/24 sorts`;case"equipment":return`${x.filter(e=>e.item).length}/12 \xe9quipements`;case"quests":return`${b.length} qu\xeates`;default:return""}})()}),(0,Gn.jsxs)("div",{className:"flex space-x-1",children:[(0,Gn.jsx)("button",{className:"medieval-button text-xs px-2 py-1",children:"Trier"}),"inventory"===l&&(0,Gn.jsx)("button",{className:"medieval-button text-xs px-2 py-1",children:"Vendre"})]})]})]})})},ir=e=>{let{character:t}=e;const[n,r]=(0,s.useState)("colansi"),[a,l]=(0,s.useState)([]),[i,o]=(0,s.useState)([]),[c,d]=(0,s.useState)([]),[u,m]=(0,s.useState)(!1);(0,s.useEffect)(()=>{t&&("guilde"===n&&f(),"messagerie"===n&&p(),"marche"===n&&h())},[n,t]);const f=async()=>{try{const e=await sr.getGuilds();l(e.guilds)}catch(e){console.error("Error loading guilds:",e)}},p=async()=>{try{const e=await sr.getMessages();o(e.messages)}catch(e){console.error("Error loading messages:",e)}},h=async()=>{try{const e=await sr.getMarket();d(e.items)}catch(e){console.error("Error loading market:",e)}};if(!t)return null;return(0,Gn.jsxs)("div",{className:"medieval-panel",children:[(0,Gn.jsx)("div",{className:"bg-gradient-to-r from-amber-700 to-amber-600 p-2 rounded-t-lg -m-1 mb-0",children:(0,Gn.jsx)("div",{className:"grid grid-cols-3 gap-1",children:[{id:"colansi",name:"Colansi",icon:"\ud83c\udff0",badge:"8"},{id:"messagerie",name:"Messages",icon:"\ud83d\udce7",badge:"2"},{id:"quetes",name:"Qu\xeates",icon:"\ud83d\udcdc",badge:null},{id:"guilde",name:"Guilde",icon:"\u2694\ufe0f",badge:null},{id:"marche",name:"March\xe9",icon:"\ud83d\uded2",badge:null}].slice(0,6).map(e=>(0,Gn.jsxs)("button",{onClick:()=>r(e.id),className:"relative text-xs py-2 px-1 rounded transition-all font-semibold "+(n===e.id?"bg-amber-200 text-amber-900":"text-amber-100 hover:bg-amber-600"),title:e.name,children:[(0,Gn.jsx)("div",{children:e.icon}),(0,Gn.jsx)("div",{className:"text-xs mt-1",children:e.name}),e.badge&&(0,Gn.jsx)("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center",children:e.badge})]},e.id))})}),(0,Gn.jsx)("div",{className:"bg-gradient-to-b from-amber-100 to-amber-200 min-h-[300px]",children:(()=>{switch(n){case"colansi":return(0,Gn.jsxs)("div",{className:"p-3 space-y-3",children:[(0,Gn.jsxs)("div",{className:"text-center",children:[(0,Gn.jsx)("h4",{className:"font-bold text-amber-900 mb-2",children:"\ud83c\udff0 Colansi"}),(0,Gn.jsxs)("div",{className:"text-xs text-amber-800",children:["Capitale des ",t.faction]})]}),(0,Gn.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,Gn.jsxs)("div",{className:"bg-amber-50 border border-amber-300 rounded p-2",children:[(0,Gn.jsx)("div",{className:"font-semibold text-amber-800",children:"\ud83c\udfdb\ufe0f B\xe2timents"}),(0,Gn.jsxs)("div",{className:"text-amber-700",children:["\u2022 Temple (Niveau 3)",(0,Gn.jsx)("br",{}),"\u2022 March\xe9 (Niveau 2)",(0,Gn.jsx)("br",{}),"\u2022 Caserne (Niveau 4)"]})]}),(0,Gn.jsxs)("div",{className:"bg-amber-50 border border-amber-300 rounded p-2",children:[(0,Gn.jsx)("div",{className:"font-semibold text-amber-800",children:"\u26a1 Bonus Actifs"}),(0,Gn.jsxs)("div",{className:"text-amber-700",children:["\u2022 +20% XP combat",(0,Gn.jsx)("br",{}),"\u2022 +15% or trouv\xe9",(0,Gn.jsx)("br",{}),"\u2022 -10% co\xfbt sorts"]})]})]})]});case"messagerie":return(0,Gn.jsxs)("div",{className:"p-3",children:[(0,Gn.jsx)("div",{className:"text-center mb-3",children:(0,Gn.jsx)("h4",{className:"font-bold text-amber-900",children:"\ud83d\udce7 Messagerie"})}),(0,Gn.jsxs)("div",{className:"space-y-2 text-xs max-h-60 overflow-y-auto",children:[i.map(e=>(0,Gn.jsxs)("div",{className:"border rounded p-2 cursor-pointer "+(e.read?"bg-gray-50 border-gray-300":"bg-blue-50 border-blue-400"),onClick:()=>(async e=>{try{await sr.markMessageRead(e),o(i.map(t=>t.id===e?{...t,read:!0}:t))}catch(t){console.error("Error marking message as read:",t)}})(e.id),children:[(0,Gn.jsxs)("div",{className:"font-semibold text-blue-800 flex justify-between",children:[(0,Gn.jsx)("span",{children:e.from}),!e.read&&(0,Gn.jsx)("span",{className:"text-red-500",children:"\u25cf"})]}),(0,Gn.jsx)("div",{className:"text-blue-700 font-medium",children:e.subject}),(0,Gn.jsx)("div",{className:"text-blue-600 text-xs mt-1 truncate",children:e.content})]},e.id)),0===i.length&&(0,Gn.jsx)("div",{className:"text-center text-amber-700",children:"Aucun message"})]})]});case"quetes":return(0,Gn.jsxs)("div",{className:"p-3",children:[(0,Gn.jsx)("div",{className:"text-center mb-3",children:(0,Gn.jsx)("h4",{className:"font-bold text-amber-900",children:"\ud83d\udcdc Qu\xeates"})}),(0,Gn.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,Gn.jsxs)("div",{className:"bg-yellow-50 border border-yellow-400 rounded p-2",children:[(0,Gn.jsx)("div",{className:"font-semibold text-yellow-800",children:"\ud83c\udf1f Actuelle"}),(0,Gn.jsx)("div",{className:"text-yellow-700",children:"Premier Combat"}),(0,Gn.jsx)("div",{className:"w-full bg-gray-300 rounded h-2 mt-1",children:(0,Gn.jsx)("div",{className:"bg-yellow-500 h-2 rounded",style:{width:"60%"}})})]}),(0,Gn.jsxs)("div",{className:"bg-green-50 border border-green-400 rounded p-2",children:[(0,Gn.jsx)("div",{className:"font-semibold text-green-800",children:"\u2705 Termin\xe9e"}),(0,Gn.jsx)("div",{className:"text-green-700",children:"Bienvenue \xe0 Alidhan"}),(0,Gn.jsx)("div",{className:"text-green-600",children:"R\xe9compense: 50 XP, 25 or"})]})]})]});case"guilde":return(0,Gn.jsxs)("div",{className:"p-3",children:[(0,Gn.jsx)("div",{className:"text-center mb-3",children:(0,Gn.jsx)("h4",{className:"font-bold text-amber-900",children:"\u2694\ufe0f Guildes"})}),(0,Gn.jsxs)("div",{className:"space-y-2 text-xs max-h-60 overflow-y-auto",children:[a.map(e=>(0,Gn.jsxs)("div",{className:"bg-amber-50 border border-amber-300 rounded p-2",children:[(0,Gn.jsx)("div",{className:"font-semibold text-amber-800",children:e.name}),(0,Gn.jsxs)("div",{className:"text-amber-700",children:["Niveau ",e.level," \u2022 ",e.members," membres"]}),(0,Gn.jsx)("div",{className:"text-amber-600 text-xs mt-1",children:e.description}),(0,Gn.jsx)("button",{onClick:()=>(async e=>{if(!u){m(!0);try{await sr.joinGuild({guild_id:e}),alert("Demande d'adh\xe9sion envoy\xe9e !")}catch(t){alert("Erreur lors de l'envoi de la demande")}finally{m(!1)}}})(e.id),disabled:u,className:"mt-2 bg-amber-600 text-white px-2 py-1 rounded text-xs hover:bg-amber-700 disabled:opacity-50",children:u?"Envoi...":"Rejoindre"})]},e.id)),0===a.length&&(0,Gn.jsx)("div",{className:"text-center text-amber-700",children:"Chargement des guildes..."})]})]});case"marche":return(0,Gn.jsxs)("div",{className:"p-3",children:[(0,Gn.jsx)("div",{className:"text-center mb-3",children:(0,Gn.jsx)("h4",{className:"font-bold text-amber-900",children:"\ud83d\uded2 March\xe9"})}),(0,Gn.jsxs)("div",{className:"space-y-2 text-xs max-h-60 overflow-y-auto",children:[c.map(e=>(0,Gn.jsx)("div",{className:"bg-green-50 border border-green-300 rounded p-2",children:(0,Gn.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Gn.jsxs)("div",{className:"flex-1",children:[(0,Gn.jsxs)("div",{className:"font-semibold text-green-800",children:[e.icon," ",e.name]}),(0,Gn.jsxs)("div",{className:"text-green-700",children:["Vendeur: ",e.seller]}),(0,Gn.jsxs)("div",{className:"text-yellow-600 font-bold",children:["\ud83d\udcb0 ",e.price," or"]})]}),(0,Gn.jsx)("button",{className:"bg-green-600 text-white px-2 py-1 rounded text-xs hover:bg-green-700",onClick:()=>alert("Fonction d'achat \xe0 impl\xe9menter"),children:"Acheter"})]})},e.id)),0===c.length&&(0,Gn.jsx)("div",{className:"text-center text-amber-700",children:"Chargement du march\xe9..."})]})]});default:return(0,Gn.jsx)("div",{className:"p-3 text-center text-amber-700 text-xs",children:"Contenu \xe0 venir..."})}})()})]})},or=e=>{let{character:t,gameData:n,onActionSelect:r,selectedAction:a,onCharacterUpdate:l}=e;const[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(""),u=[{id:"attack",icon:"\u2694\ufe0f",name:"Attaque",shortcut:"F1",cost_pa:5},{id:"defend",icon:"\ud83d\udee1\ufe0f",name:"D\xe9fense",shortcut:"F2",cost_pa:3},{id:"fireball",icon:"\ud83d\udd25",name:"Boule de Feu",shortcut:"F3",cost_pa:3,cost_mana:10},{id:"heal",icon:"\ud83d\udc9a",name:"Soin",shortcut:"F4",cost_pa:2,cost_mana:8},{id:"ice_shard",icon:"\u2744\ufe0f",name:"\xc9clat de Glace",shortcut:"F5",cost_pa:3,cost_mana:12},{id:"magic_missile",icon:"\ud83c\udf1f",name:"Projectile Magique",shortcut:"F6",cost_pa:2,cost_mana:5},{id:"potion",icon:"\ud83e\uddea",name:"Potion",shortcut:"F7",item_id:"1"},{id:"mana_potion",icon:"\ud83d\udc99",name:"Potion Mana",shortcut:"F8",item_id:"5"}],m=async e=>{if(!i&&t){if(e.cost_pa&&t.pa<e.cost_pa)return d(`\u274c Pas assez de PA (${e.cost_pa} requis)`),void setTimeout(()=>d(""),3e3);if(e.cost_mana&&t.mana<e.cost_mana)return d(`\u274c Pas assez de Mana (${e.cost_mana} requis)`),void setTimeout(()=>d(""),3e3);o(!0),r(e);try{let t;switch(e.id){case"attack":t=await Xn.attackEnemy(),t.enemy_defeated?d(`\ud83c\udfc6 Ennemi vaincu ! +${t.rewards.exp} XP, +${t.rewards.gold} or`):d(`\u2694\ufe0f ${t.damage_dealt} d\xe9g\xe2ts inflig\xe9s ! ${t.damage_received?`${t.damage_received} d\xe9g\xe2ts re\xe7us`:""}`);break;case"defend":d("\ud83d\udee1\ufe0f Position d\xe9fensive adopt\xe9e !");break;case"fireball":t=await sr.castSpell({spell_id:"Boule de Feu",target_type:"enemy"}),d(`\ud83d\udd25 ${t.spell_name} lanc\xe9 ! ${t.effects.join(", ")}`);break;case"heal":t=await sr.castSpell({spell_id:"Gu\xe9rison",target_type:"self"}),d(`\ud83d\udc9a ${t.spell_name} lanc\xe9 ! ${t.effects.join(", ")}`);break;case"ice_shard":t=await sr.castSpell({spell_id:"\xc9clat de Glace",target_type:"enemy"}),d(`\u2744\ufe0f ${t.spell_name} lanc\xe9 ! ${t.effects.join(", ")}`);break;case"magic_missile":t=await sr.castSpell({spell_id:"Projectile Magique",target_type:"enemy"}),d(`\ud83c\udf1f ${t.spell_name} lanc\xe9 ! ${t.effects.join(", ")}`);break;case"potion":case"mana_potion":t=await sr.useItem({item_id:e.item_id}),d(`${e.icon} ${t.effects.join(", ")}`);break;default:d(`\u2728 ${e.name} utilis\xe9 !`)}if(l){const e=await Xn.getCharacter();l(e)}}catch(s){var n,a;d(`\u274c ${(null===(n=s.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.detail)||"Erreur"}`)}finally{o(!1),setTimeout(()=>d(""),4e3)}}},f=e=>{if(i)return;const t=e.key.toUpperCase(),n=u.find(e=>e.shortcut===t);n&&(e.preventDefault(),m(n))};return s.useEffect(()=>(window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)),[i,t]),t?(0,Gn.jsxs)("div",{className:"action-bar",children:[(0,Gn.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Gn.jsx)("h4",{className:"text-white font-bold text-sm",children:"\u26a1 Actions Rapides"}),c&&(0,Gn.jsx)("div",{className:"text-yellow-400 text-xs bg-black bg-opacity-50 px-2 py-1 rounded",children:c})]}),(0,Gn.jsxs)("div",{className:"flex space-x-2",children:[u.map((e,n)=>(0,Gn.jsxs)("div",{className:"relative",children:[(0,Gn.jsx)("button",{onClick:()=>m(e),disabled:i||e.cost_pa&&t.pa<e.cost_pa||e.cost_mana&&t.mana<e.cost_mana,className:`action-slot ${(null===a||void 0===a?void 0:a.id)===e.id?"ring-2 ring-yellow-400":""} ${e.cost_pa&&t.pa<e.cost_pa||e.cost_mana&&t.mana<e.cost_mana?"opacity-50 cursor-not-allowed":""}`,title:`${e.name} (${e.shortcut})${e.cost_pa?`\nCo\xfbt PA: ${e.cost_pa}`:""}${e.cost_mana?`\nCo\xfbt Mana: ${e.cost_mana}`:""}`,children:(0,Gn.jsx)("div",{className:"text-lg",children:e.icon})}),(0,Gn.jsx)("div",{className:"absolute -bottom-1 -right-1 bg-gray-900 text-white text-xs px-1 rounded border",children:e.shortcut}),i&&(null===a||void 0===a?void 0:a.id)===e.id&&(0,Gn.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded flex items-center justify-center",children:(0,Gn.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})})]},e.id)),Array.from({length:4},(e,t)=>(0,Gn.jsx)("div",{className:"action-slot opacity-50",title:"Emplacement vide",children:(0,Gn.jsx)("div",{className:"text-gray-500 text-2xl",children:"+"})},`empty-${t}`))]}),(0,Gn.jsx)("div",{className:"text-xs text-gray-400 mt-2 text-center",children:"\ud83c\udfae Utilisez F1-F8 pour les actions rapides \u2022 Clic gauche pour utiliser"})]}):null},cr=e=>{let{character:t}=e;const[n,r]=(0,s.useState)([]),[a,l]=(0,s.useState)(""),[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)("global"),u=(0,s.useRef)(null);(0,s.useEffect)(()=>{const e=e=>{const n={id:Date.now()+Math.random(),characterName:e.character_name,message:e.message,messageType:e.message_type,timestamp:new Date(e.timestamp),isOwn:e.user_id===(null===t||void 0===t?void 0:t.user_id)};r(e=>[...e.slice(-49),n])},n=e=>{const t={id:Date.now()+Math.random(),characterName:"Syst\xe8me",message:`${e.name} a rejoint le royaume !`,messageType:"system",timestamp:new Date,isSystem:!0};r(e=>[...e.slice(-49),t])},a=e=>{const t={id:Date.now()+Math.random(),characterName:"Syst\xe8me",message:`${e.name} a quitt\xe9 le royaume.`,messageType:"system",timestamp:new Date,isSystem:!0};r(e=>[...e.slice(-49),t])};return Zn.on("chat_message",e),Zn.on("player_joined",n),Zn.on("player_left",a),t&&r([{id:"welcome",characterName:"Syst\xe8me",message:`Bienvenue ${t.name} ! Tapez votre message pour discuter avec les autres joueurs.`,messageType:"system",timestamp:new Date,isSystem:!0}]),()=>{Zn.off("chat_message",e),Zn.off("player_joined",n),Zn.off("player_left",a)}},[t]),(0,s.useEffect)(()=>{var e;null===(e=u.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[n]);const m=e=>{switch(e){case"global":return"text-blue-200";case"local":return"text-green-200";case"system":return"text-yellow-200";case"error":return"text-red-200";default:return"text-gray-200"}},f=e=>{switch(e){case"global":return"\ud83c\udf0d";case"local":return"\ud83d\udccd";case"system":return"\u2699\ufe0f";case"error":return"\u274c";default:return"\ud83d\udcac"}};return i?(0,Gn.jsx)("div",{className:"fixed bottom-4 right-4 z-50",children:(0,Gn.jsxs)("button",{onClick:()=>o(!1),className:"bg-amber-700 hover:bg-amber-600 text-amber-100 px-4 py-2 rounded-lg border-2 border-amber-800 shadow-lg transition-all",children:["\ud83d\udcac Chat (",n.length,")"]})}):(0,Gn.jsxs)("div",{className:"fixed bottom-4 right-4 w-80 h-96 bg-amber-900 bg-opacity-95 border-2 border-amber-700 rounded-lg shadow-2xl z-50",children:[(0,Gn.jsxs)("div",{className:"bg-amber-800 p-2 rounded-t-lg flex justify-between items-center border-b-2 border-amber-700",children:[(0,Gn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gn.jsx)("span",{className:"text-amber-100 font-bold text-sm",children:"\ud83d\udcac Chat Multijoueur"}),(0,Gn.jsx)("div",{className:"w-2 h-2 rounded-full "+(Zn.isConnected?"bg-green-400":"bg-red-400")})]}),(0,Gn.jsx)("button",{onClick:()=>o(!0),className:"text-amber-200 hover:text-white text-lg font-bold",children:"\u2715"})]}),(0,Gn.jsxs)("div",{className:"p-2 h-64 overflow-y-auto bg-black bg-opacity-40",children:[n.map(e=>(0,Gn.jsxs)("div",{className:"mb-2 p-1 rounded text-xs "+(e.isOwn?"bg-amber-800 bg-opacity-50":""),children:[(0,Gn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Gn.jsx)("span",{className:"text-xs",children:f(e.messageType)}),(0,Gn.jsxs)("span",{className:`font-bold text-xs ${m(e.messageType)}`,children:[e.characterName,":"]}),(0,Gn.jsx)("span",{className:"text-xs text-gray-400",children:e.timestamp.toLocaleTimeString()})]}),(0,Gn.jsx)("div",{className:"text-amber-100 text-xs mt-1 pl-4",children:e.message})]},e.id)),(0,Gn.jsx)("div",{ref:u})]}),(0,Gn.jsxs)("div",{className:"p-2 border-t-2 border-amber-700",children:[(0,Gn.jsxs)("div",{className:"flex space-x-1 mb-2",children:[(0,Gn.jsx)("button",{onClick:()=>d("global"),className:"px-2 py-1 text-xs rounded "+("global"===c?"bg-blue-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"\ud83c\udf0d Global"}),(0,Gn.jsx)("button",{onClick:()=>d("local"),className:"px-2 py-1 text-xs rounded "+("local"===c?"bg-green-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"\ud83d\udccd Local"})]}),(0,Gn.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!a.trim()||!Zn.isConnected)return;if(Zn.sendChatMessage(a,c))l("");else{const e={id:Date.now(),characterName:"Erreur",message:"Impossible d'envoyer le message. Connexion perdue.",messageType:"error",timestamp:new Date,isSystem:!0};r(t=>[...t,e])}},className:"flex space-x-1",children:[(0,Gn.jsx)("input",{type:"text",value:a,onChange:e=>l(e.target.value),placeholder:Zn.isConnected?"Tapez votre message...":"Connexion...",disabled:!Zn.isConnected,className:"flex-1 px-2 py-1 text-xs bg-black bg-opacity-50 text-amber-100 border border-amber-700 rounded focus:outline-none focus:border-amber-500",maxLength:200}),(0,Gn.jsx)("button",{type:"submit",disabled:!Zn.isConnected||!a.trim(),className:"px-3 py-1 text-xs bg-amber-700 hover:bg-amber-600 disabled:bg-gray-600 text-white rounded transition-colors",children:"\u25b6"})]}),(0,Gn.jsx)("div",{className:"text-xs text-amber-300 mt-1 text-center",children:(()=>{const e=Zn.getConnectionStatus();return e.connected?"polling"===e.mode?"\ud83d\udfe1 Connect\xe9 (Mode Polling)":"\ud83d\udfe2 Connect\xe9 (WebSocket)":"\ud83d\udd34 D\xe9connect\xe9"})()})]})]})},dr=e=>{let{character:t}=e;const[n,r]=(0,s.useState)(null),[a,l]=(0,s.useState)(0),[i,o]=(0,s.useState)([]);(0,s.useEffect)(()=>{const e=()=>{const e=Zn.getConnectionStatus();r(e)},t=async()=>{try{const e=await Xn.getOnlinePlayersCount();l(e.online_count)}catch(e){console.error("Error fetching online count:",e)}};e(),t();const n=setInterval(e,5e3),a=setInterval(t,1e4),s=e=>{o(t=>[...t.slice(-4),{id:Date.now(),type:"join",message:`${e.name} a rejoint`,timestamp:new Date}])},i=e=>{o(t=>[...t.slice(-4),{id:Date.now(),type:"leave",message:`${e.name} est parti`,timestamp:new Date}])},c=e=>{o(t=>[...t.slice(-4),{id:Date.now(),type:"move",message:`${e.name} a boug\xe9`,timestamp:new Date}])};return Zn.on("player_joined",s),Zn.on("player_left",i),Zn.on("player_moved",c),()=>{clearInterval(n),clearInterval(a),Zn.off("player_joined",s),Zn.off("player_left",i),Zn.off("player_moved",c)}},[]);return(0,Gn.jsxs)("div",{className:"medieval-panel p-3 mb-2",children:[(0,Gn.jsx)("h4",{className:"font-bold text-amber-900 text-center mb-2 text-sm",children:"\ud83c\udf10 Multijoueur"}),(0,Gn.jsxs)("div",{className:"text-xs space-y-1 mb-3",children:[(0,Gn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gn.jsx)("span",{className:"text-amber-800",children:"Statut:"}),(0,Gn.jsxs)("span",{className:"font-bold flex items-center",children:[null!==n&&void 0!==n&&n.connected?"polling"===n.mode?"\ud83d\udfe1":"\ud83d\udfe2":"\ud83d\udd34"," ",null!==n&&void 0!==n&&n.connected?"polling"===n.mode?"Mode Polling":"WebSocket":"D\xe9connect\xe9"]})]}),(0,Gn.jsxs)("div",{className:"flex justify-between",children:[(0,Gn.jsx)("span",{className:"text-amber-800",children:"En ligne:"}),(0,Gn.jsx)("span",{className:"font-bold text-green-600",children:a})]})]}),i.length>0&&(0,Gn.jsxs)("div",{className:"text-xs",children:[(0,Gn.jsx)("div",{className:"text-amber-800 font-semibold mb-1",children:"Activit\xe9 r\xe9cente:"}),(0,Gn.jsx)("div",{className:"space-y-1 max-h-16 overflow-y-auto",children:i.slice(-3).map(e=>(0,Gn.jsxs)("div",{className:"flex items-center text-xs",children:[(0,Gn.jsx)("span",{className:"mr-1",children:"join"===e.type?"\ud83d\udce5":"leave"===e.type?"\ud83d\udce4":"\ud83d\udeb6"}),(0,Gn.jsx)("span",{className:"text-gray-600 truncate",children:e.message})]},e.id))})]}),"polling"===(null===n||void 0===n?void 0:n.mode)&&(0,Gn.jsx)("div",{className:"mt-2 p-1 bg-yellow-100 rounded text-xs text-yellow-800",children:"\u26a0\ufe0f Mode d\xe9grad\xe9: WebSocket indisponible, utilisation du polling"})]})},ur=()=>{const[e,t]=(0,s.useState)(!1);(0,s.useEffect)(()=>{const e=setTimeout(()=>{t(!0)},2e3);return()=>clearTimeout(e)},[]);return e?(0,Gn.jsx)("div",{className:"fixed top-4 right-4 z-50 max-w-sm",children:(0,Gn.jsxs)("div",{className:"bg-gradient-to-r from-green-600 to-green-500 text-white p-4 rounded-lg shadow-2xl border-2 border-green-700 animate-slide-in",children:[(0,Gn.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Gn.jsxs)("div",{className:"flex items-center",children:[(0,Gn.jsx)("span",{className:"text-2xl mr-2",children:"\ud83c\udfae"}),(0,Gn.jsx)("h3",{className:"font-bold text-lg",children:"Multijoueur Temps R\xe9el"})]}),(0,Gn.jsx)("button",{onClick:()=>{t(!1)},className:"text-white hover:text-gray-200 text-xl font-bold ml-2",children:"\xd7"})]}),(0,Gn.jsxs)("div",{className:"text-sm space-y-2",children:[(0,Gn.jsx)("p",{className:"font-semibold",children:"\u2728 Fonctionnalit\xe9s actives :"}),(0,Gn.jsxs)("ul",{className:"text-xs space-y-1 pl-4",children:[(0,Gn.jsx)("li",{children:"\u2022 \ud83d\udcac Chat multijoueur en temps r\xe9el"}),(0,Gn.jsx)("li",{children:"\u2022 \ud83d\udeb6 Mouvements des joueurs synchronis\xe9s"}),(0,Gn.jsx)("li",{children:"\u2022 \ud83d\udcca Compteur de joueurs en ligne"}),(0,Gn.jsx)("li",{children:"\u2022 \ud83d\udd14 Notifications join/leave instantan\xe9es"}),(0,Gn.jsx)("li",{children:"\u2022 \ud83d\uddfa\ufe0f Positions des joueurs sur la carte"})]}),(0,Gn.jsxs)("div",{className:"mt-3 p-2 bg-green-700 bg-opacity-50 rounded text-xs",children:[(0,Gn.jsx)("strong",{children:"\ud83d\udca1 Astuce :"})," Utilisez le chat en bas \xe0 droite pour discuter avec les autres joueurs !"]})]})]})}):null},mr=e=>{let{user:t,onLogout:n,demoMode:r=!1}=e;const[a,l]=(0,s.useState)(null),[i,o]=(0,s.useState)(null),[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)(!0),[f,p]=(0,s.useState)(""),[h,x]=(0,s.useState)(null),[b,g]=(0,s.useState)(0),[v,y]=(0,s.useState)(new Map);(0,s.useEffect)(()=>{if(!r){N();const e=setInterval(async()=>{try{const e=await Xn.getActiveCharacters();g(e.active_characters.length+1)}catch(f){console.error("Error loading active players:",f)}},1e4);return()=>clearInterval(e)}j()},[r]),(0,s.useEffect)(()=>{if(!r&&a){if(Zn.connect()){const e=e=>{y(t=>{const n=new Map(t);return n.set(e.id,{id:e.id,name:e.name,position_x:e.position_x,position_y:e.position_y,lastUpdate:Date.now()}),n})},t=e=>{y(t=>{const n=new Map(t);return n.set(e.id,{...e,lastUpdate:Date.now()}),n})},n=e=>{y(t=>{const n=new Map(t);return n.delete(e.id),n})};return Zn.on("player_moved",e),Zn.on("player_joined",t),Zn.on("player_left",n),()=>{Zn.off("player_moved",e),Zn.off("player_joined",t),Zn.off("player_left",n),Zn.disconnect()}}}},[a,r]),(0,s.useEffect)(()=>{const e=setInterval(()=>{const e=Date.now();y(t=>{const n=new Map;for(const[r,a]of t)e-a.lastUpdate<3e4&&n.set(r,a);return n})},1e4);return()=>clearInterval(e)},[]);const j=()=>{const e=[];for(let t=0;t<16;t++){const n=[];for(let e=0;e<18;e++)n.push({x:e,y:t,terrain_type:"grass",passable:!0});e.push(n)}l({id:"demo_character",name:"H\xe9ros D\xe9mo",faction:"Royalistes de Galoregor",character_class:"Guerrier",level:5,health:85,max_health:100,mana:42,max_mana:60,pa:600,max_pa:700,pm:180,max_pm:240,position_x:9,position_y:8,experience:450,gold:1247,strength:15,intelligence:8,agility:12,constitution:14,wisdom:10}),o({factions:[{id:"Royalistes de Galoregor",name:"Royalistes de Galoregor"},{id:"Exil\xe9s de Kaldrass",name:"Exil\xe9s de Kaldrass"},{id:"Cartel de Brumebois",name:"Cartel de Brumebois"}],classes:[{id:"Guerrier",name:"Guerrier"},{id:"Mage",name:"Mage"},{id:"Archer",name:"Archer"},{id:"Moine",name:"Moine"}],spells:[{id:"fireball",name:"Boule de Feu",mana_cost:10,pa_cost:3},{id:"heal",name:"Gu\xe9rison",mana_cost:8,pa_cost:2}]}),d(e),g(Math.floor(12*Math.random())+3),m(!1)},N=async()=>{try{m(!0);const n=await Xn.getGameData();o(n);const r=await Xn.getMap();d(r.map);try{const e=await Xn.getCharacter();l(e);const t=await Xn.getActiveCharacters();g(t.active_characters.length+1)}catch(t){var e;if(404!==(null===(e=t.response)||void 0===e?void 0:e.status))throw t}}catch(n){p("Erreur lors du chargement du jeu"),console.error("Game loading error:",n)}finally{m(!1)}},w=e=>{l(e)},k=e=>{l(e)};return u?(0,Gn.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-sky-gradient",children:(0,Gn.jsx)("div",{className:"medieval-panel p-8",children:(0,Gn.jsxs)("div",{className:"text-center",children:[(0,Gn.jsx)("h2",{className:"text-2xl font-medieval text-amber-900 mb-4",children:"Chargement du monde d'Alidhan..."}),(0,Gn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-900 mx-auto"})]})})}):f?(0,Gn.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-sky-gradient",children:(0,Gn.jsx)("div",{className:"medieval-panel p-8",children:(0,Gn.jsxs)("div",{className:"text-center",children:[(0,Gn.jsx)("h2",{className:"text-xl font-medieval text-red-600 mb-4",children:"Erreur"}),(0,Gn.jsx)("p",{className:"text-amber-900 mb-4",children:f}),(0,Gn.jsx)("button",{onClick:N,className:"medieval-button",children:"R\xe9essayer"})]})})}):!a&&i?(0,Gn.jsx)(er,{gameData:i,onCharacterCreated:w,onLogout:n}):(0,Gn.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-sky-200 via-sky-100 to-green-100",children:[(0,Gn.jsx)("div",{className:"bg-gradient-to-r from-amber-800 via-amber-700 to-amber-600 p-2 shadow-lg border-b-2 border-amber-900",children:(0,Gn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Gn.jsx)("h1",{className:"text-2xl font-medieval text-amber-100 font-bold",children:"\u2694\ufe0f Alidhan"}),(0,Gn.jsxs)("div",{className:"text-amber-200 text-sm",children:["Serveur: B\xeata \u2022 ",(new Date).toLocaleDateString("fr-FR")]})]}),(0,Gn.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Gn.jsxs)("div",{className:"text-amber-100 text-sm",children:[(0,Gn.jsxs)("span",{className:"font-semibold",children:["\ud83e\uddd9 ",null===a||void 0===a?void 0:a.name]}),(0,Gn.jsxs)("span",{className:"ml-2 opacity-75",children:["Niveau ",null===a||void 0===a?void 0:a.level]})]}),(0,Gn.jsx)("button",{onClick:n,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-1 rounded-lg text-sm font-bold border border-red-800",children:"\ud83d\udeaa D\xe9connexion"})]})]})}),(0,Gn.jsxs)("div",{className:"flex h-[calc(100vh-60px)]",children:[(0,Gn.jsxs)("div",{className:"w-56 flex flex-col bg-gradient-to-b from-amber-100 to-amber-200 border-r-2 border-amber-800",children:[(0,Gn.jsx)(ar,{character:a,onCharacterUpdate:k}),(0,Gn.jsx)("div",{className:"p-2",children:(0,Gn.jsx)(ir,{character:a})}),(0,Gn.jsx)(dr,{character:a}),(0,Gn.jsxs)("div",{className:"medieval-panel m-2 p-2 flex-1",children:[(0,Gn.jsx)("h4",{className:"font-bold text-amber-900 text-center mb-2 text-sm",children:"\ud83d\udc65 Statistiques"}),(0,Gn.jsxs)("div",{className:"text-xs space-y-1",children:[(0,Gn.jsxs)("div",{className:"flex justify-between",children:[(0,Gn.jsx)("span",{className:"text-amber-800",children:"\ud83d\udd34 Actifs:"}),(0,Gn.jsx)("span",{className:"font-bold",children:b})]}),(0,Gn.jsxs)("div",{className:"flex justify-between",children:[(0,Gn.jsx)("span",{className:"text-amber-800",children:"\u26a1 En ligne:"}),(0,Gn.jsx)("span",{className:"font-bold",children:b>0?b-1:0})]}),(0,Gn.jsxs)("div",{className:"flex justify-between",children:[(0,Gn.jsx)("span",{className:"text-amber-800",children:"\ud83d\udccd Cette zone:"}),(0,Gn.jsx)("span",{className:"font-bold",children:b})]})]})]})]}),(0,Gn.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,Gn.jsx)("div",{className:"flex-1 flex justify-center items-center p-2",children:(0,Gn.jsx)(nr,{map:c,character:a,onCharacterUpdate:k,selectedAction:h,realtimeCharacters:Array.from(v.values())})}),(0,Gn.jsxs)("div",{className:"p-2 space-y-2",children:[(0,Gn.jsx)(or,{character:a,gameData:i,onActionSelect:e=>{x(e)},selectedAction:h,onCharacterUpdate:k}),(0,Gn.jsx)(lr,{character:a,gameData:i,onCharacterUpdate:k})]})]})]}),!r&&a&&(0,Gn.jsx)(cr,{character:a}),!r&&a&&(0,Gn.jsx)(ur,{})]})},fr=Vn.create({baseURL:"https://icii.onrender.com/api",headers:{"Content-Type":"application/json"}});fr.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const pr={async adminLogin(e){const t=await fr.post("/auth/admin",e);return t.data.token&&localStorage.setItem("token",t.data.token),t.data},getDashboard:async()=>(await fr.get("/admin/dashboard")).data,getAllMaps:async()=>(await fr.get("/admin/maps")).data,async getAdminMap(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return(await fr.get(`/admin/map/${e}`)).data},updateMap:async(e,t)=>(await fr.put(`/admin/map/${e}`,{tiles:t})).data,createMap:async e=>(await fr.post("/admin/map",e)).data,deleteMap:async e=>(await fr.delete(`/admin/map/${e}`)).data,getAllNPCs:async()=>(await fr.get("/admin/npcs")).data,createNPC:async e=>(await fr.post("/admin/npcs",e)).data,updateNPC:async(e,t)=>(await fr.put(`/admin/npcs/${e}`,t)).data,deleteNPC:async e=>(await fr.delete(`/admin/npcs/${e}`)).data,getAllEnemies:async()=>(await fr.get("/admin/enemies")).data,createEnemy:async e=>(await fr.post("/admin/enemies",e)).data,deleteEnemy:async e=>(await fr.delete(`/admin/enemies/${e}`)).data,getAllQuests:async()=>(await fr.get("/admin/quests")).data,createQuest:async e=>(await fr.post("/admin/quests",e)).data,updateQuest:async(e,t)=>(await fr.put(`/admin/quests/${e}`,t)).data,deleteQuest:async e=>(await fr.delete(`/admin/quests/${e}`)).data,getAllPortals:async()=>(await fr.get("/admin/portals")).data,createPortal:async e=>(await fr.post("/admin/portals",e)).data,deletePortal:async e=>(await fr.delete(`/admin/portals/${e}`)).data,getAllPlayers:async()=>(await fr.get("/admin/players")).data,async uploadTiles(e){const t=new FormData;t.append("file",e);return(await fr.post("/admin/tiles/upload",t,{headers:{"Content-Type":"multipart/form-data"}})).data},getTileCategories:async()=>(await fr.get("/admin/tiles/categories")).data,async getTiles(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=e?`/admin/tiles?category=${encodeURIComponent(e)}`:"/admin/tiles";return(await fr.get(t)).data},getTile:async e=>(await fr.get(`/admin/tiles/${e}`)).data,updateTile:async(e,t)=>(await fr.put(`/admin/tiles/${e}`,t)).data,deleteTile:async e=>(await fr.delete(`/admin/tiles/${e}`)).data,deleteCategory:async e=>(await fr.delete(`/admin/tiles/category/${encodeURIComponent(e)}`)).data,updateMapTile:async(e,t)=>(await fr.put(`/admin/map/${e}/tile`,t)).data},hr=e=>{let{onAdminLogin:t}=e;const[n,r]=(0,s.useState)({username:"",password:""}),[a,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(""),c=e=>{r({...n,[e.target.name]:e.target.value})};return(0,Gn.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-900 to-amber-900",children:(0,Gn.jsx)("div",{className:"max-w-md w-full",children:(0,Gn.jsxs)("div",{className:"medieval-panel p-8",children:[(0,Gn.jsxs)("div",{className:"text-center mb-8",children:[(0,Gn.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udd10"}),(0,Gn.jsx)("h1",{className:"text-3xl font-medieval text-amber-900 mb-2",children:"Panneau d'Administration"}),(0,Gn.jsx)("p",{className:"text-amber-700",children:"Alidhan MMORPG"})]}),(0,Gn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),l(!0),o("");try{const e=await pr.adminLogin(n);t(e.user)}catch(s){var r,a;o((null===(r=s.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.detail)||"Erreur de connexion administrateur")}finally{l(!1)}},className:"space-y-6",children:[(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-amber-900 font-bold mb-2",children:"Nom d'utilisateur administrateur :"}),(0,Gn.jsx)("input",{type:"text",name:"username",value:n.username,onChange:c,className:"medieval-input w-full",placeholder:"admin",required:!0})]}),(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-amber-900 font-bold mb-2",children:"Mot de passe administrateur :"}),(0,Gn.jsx)("input",{type:"password",name:"password",value:n.password,onChange:c,className:"medieval-input w-full",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022",required:!0})]}),i&&(0,Gn.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:(0,Gn.jsxs)("div",{className:"flex items-center",children:[(0,Gn.jsx)("span",{className:"text-red-500 mr-2",children:"\u274c"}),i]})}),(0,Gn.jsx)("button",{type:"submit",disabled:a,className:"medieval-button w-full text-lg py-3",children:a?"\ud83d\udd04 Connexion...":"\ud83d\ude80 ACC\xc9DER \xc0 L'ADMINISTRATION"})]}),(0,Gn.jsx)("div",{className:"mt-8 text-center",children:(0,Gn.jsxs)("div",{className:"bg-amber-50 border border-amber-400 rounded p-4 text-sm",children:[(0,Gn.jsx)("p",{className:"text-amber-800 font-semibold mb-2",children:"\u26a0\ufe0f Zone Administrateur"}),(0,Gn.jsx)("p",{className:"text-amber-700",children:"Acc\xe8s r\xe9serv\xe9 aux administrateurs autoris\xe9s. Toutes les actions sont enregistr\xe9es et surveill\xe9es."})]})})]})})})},xr=e=>{let{data:t,onRefresh:n}=e;if(!t)return(0,Gn.jsxs)("div",{className:"p-8 text-center",children:[(0,Gn.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-amber-600 mx-auto mb-4"}),(0,Gn.jsx)("p",{className:"text-amber-800",children:"Chargement des donn\xe9es du tableau de bord..."})]});const{statistics:r,recent_players:a}=t;return(0,Gn.jsxs)("div",{className:"p-6",children:[(0,Gn.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,Gn.jsx)("h2",{className:"text-3xl font-bold text-amber-900",children:"\ud83d\udcca Tableau de Bord"}),(0,Gn.jsx)("button",{onClick:n,className:"medieval-button",children:"\ud83d\udd04 Actualiser"})]}),(0,Gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Gn.jsx)("div",{className:"bg-gradient-to-br from-blue-100 to-blue-200 p-6 rounded-lg border-2 border-blue-400 shadow-lg",children:(0,Gn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("p",{className:"text-blue-800 text-sm font-semibold",children:"Utilisateurs Total"}),(0,Gn.jsx)("p",{className:"text-3xl font-bold text-blue-900",children:r.total_users})]}),(0,Gn.jsx)("div",{className:"text-4xl",children:"\ud83d\udc65"})]})}),(0,Gn.jsx)("div",{className:"bg-gradient-to-br from-green-100 to-green-200 p-6 rounded-lg border-2 border-green-400 shadow-lg",children:(0,Gn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("p",{className:"text-green-800 text-sm font-semibold",children:"Personnages Actifs"}),(0,Gn.jsx)("p",{className:"text-3xl font-bold text-green-900",children:r.total_characters})]}),(0,Gn.jsx)("div",{className:"text-4xl",children:"\u2694\ufe0f"})]})}),(0,Gn.jsx)("div",{className:"bg-gradient-to-br from-red-100 to-red-200 p-6 rounded-lg border-2 border-red-400 shadow-lg",children:(0,Gn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("p",{className:"text-red-800 text-sm font-semibold",children:"Monstres Spawned"}),(0,Gn.jsx)("p",{className:"text-3xl font-bold text-red-900",children:r.total_enemies})]}),(0,Gn.jsx)("div",{className:"text-4xl",children:"\ud83d\udc79"})]})}),(0,Gn.jsx)("div",{className:"bg-gradient-to-br from-purple-100 to-purple-200 p-6 rounded-lg border-2 border-purple-400 shadow-lg",children:(0,Gn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("p",{className:"text-purple-800 text-sm font-semibold",children:"PNJ Cr\xe9\xe9s"}),(0,Gn.jsx)("p",{className:"text-3xl font-bold text-purple-900",children:r.total_npcs})]}),(0,Gn.jsx)("div",{className:"text-4xl",children:"\ud83e\uddd9\u200d\u2642\ufe0f"})]})})]}),(0,Gn.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 p-6 rounded-lg border-2 border-amber-400 shadow-lg",children:[(0,Gn.jsx)("h3",{className:"text-xl font-bold text-amber-900 mb-4",children:"\ud83c\udd95 Joueurs R\xe9cents"}),a&&a.length>0?(0,Gn.jsx)("div",{className:"overflow-x-auto",children:(0,Gn.jsxs)("table",{className:"w-full table-auto",children:[(0,Gn.jsx)("thead",{children:(0,Gn.jsxs)("tr",{className:"bg-amber-200",children:[(0,Gn.jsx)("th",{className:"px-4 py-2 text-left text-amber-900 font-bold",children:"Nom du Personnage"}),(0,Gn.jsx)("th",{className:"px-4 py-2 text-left text-amber-900 font-bold",children:"Classe"}),(0,Gn.jsx)("th",{className:"px-4 py-2 text-left text-amber-900 font-bold",children:"Faction"}),(0,Gn.jsx)("th",{className:"px-4 py-2 text-left text-amber-900 font-bold",children:"Niveau"}),(0,Gn.jsx)("th",{className:"px-4 py-2 text-left text-amber-900 font-bold",children:"Position"}),(0,Gn.jsx)("th",{className:"px-4 py-2 text-left text-amber-900 font-bold",children:"Date de Cr\xe9ation"})]})}),(0,Gn.jsx)("tbody",{children:a.map((e,t)=>(0,Gn.jsxs)("tr",{className:t%2===0?"bg-white":"bg-amber-50",children:[(0,Gn.jsx)("td",{className:"px-4 py-2 font-semibold text-amber-900",children:e.name}),(0,Gn.jsx)("td",{className:"px-4 py-2 text-amber-800",children:e.character_class}),(0,Gn.jsx)("td",{className:"px-4 py-2 text-amber-800",children:e.faction}),(0,Gn.jsx)("td",{className:"px-4 py-2 text-center",children:(0,Gn.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm font-bold",children:e.level})}),(0,Gn.jsxs)("td",{className:"px-4 py-2 text-amber-800",children:["(",e.position_x,", ",e.position_y,")"]}),(0,Gn.jsx)("td",{className:"px-4 py-2 text-amber-800 text-sm",children:new Date(e.created_at).toLocaleDateString("fr-FR")})]},e.id||t))})]})}):(0,Gn.jsxs)("div",{className:"text-center py-8",children:[(0,Gn.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udced"}),(0,Gn.jsx)("p",{className:"text-amber-700",children:"Aucun joueur r\xe9cent trouv\xe9"})]})]}),(0,Gn.jsxs)("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Gn.jsxs)("div",{className:"bg-gradient-to-br from-indigo-100 to-indigo-200 p-6 rounded-lg border-2 border-indigo-400 shadow-lg text-center",children:[(0,Gn.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\uddfa\ufe0f"}),(0,Gn.jsx)("h4",{className:"text-lg font-bold text-indigo-900 mb-2",children:"\xc9diteur de Carte"}),(0,Gn.jsx)("p",{className:"text-indigo-800 text-sm mb-4",children:"Modifier le terrain et les structures"}),(0,Gn.jsx)("button",{className:"medieval-button w-full",children:"Ouvrir l'\xc9diteur"})]}),(0,Gn.jsxs)("div",{className:"bg-gradient-to-br from-pink-100 to-pink-200 p-6 rounded-lg border-2 border-pink-400 shadow-lg text-center",children:[(0,Gn.jsx)("div",{className:"text-4xl mb-4",children:"\ud83e\uddd9\u200d\u2642\ufe0f"}),(0,Gn.jsx)("h4",{className:"text-lg font-bold text-pink-900 mb-2",children:"Gestion PNJ"}),(0,Gn.jsx)("p",{className:"text-pink-800 text-sm mb-4",children:"Cr\xe9er et positionner des PNJ"}),(0,Gn.jsx)("button",{className:"medieval-button w-full",children:"G\xe9rer les PNJ"})]}),(0,Gn.jsxs)("div",{className:"bg-gradient-to-br from-teal-100 to-teal-200 p-6 rounded-lg border-2 border-teal-400 shadow-lg text-center",children:[(0,Gn.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udccb"}),(0,Gn.jsx)("h4",{className:"text-lg font-bold text-teal-900 mb-2",children:"Cr\xe9ateur de Qu\xeates"}),(0,Gn.jsx)("p",{className:"text-teal-800 text-sm mb-4",children:"Concevoir de nouvelles aventures"}),(0,Gn.jsx)("button",{className:"medieval-button w-full",children:"Cr\xe9er des Qu\xeates"})]})]}),(0,Gn.jsxs)("div",{className:"mt-8 bg-gradient-to-br from-gray-100 to-gray-200 p-6 rounded-lg border-2 border-gray-400 shadow-lg",children:[(0,Gn.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"\ud83d\udda5\ufe0f \xc9tat du Syst\xe8me"}),(0,Gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Gn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gn.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),(0,Gn.jsx)("span",{className:"text-gray-700",children:"API: Op\xe9rationnelle"})]}),(0,Gn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gn.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),(0,Gn.jsx)("span",{className:"text-gray-700",children:"Base de Donn\xe9es: Active"})]}),(0,Gn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gn.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded-full animate-pulse"}),(0,Gn.jsx)("span",{className:"text-gray-700",children:"Cache: Synchronisation"})]}),(0,Gn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gn.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),(0,Gn.jsx)("span",{className:"text-gray-700",children:"Services: En ligne"})]})]})]})]})},br={grass:{name:"Herbe",icon:"\ud83c\udf31",color:"bg-green-400"},water:{name:"Eau",icon:"\ud83d\udca7",color:"bg-blue-500"},forest:{name:"For\xeat",icon:"\ud83c\udf32",color:"bg-green-800"},rock:{name:"Roche",icon:"\ud83e\udea8",color:"bg-gray-600"},road:{name:"Route",icon:"\ud83d\udee4\ufe0f",color:"bg-yellow-700"},house:{name:"Maison",icon:"\ud83c\udfe0",color:"bg-red-700"},portal:{name:"Portail",icon:"\ud83c\udf00",color:"bg-purple-600"},bridge:{name:"Pont",icon:"\ud83c\udf09",color:"bg-amber-600"},custom:{name:"Custom",icon:"\ud83c\udfa8",color:"bg-pink-500"}},gr=()=>{var e,t,n;const[r,a]=(0,s.useState)([]),[l,i]=(0,s.useState)("main"),[o,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(null),[m,f]=(0,s.useState)("grass"),[p,h]=(0,s.useState)(null),[x,b]=(0,s.useState)([]),[g,v]=(0,s.useState)([]),[y,j]=(0,s.useState)(""),[N,w]=(0,s.useState)(!1),[k,S]=(0,s.useState)(!0),[_,C]=(0,s.useState)(!1),[E,P]=(0,s.useState)(""),[T,R]=(0,s.useState)(!1),[O,A]=(0,s.useState)({map_id:"",name:""});(0,s.useEffect)(()=>{L(),M(),z()},[]),(0,s.useEffect)(()=>{l&&r.length>0&&D(l)},[l]);const L=async()=>{try{S(!0);const e=await pr.getAllMaps();if(a(e.maps||[]),e.maps&&e.maps.length>0){const t=e.maps.find(e=>"main"===e.map_id);i(t?"main":e.maps[0].map_id)}}catch(e){console.error("Error loading maps:",e),P("Erreur lors du chargement des cartes")}finally{S(!1)}},M=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{const t=await pr.getTiles(e);b(t.tiles||[])}catch(t){console.error("Error loading custom tiles:",t)}},z=async()=>{try{const e=await pr.getTileCategories();v(e.categories||[])}catch(e){console.error("Error loading tile categories:",e)}},D=async e=>{try{S(!0);const t=await pr.getAdminMap(e);u(t.map),c(t)}catch(t){console.error("Error loading map:",t),P(`Erreur lors du chargement de la carte ${e}`)}finally{S(!1)}};return k&&!d?(0,Gn.jsxs)("div",{className:"p-8 text-center",children:[(0,Gn.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-amber-600 mx-auto mb-4"}),(0,Gn.jsx)("p",{className:"text-amber-800",children:"Chargement de l'\xe9diteur de carte..."})]}):(0,Gn.jsxs)("div",{className:"p-6",children:[(0,Gn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Gn.jsx)("h2",{className:"text-3xl font-bold text-amber-900",children:"\ud83d\uddfa\ufe0f \xc9diteur de Carte"}),(0,Gn.jsxs)("div",{className:"flex space-x-4",children:[(0,Gn.jsx)("button",{onClick:()=>R(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded font-bold",children:"\u2795 Nouvelle Carte"}),(0,Gn.jsx)("button",{onClick:()=>{window.confirm("\xcates-vous s\xfbr de vouloir recharger la carte depuis la base de donn\xe9es ?")&&(D(l),P("Carte recharg\xe9e depuis la base de donn\xe9es"))},className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded font-bold",children:"\ud83d\udd04 Recharger"}),(0,Gn.jsx)("button",{onClick:async()=>{try{C(!0),await pr.updateMap(l,d),P(`Carte ${(null===o||void 0===o?void 0:o.name)||l} sauvegard\xe9e avec succ\xe8s !`),setTimeout(()=>P(""),3e3)}catch(e){console.error("Error saving map:",e),P("Erreur lors de la sauvegarde")}finally{C(!1)}},disabled:_,className:"medieval-button",children:_?"\ud83d\udcbe Sauvegarde...":"\ud83d\udcbe Sauvegarder"})]})]}),E&&(0,Gn.jsx)("div",{className:"mb-4 p-3 rounded border "+(E.includes("succ\xe8s")?"bg-green-100 border-green-400 text-green-700":"bg-red-100 border-red-400 text-red-700"),children:E}),T&&(0,Gn.jsxs)("div",{className:"mb-6 bg-blue-50 p-6 rounded-lg border-2 border-blue-400",children:[(0,Gn.jsx)("h3",{className:"text-xl font-bold text-blue-900 mb-4",children:"\u2795 Cr\xe9er une Nouvelle Carte"}),(0,Gn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),O.map_id&&O.name)try{await pr.createMap(O),await L(),i(O.map_id),R(!1),A({map_id:"",name:""}),P(`Carte ${O.name} cr\xe9\xe9e avec succ\xe8s !`),setTimeout(()=>P(""),3e3)}catch(r){var t,n;console.error("Error creating map:",r),P((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Erreur lors de la cr\xe9ation de la carte")}else P("Veuillez remplir tous les champs")},className:"space-y-4",children:[(0,Gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-blue-900 font-bold mb-2",children:"ID de la Carte:"}),(0,Gn.jsx)("input",{type:"text",value:O.map_id,onChange:e=>A({...O,map_id:e.target.value}),className:"medieval-input w-full",placeholder:"Ex: dungeon, forest, mountain",pattern:"[a-z_]+",title:"Utilisez uniquement des lettres minuscules et des underscores",required:!0})]}),(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-blue-900 font-bold mb-2",children:"Nom de la Carte:"}),(0,Gn.jsx)("input",{type:"text",value:O.name,onChange:e=>A({...O,name:e.target.value}),className:"medieval-input w-full",placeholder:"Ex: Donjon des Ombres",required:!0})]})]}),(0,Gn.jsxs)("div",{className:"flex space-x-4",children:[(0,Gn.jsx)("button",{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded font-bold",children:"\u2795 Cr\xe9er la Carte"}),(0,Gn.jsx)("button",{type:"button",onClick:()=>R(!1),className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded font-bold",children:"\u274c Annuler"})]})]})]}),(0,Gn.jsxs)("div",{className:"mb-6 bg-purple-50 p-4 rounded-lg border-2 border-purple-400",children:[(0,Gn.jsx)("h3",{className:"text-lg font-bold text-purple-900 mb-4",children:"\ud83d\uddc2\ufe0f S\xe9lection de la Carte \xe0 Modifier"}),(0,Gn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-3",children:r.map(e=>(0,Gn.jsxs)("div",{className:"relative p-4 rounded-lg border-2 cursor-pointer transition-all "+(l===e.map_id?"border-purple-600 bg-purple-200 shadow-lg scale-105":"border-purple-300 bg-white hover:bg-purple-50"),onClick:()=>{return t=e.map_id,void i(t);var t},children:[(0,Gn.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Gn.jsx)("h4",{className:"font-bold text-purple-900",children:e.name}),"main"!==e.map_id&&(0,Gn.jsx)("button",{onClick:t=>{t.stopPropagation(),(async e=>{if("main"!==e){if(window.confirm(`\xcates-vous s\xfbr de vouloir supprimer la carte ${e} ?`))try{await pr.deleteMap(e),await L(),l===e&&i("main"),P(`Carte ${e} supprim\xe9e avec succ\xe8s`),setTimeout(()=>P(""),3e3)}catch(r){var t,n;console.error("Error deleting map:",r),P((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Erreur lors de la suppression")}}else P("Impossible de supprimer la carte principale")})(e.map_id)},className:"text-red-500 hover:text-red-700 text-sm",title:"Supprimer cette carte",children:"\ud83d\uddd1\ufe0f"})]}),(0,Gn.jsxs)("div",{className:"text-sm text-purple-700",children:[(0,Gn.jsxs)("p",{children:[(0,Gn.jsx)("strong",{children:"ID:"})," ",e.map_id]}),(0,Gn.jsxs)("p",{children:[(0,Gn.jsx)("strong",{children:"Taille:"})," ",e.size]})]}),l===e.map_id&&(0,Gn.jsx)("div",{className:"absolute top-2 right-2",children:(0,Gn.jsx)("div",{className:"bg-purple-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:"\u2713"})})]},e.map_id))}),o&&(0,Gn.jsxs)("div",{className:"mt-4 p-3 bg-purple-100 rounded border",children:[(0,Gn.jsx)("h4",{className:"font-bold text-purple-900 mb-2",children:"\ud83d\udccb Carte Actuelle"}),(0,Gn.jsxs)("p",{className:"text-purple-800",children:[(0,Gn.jsx)("strong",{children:"Nom:"})," ",o.name," |",(0,Gn.jsx)("strong",{children:" ID:"})," ",o.map_id," |",(0,Gn.jsx)("strong",{children:" Statut:"})," ",_?"Sauvegarde...":"Pr\xeat \xe0 modifier"]})]})]}),(0,Gn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,Gn.jsxs)("div",{className:"bg-amber-50 p-4 rounded-lg border-2 border-amber-300",children:[(0,Gn.jsx)("h3",{className:"text-lg font-bold text-amber-900 mb-4",children:"\ud83c\udfa8 S\xe9lection du Terrain"}),(0,Gn.jsx)("div",{className:"grid grid-cols-2 gap-2 mb-4",children:Object.entries(br).filter(e=>{let[t]=e;return"custom"!==t}).map(e=>{let[t,n]=e;return(0,Gn.jsxs)("button",{onClick:()=>(f(t),void h(null)),className:"p-3 rounded-lg border-2 transition-all "+(m!==t||p?"border-gray-300 bg-white hover:bg-gray-50":"border-amber-600 bg-amber-200 shadow-lg scale-105"),children:[(0,Gn.jsx)("div",{className:"text-2xl mb-1",children:n.icon}),(0,Gn.jsx)("div",{className:"text-xs font-semibold text-gray-700",children:n.name})]},t)})}),(0,Gn.jsxs)("div",{className:"border-t pt-4",children:[(0,Gn.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Gn.jsx)("h4",{className:"font-bold text-amber-900",children:"\ud83c\udfa8 Tiles Personnalis\xe9es"}),(0,Gn.jsx)("button",{onClick:()=>w(!N),className:"text-sm bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded",children:N?"Fermer":"Ouvrir"})]}),p&&(0,Gn.jsx)("div",{className:"mb-3 p-2 bg-pink-100 border border-pink-300 rounded",children:(0,Gn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gn.jsx)("img",{src:`data:image/png;base64,${p.image_data}`,alt:p.name,className:"w-8 h-8 border"}),(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("div",{className:"text-sm font-bold",children:p.name}),(0,Gn.jsx)("div",{className:"text-xs text-gray-600",children:p.passable?"\u2705 Passable":"\u274c Bloquant"})]})]})}),N&&(0,Gn.jsxs)("div",{className:"bg-white border rounded p-3 max-h-60 overflow-y-auto",children:[(0,Gn.jsx)("div",{className:"mb-3",children:(0,Gn.jsxs)("select",{value:y,onChange:e=>{return t=e.target.value,j(t),void M(t);var t},className:"w-full text-sm border rounded p-1",children:[(0,Gn.jsx)("option",{value:"",children:"Toutes les cat\xe9gories"}),g.map(e=>(0,Gn.jsxs)("option",{value:e.name,children:[e.name," (",e.tile_count,")"]},e.name))]})}),(0,Gn.jsx)("div",{className:"grid grid-cols-4 gap-1",children:x.slice(0,20).map(e=>(0,Gn.jsx)("button",{onClick:()=>(e=>{h(e),f("custom"),w(!1)})(e),className:"p-1 rounded border-2 transition-all "+((null===p||void 0===p?void 0:p.id)===e.id?"border-pink-600 bg-pink-100":"border-gray-200 hover:border-pink-300"),title:e.name,children:(0,Gn.jsx)("img",{src:`data:image/png;base64,${e.image_data}`,alt:e.name,className:"w-full h-full object-contain"})},e.id))}),x.length>20&&(0,Gn.jsxs)("div",{className:"text-xs text-center text-gray-500 mt-2",children:["et ",x.length-20," autres tiles..."]})]})]}),(0,Gn.jsxs)("div",{className:"mt-4 p-3 bg-white rounded border",children:[(0,Gn.jsx)("h4",{className:"font-semibold text-gray-700 mb-2",children:"Terrain S\xe9lectionn\xe9:"}),(0,Gn.jsx)("div",{className:"flex items-center space-x-2",children:p?(0,Gn.jsxs)(Gn.Fragment,{children:[(0,Gn.jsx)("img",{src:`data:image/png;base64,${p.image_data}`,alt:p.name,className:"w-8 h-8 border"}),(0,Gn.jsx)("span",{className:"font-bold",children:p.name})]}):(0,Gn.jsxs)(Gn.Fragment,{children:[(0,Gn.jsx)("span",{className:"text-2xl",children:null===(e=br[m])||void 0===e?void 0:e.icon}),(0,Gn.jsx)("span",{className:"font-bold",children:null===(t=br[m])||void 0===t?void 0:t.name})]})}),(0,Gn.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Cliquez sur une case de la carte pour appliquer ce terrain"})]})]}),(0,Gn.jsxs)("div",{className:"lg:col-span-3",children:[(0,Gn.jsxs)("div",{className:"bg-amber-100 p-4 rounded-lg border-2 border-amber-400",children:[(0,Gn.jsxs)("h3",{className:"text-lg font-bold text-amber-900 mb-4",children:["\ud83d\uddfa\ufe0f ",(null===o||void 0===o?void 0:o.name)||"Carte"," (20x20)"]}),d&&(0,Gn.jsx)("div",{className:"inline-block bg-gray-800 p-2 rounded-lg shadow-lg",children:(0,Gn.jsx)("div",{className:"grid gap-px",style:{gridTemplateColumns:"repeat(20, 1fr)",gridTemplateRows:"repeat(20, 1fr)"},children:d.map((e,t)=>e.map((e,n)=>{const r=br[e.terrain_type]||br.grass,a="custom"===e.terrain_type&&e.tile_image;return(0,Gn.jsx)("div",{onClick:()=>(async(e,t)=>{if(!d)return;let n={x:e,y:t,terrain_type:m,passable:"water"!==m&&"rock"!==m&&"house"!==m};p&&(n={x:e,y:t,terrain_type:"custom",custom_tile_id:p.id,passable:p.passable});try{await pr.updateMapTile(l,n);const r=d.map((r,a)=>r.map((r,s)=>{if(s===e&&a===t){let e={...r,terrain_type:n.terrain_type,passable:n.passable};return n.custom_tile_id?(e.custom_tile_id=n.custom_tile_id,e.tile_image=p.image_data):(delete e.custom_tile_id,delete e.tile_image),e}return r}));u(r)}catch(r){console.error("Error updating tile:",r),P("Erreur lors de la mise \xe0 jour de la tile")}})(n,t),className:`\n                            w-6 h-6 cursor-pointer border border-gray-400 flex items-center justify-center\n                            text-xs hover:scale-110 hover:z-10 transition-all\n                            ${a?"bg-gray-200":r.color}\n                            ${e.passable?"":"opacity-75"}\n                          `,title:`${a?"Custom Tile":r.name} (${n}, ${t}) - ${e.passable?"Accessible":"Bloqu\xe9"}`,children:a?(0,Gn.jsx)("img",{src:`data:image/png;base64,${e.tile_image}`,alt:"Custom tile",className:"w-full h-full object-contain"}):(0,Gn.jsx)("span",{className:"text-xs",children:r.icon})},`${n}-${t}`)}))})})]}),(0,Gn.jsxs)("div",{className:"mt-4 bg-blue-50 p-4 rounded-lg border-2 border-blue-300",children:[(0,Gn.jsx)("h4",{className:"font-bold text-blue-900 mb-2",children:"\u2139\ufe0f Informations de la Carte"}),(0,Gn.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Gn.jsxs)("div",{children:[(0,Gn.jsxs)("p",{className:"text-blue-800",children:[(0,Gn.jsx)("strong",{children:"Carte:"})," ",(null===o||void 0===o?void 0:o.name)||"Non s\xe9lectionn\xe9e"]}),(0,Gn.jsxs)("p",{className:"text-blue-800",children:[(0,Gn.jsx)("strong",{children:"Taille:"})," 20x20 cases"]}),(0,Gn.jsxs)("p",{className:"text-blue-800",children:[(0,Gn.jsx)("strong",{children:"Terrain S\xe9lectionn\xe9:"})," ",null===(n=br[m])||void 0===n?void 0:n.name]})]}),(0,Gn.jsxs)("div",{children:[(0,Gn.jsxs)("p",{className:"text-blue-800",children:[(0,Gn.jsx)("strong",{children:"ID:"})," ",(null===o||void 0===o?void 0:o.map_id)||"N/A"]}),(0,Gn.jsxs)("p",{className:"text-blue-800",children:[(0,Gn.jsx)("strong",{children:"Passable:"})," ","water"!==m&&"rock"!==m&&"house"!==m?"Oui":"Non"]}),(0,Gn.jsxs)("p",{className:"text-blue-800",children:[(0,Gn.jsx)("strong",{children:"\xc9tat:"})," ",_?"Sauvegarde...":"Pr\xeat"]})]})]})]})]})]})]})},vr={merchant:{name:"Marchand",icon:"\ud83d\uded2",color:"bg-green-100"},quest_giver:{name:"Donneur de Qu\xeates",icon:"\ud83d\udccb",color:"bg-blue-100"},guard:{name:"Garde",icon:"\ud83d\udee1\ufe0f",color:"bg-red-100"},blacksmith:{name:"Forgeron",icon:"\ud83d\udd28",color:"bg-gray-100"},healer:{name:"Gu\xe9risseur",icon:"\ud83d\udc9a",color:"bg-green-200"},trainer:{name:"Entra\xeeneur",icon:"\u2694\ufe0f",color:"bg-yellow-100"},sage:{name:"Sage",icon:"\ud83e\uddd9\u200d\u2642\ufe0f",color:"bg-purple-100"}},yr=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[a,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(null),[c,d]=(0,s.useState)({name:"",description:"",position_x:10,position_y:10,npc_type:"merchant",dialogue:[""],items_for_sale:[],quests_available:[]});(0,s.useEffect)(()=>{u()},[]);const u=async()=>{try{r(!0);const e=await pr.getAllNPCs();t(e.npcs||[])}catch(e){console.error("Error loading NPCs:",e)}finally{r(!1)}},m=()=>{d({name:"",description:"",position_x:10,position_y:10,npc_type:"merchant",dialogue:[""],items_for_sale:[],quests_available:[]}),o(null),l(!1)};return n?(0,Gn.jsxs)("div",{className:"p-8 text-center",children:[(0,Gn.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-amber-600 mx-auto mb-4"}),(0,Gn.jsx)("p",{className:"text-amber-800",children:"Chargement des PNJ..."})]}):(0,Gn.jsxs)("div",{className:"p-6",children:[(0,Gn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Gn.jsx)("h2",{className:"text-3xl font-bold text-amber-900",children:"\ud83e\uddd9\u200d\u2642\ufe0f Gestion des PNJ"}),(0,Gn.jsx)("button",{onClick:()=>l(!0),className:"medieval-button",children:"\u2795 Cr\xe9er un PNJ"})]}),a&&(0,Gn.jsxs)("div",{className:"mb-8 bg-amber-50 p-6 rounded-lg border-2 border-amber-400",children:[(0,Gn.jsx)("h3",{className:"text-xl font-bold text-amber-900 mb-4",children:i?"\u270f\ufe0f Modifier le PNJ":"\u2795 Cr\xe9er un nouveau PNJ"}),(0,Gn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=c.dialogue.filter(e=>""!==e.trim()),t={...c,dialogue:e};i?await pr.updateNPC(i.id,t):await pr.createNPC(t),await u(),m()}catch(t){console.error("Error saving NPC:",t),alert("Erreur lors de la sauvegarde du PNJ")}},className:"space-y-4",children:[(0,Gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-amber-900 font-bold mb-2",children:"Nom du PNJ:"}),(0,Gn.jsx)("input",{type:"text",value:c.name,onChange:e=>d({...c,name:e.target.value}),className:"medieval-input w-full",required:!0})]}),(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-amber-900 font-bold mb-2",children:"Type de PNJ:"}),(0,Gn.jsx)("select",{value:c.npc_type,onChange:e=>d({...c,npc_type:e.target.value}),className:"medieval-input w-full",children:Object.entries(vr).map(e=>{let[t,n]=e;return(0,Gn.jsxs)("option",{value:t,children:[n.icon," ",n.name]},t)})})]})]}),(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-amber-900 font-bold mb-2",children:"Description:"}),(0,Gn.jsx)("textarea",{value:c.description,onChange:e=>d({...c,description:e.target.value}),className:"medieval-input w-full h-20",required:!0})]}),(0,Gn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-amber-900 font-bold mb-2",children:"Position X (0-19):"}),(0,Gn.jsx)("input",{type:"number",min:"0",max:"19",value:c.position_x,onChange:e=>d({...c,position_x:parseInt(e.target.value)}),className:"medieval-input w-full",required:!0})]}),(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-amber-900 font-bold mb-2",children:"Position Y (0-19):"}),(0,Gn.jsx)("input",{type:"number",min:"0",max:"19",value:c.position_y,onChange:e=>d({...c,position_y:parseInt(e.target.value)}),className:"medieval-input w-full",required:!0})]})]}),(0,Gn.jsxs)("div",{children:[(0,Gn.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Gn.jsx)("label",{className:"block text-amber-900 font-bold",children:"Dialogue:"}),(0,Gn.jsx)("button",{type:"button",onClick:()=>{d({...c,dialogue:[...c.dialogue,""]})},className:"text-sm bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded",children:"+ Ajouter ligne"})]}),c.dialogue.map((e,t)=>(0,Gn.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Gn.jsx)("input",{type:"text",value:e,onChange:e=>((e,t)=>{const n=[...c.dialogue];n[e]=t,d({...c,dialogue:n})})(t,e.target.value),className:"medieval-input flex-1",placeholder:`Ligne de dialogue ${t+1}`}),c.dialogue.length>1&&(0,Gn.jsx)("button",{type:"button",onClick:()=>(e=>{const t=c.dialogue.filter((t,n)=>n!==e);d({...c,dialogue:t.length>0?t:[""]})})(t),className:"text-red-600 hover:text-red-800 font-bold",children:"\u274c"})]},t))]}),(0,Gn.jsxs)("div",{className:"flex space-x-4",children:[(0,Gn.jsx)("button",{type:"submit",className:"medieval-button",children:i?"\ud83d\udcbe Sauvegarder":"\u2795 Cr\xe9er"}),(0,Gn.jsx)("button",{type:"button",onClick:m,className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded font-bold",children:"\u274c Annuler"})]})]})]}),(0,Gn.jsxs)("div",{className:"bg-white rounded-lg border-2 border-amber-400 shadow-lg",children:[(0,Gn.jsx)("div",{className:"p-4 bg-amber-100 border-b-2 border-amber-400",children:(0,Gn.jsxs)("h3",{className:"text-lg font-bold text-amber-900",children:["\ud83d\udccb Liste des PNJ (",e.length,")"]})}),0===e.length?(0,Gn.jsxs)("div",{className:"p-8 text-center",children:[(0,Gn.jsx)("div",{className:"text-4xl mb-4",children:"\ud83c\udfdc\ufe0f"}),(0,Gn.jsx)("p",{className:"text-gray-600",children:"Aucun PNJ cr\xe9\xe9 pour le moment"}),(0,Gn.jsx)("button",{onClick:()=>l(!0),className:"medieval-button mt-4",children:"Cr\xe9er le premier PNJ"})]}):(0,Gn.jsx)("div",{className:"overflow-x-auto",children:(0,Gn.jsxs)("table",{className:"w-full",children:[(0,Gn.jsx)("thead",{className:"bg-amber-200",children:(0,Gn.jsxs)("tr",{children:[(0,Gn.jsx)("th",{className:"px-4 py-3 text-left text-amber-900 font-bold",children:"Type"}),(0,Gn.jsx)("th",{className:"px-4 py-3 text-left text-amber-900 font-bold",children:"Nom"}),(0,Gn.jsx)("th",{className:"px-4 py-3 text-left text-amber-900 font-bold",children:"Description"}),(0,Gn.jsx)("th",{className:"px-4 py-3 text-left text-amber-900 font-bold",children:"Position"}),(0,Gn.jsx)("th",{className:"px-4 py-3 text-left text-amber-900 font-bold",children:"Dialogue"}),(0,Gn.jsx)("th",{className:"px-4 py-3 text-left text-amber-900 font-bold",children:"Actions"})]})}),(0,Gn.jsx)("tbody",{children:e.map((e,t)=>{var n;const r=vr[e.npc_type]||vr.merchant;return(0,Gn.jsxs)("tr",{className:t%2===0?"bg-white":"bg-amber-50",children:[(0,Gn.jsx)("td",{className:"px-4 py-3",children:(0,Gn.jsxs)("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${r.color}`,children:[(0,Gn.jsx)("span",{className:"mr-2",children:r.icon}),(0,Gn.jsx)("span",{className:"text-sm font-semibold",children:r.name})]})}),(0,Gn.jsx)("td",{className:"px-4 py-3 font-bold text-amber-900",children:e.name}),(0,Gn.jsx)("td",{className:"px-4 py-3 text-amber-800 max-w-xs truncate",title:e.description,children:e.description}),(0,Gn.jsxs)("td",{className:"px-4 py-3 text-amber-800",children:["(",e.position_x,", ",e.position_y,")"]}),(0,Gn.jsxs)("td",{className:"px-4 py-3 text-amber-800",children:[(null===(n=e.dialogue)||void 0===n?void 0:n.length)||0," ligne(s)"]}),(0,Gn.jsx)("td",{className:"px-4 py-3",children:(0,Gn.jsxs)("div",{className:"flex space-x-2",children:[(0,Gn.jsx)("button",{onClick:()=>(e=>{o(e),d({name:e.name,description:e.description,position_x:e.position_x,position_y:e.position_y,npc_type:e.npc_type,dialogue:e.dialogue.length>0?e.dialogue:[""],items_for_sale:e.items_for_sale||[],quests_available:e.quests_available||[]}),l(!0)})(e),className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm font-bold",children:"\u270f\ufe0f Modifier"}),(0,Gn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\xcates-vous s\xfbr de vouloir supprimer ce PNJ ?"))try{await pr.deleteNPC(e),await u()}catch(t){console.error("Error deleting NPC:",t),alert("Erreur lors de la suppression du PNJ")}})(e.id),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm font-bold",children:"\ud83d\uddd1\ufe0f Supprimer"})]})})]},e.id)})})]})})]})]})},jr={Gobelin:{icon:"\ud83d\udc79",color:"bg-green-100",level:1},Orc:{icon:"\ud83d\udc17",color:"bg-red-100",level:5},Troll:{icon:"\ud83e\uddcc",color:"bg-gray-100",level:12},Dragon:{icon:"\ud83d\udc09",color:"bg-purple-100",level:25}},Nr=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[a,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)({enemy_type:"Gobelin",level:1,position_x:10,position_y:10});(0,s.useEffect)(()=>{c()},[]);const c=async()=>{try{r(!0);const e=await pr.getAllEnemies();t(e.enemies||[])}catch(e){console.error("Error loading enemies:",e)}finally{r(!1)}},d=()=>{o({enemy_type:"Gobelin",level:1,position_x:10,position_y:10}),l(!1)},u=async()=>{if(window.confirm("G\xe9n\xe9rer 10 ennemis al\xe9atoires sur la carte ?"))try{const e=Object.keys(jr),t=[];for(let n=0;n<10;n++){const n=e[Math.floor(Math.random()*e.length)],r=Math.floor(20*Math.random()),a=Math.floor(20*Math.random());t.push(pr.createEnemy({enemy_type:n,level:jr[n].level,position_x:r,position_y:a}))}await Promise.all(t),await c(),alert("10 ennemis al\xe9atoires g\xe9n\xe9r\xe9s avec succ\xe8s !")}catch(e){console.error("Error generating random enemies:",e),alert("Erreur lors de la g\xe9n\xe9ration des ennemis")}};return n?(0,Gn.jsxs)("div",{className:"p-8 text-center",children:[(0,Gn.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-amber-600 mx-auto mb-4"}),(0,Gn.jsx)("p",{className:"text-amber-800",children:"Chargement des monstres..."})]}):(0,Gn.jsxs)("div",{className:"p-6",children:[(0,Gn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Gn.jsx)("h2",{className:"text-3xl font-bold text-amber-900",children:"\ud83d\udc79 Gestion des Monstres"}),(0,Gn.jsxs)("div",{className:"flex space-x-2",children:[(0,Gn.jsx)("button",{onClick:u,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded font-bold",children:"\ud83c\udfb2 G\xe9n\xe9rer Al\xe9atoires"}),(0,Gn.jsx)("button",{onClick:()=>l(!0),className:"medieval-button",children:"\u2795 Placer un Monstre"})]})]}),(0,Gn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:Object.entries(jr).map(t=>{let[n,r]=t;const a=e.filter(e=>e.enemy_type===n).length;return(0,Gn.jsx)("div",{className:`${r.color} p-4 rounded-lg border-2 border-gray-300 shadow-lg`,children:(0,Gn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gn.jsxs)("div",{children:[(0,Gn.jsxs)("p",{className:"text-gray-800 text-sm font-semibold",children:[n,"s"]}),(0,Gn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:a})]}),(0,Gn.jsx)("div",{className:"text-3xl",children:r.icon})]})},n)})}),a&&(0,Gn.jsxs)("div",{className:"mb-8 bg-red-50 p-6 rounded-lg border-2 border-red-400",children:[(0,Gn.jsx)("h3",{className:"text-xl font-bold text-red-900 mb-4",children:"\u2795 Placer un nouveau monstre"}),(0,Gn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await pr.createEnemy(i),await c(),d()}catch(t){console.error("Error creating enemy:",t),alert("Erreur lors de la cr\xe9ation de l'ennemi")}},className:"space-y-4",children:[(0,Gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-red-900 font-bold mb-2",children:"Type de monstre:"}),(0,Gn.jsx)("select",{value:i.enemy_type,onChange:e=>o({...i,enemy_type:e.target.value,level:jr[e.target.value].level}),className:"medieval-input w-full",children:Object.entries(jr).map(e=>{let[t,n]=e;return(0,Gn.jsxs)("option",{value:t,children:[n.icon," ",t," (Niveau ",n.level,")"]},t)})})]}),(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-red-900 font-bold mb-2",children:"Niveau:"}),(0,Gn.jsx)("input",{type:"number",min:"1",max:"50",value:i.level,onChange:e=>o({...i,level:parseInt(e.target.value)}),className:"medieval-input w-full",required:!0})]})]}),(0,Gn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-red-900 font-bold mb-2",children:"Position X (0-19):"}),(0,Gn.jsx)("input",{type:"number",min:"0",max:"19",value:i.position_x,onChange:e=>o({...i,position_x:parseInt(e.target.value)}),className:"medieval-input w-full",required:!0})]}),(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-red-900 font-bold mb-2",children:"Position Y (0-19):"}),(0,Gn.jsx)("input",{type:"number",min:"0",max:"19",value:i.position_y,onChange:e=>o({...i,position_y:parseInt(e.target.value)}),className:"medieval-input w-full",required:!0})]})]}),(0,Gn.jsxs)("div",{className:"flex space-x-4",children:[(0,Gn.jsx)("button",{type:"submit",className:"medieval-button",children:"\u2795 Placer le Monstre"}),(0,Gn.jsx)("button",{type:"button",onClick:d,className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded font-bold",children:"\u274c Annuler"})]})]})]}),(0,Gn.jsxs)("div",{className:"bg-white rounded-lg border-2 border-red-400 shadow-lg",children:[(0,Gn.jsxs)("div",{className:"p-4 bg-red-100 border-b-2 border-red-400 flex justify-between items-center",children:[(0,Gn.jsxs)("h3",{className:"text-lg font-bold text-red-900",children:["\ud83d\udccb Monstres sur la Carte (",e.length,")"]}),e.length>0&&(0,Gn.jsx)("button",{onClick:async()=>{if(window.confirm("\xcates-vous s\xfbr de vouloir supprimer TOUS les ennemis ? Cette action est irr\xe9versible !"))try{const t=e.map(e=>pr.deleteEnemy(e.id));await Promise.all(t),await c(),alert("Tous les ennemis ont \xe9t\xe9 supprim\xe9s")}catch(t){console.error("Error clearing enemies:",t),alert("Erreur lors de la suppression des ennemis")}},className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded font-bold text-sm",children:"\ud83d\uddd1\ufe0f Supprimer Tous"})]}),0===e.length?(0,Gn.jsxs)("div",{className:"p-8 text-center",children:[(0,Gn.jsx)("div",{className:"text-4xl mb-4",children:"\ud83c\udfdc\ufe0f"}),(0,Gn.jsx)("p",{className:"text-gray-600",children:"Aucun monstre plac\xe9 sur la carte"}),(0,Gn.jsxs)("div",{className:"mt-4 space-x-4",children:[(0,Gn.jsx)("button",{onClick:()=>l(!0),className:"medieval-button",children:"Placer le premier monstre"}),(0,Gn.jsx)("button",{onClick:u,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded font-bold",children:"G\xe9n\xe9rer des monstres al\xe9atoires"})]})]}):(0,Gn.jsx)("div",{className:"overflow-x-auto",children:(0,Gn.jsxs)("table",{className:"w-full",children:[(0,Gn.jsx)("thead",{className:"bg-red-200",children:(0,Gn.jsxs)("tr",{children:[(0,Gn.jsx)("th",{className:"px-4 py-3 text-left text-red-900 font-bold",children:"Type"}),(0,Gn.jsx)("th",{className:"px-4 py-3 text-left text-red-900 font-bold",children:"Niveau"}),(0,Gn.jsx)("th",{className:"px-4 py-3 text-left text-red-900 font-bold",children:"Sant\xe9"}),(0,Gn.jsx)("th",{className:"px-4 py-3 text-left text-red-900 font-bold",children:"Attaque"}),(0,Gn.jsx)("th",{className:"px-4 py-3 text-left text-red-900 font-bold",children:"D\xe9fense"}),(0,Gn.jsx)("th",{className:"px-4 py-3 text-left text-red-900 font-bold",children:"Position"}),(0,Gn.jsx)("th",{className:"px-4 py-3 text-left text-red-900 font-bold",children:"Butin"}),(0,Gn.jsx)("th",{className:"px-4 py-3 text-left text-red-900 font-bold",children:"Actions"})]})}),(0,Gn.jsx)("tbody",{children:e.map((e,t)=>{const n=jr[e.enemy_type]||jr.Gobelin;return(0,Gn.jsxs)("tr",{className:t%2===0?"bg-white":"bg-red-50",children:[(0,Gn.jsx)("td",{className:"px-4 py-3",children:(0,Gn.jsxs)("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${n.color}`,children:[(0,Gn.jsx)("span",{className:"mr-2",children:n.icon}),(0,Gn.jsx)("span",{className:"text-sm font-semibold",children:e.enemy_type})]})}),(0,Gn.jsx)("td",{className:"px-4 py-3 font-bold",children:e.level}),(0,Gn.jsx)("td",{className:"px-4 py-3",children:(0,Gn.jsxs)("div",{className:"flex items-center",children:[(0,Gn.jsx)("div",{className:"w-12 bg-gray-200 rounded-full h-2 mr-2",children:(0,Gn.jsx)("div",{className:"bg-red-600 h-2 rounded-full",style:{width:e.health/e.max_health*100+"%"}})}),(0,Gn.jsxs)("span",{className:"text-sm",children:[e.health,"/",e.max_health]})]})}),(0,Gn.jsxs)("td",{className:"px-4 py-3 text-red-700 font-bold",children:["\u2694\ufe0f ",e.attack]}),(0,Gn.jsxs)("td",{className:"px-4 py-3 text-blue-700 font-bold",children:["\ud83d\udee1\ufe0f ",e.defense]}),(0,Gn.jsxs)("td",{className:"px-4 py-3",children:["(",e.position_x,", ",e.position_y,")"]}),(0,Gn.jsxs)("td",{className:"px-4 py-3 text-yellow-700",children:["\ud83d\udcb0",e.loot_gold," \u2022 \u2b50",e.loot_exp,"XP"]}),(0,Gn.jsx)("td",{className:"px-4 py-3",children:(0,Gn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet ennemi ?"))try{await pr.deleteEnemy(e),await c()}catch(t){console.error("Error deleting enemy:",t),alert("Erreur lors de la suppression de l'ennemi")}})(e.id),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm font-bold",children:"\ud83d\uddd1\ufe0f Supprimer"})})]},e.id)})})]})})]})]})},wr=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[a,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(null),[c,d]=(0,s.useState)({title:"",description:"",objectives:[""],reward_exp:100,reward_gold:50,required_level:1});(0,s.useEffect)(()=>{u()},[]);const u=async()=>{try{r(!0);const e=await pr.getAllQuests();t(e.quests||[])}catch(e){console.error("Error loading quests:",e)}finally{r(!1)}},m=()=>{d({title:"",description:"",objectives:[""],reward_exp:100,reward_gold:50,required_level:1}),o(null),l(!1)},f=async()=>{if(window.confirm("G\xe9n\xe9rer 5 qu\xeates d'exemple ?")){const t=[{title:"\xc9limination des Gobelins",description:"Les gobelins terrorisent les routes commerciales. \xc9liminez-les pour s\xe9curiser la r\xe9gion.",objectives:["Tuer 5 Gobelins","Rapporter leur chef au garde"],reward_exp:200,reward_gold:100,required_level:3},{title:"La Potion du Sage",description:"Le sage du village a besoin d'ingr\xe9dients rares pour une potion importante.",objectives:["Collecter 3 herbes magiques","Trouver 1 gemme de lune","Apporter les ingr\xe9dients au sage"],reward_exp:300,reward_gold:150,required_level:5},{title:"Messager Royal",description:"Portez un message urgent entre les capitales du royaume.",objectives:["R\xe9cup\xe9rer le message \xe0 Galoregor","Livrer le message \xe0 Kaldrass"],reward_exp:150,reward_gold:200,required_level:1},{title:"Le Tr\xe9sor Perdu",description:"Une ancienne carte r\xe9v\xe8le l'emplacement d'un tr\xe9sor enfoui depuis des si\xe8cles.",objectives:["D\xe9chiffrer la carte ancienne","Explorer les ruines","R\xe9cup\xe9rer le tr\xe9sor"],reward_exp:500,reward_gold:300,required_level:10},{title:"Apprenti Forgeron",description:"Le forgeron local cherche un apprenti pour l'aider dans ses t\xe2ches quotidiennes.",objectives:["Apprendre les bases de la forge","Cr\xe9er votre premi\xe8re \xe9p\xe9e","R\xe9parer 3 objets endommag\xe9s"],reward_exp:250,reward_gold:100,required_level:2}];try{for(const e of t)await pr.createQuest(e);await u(),alert("5 qu\xeates d'exemple cr\xe9\xe9es avec succ\xe8s !")}catch(e){console.error("Error generating sample quests:",e),alert("Erreur lors de la g\xe9n\xe9ration des qu\xeates")}}};return n?(0,Gn.jsxs)("div",{className:"p-8 text-center",children:[(0,Gn.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-amber-600 mx-auto mb-4"}),(0,Gn.jsx)("p",{className:"text-amber-800",children:"Chargement des qu\xeates..."})]}):(0,Gn.jsxs)("div",{className:"p-6",children:[(0,Gn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Gn.jsx)("h2",{className:"text-3xl font-bold text-amber-900",children:"\ud83d\udccb Gestionnaire de Qu\xeates"}),(0,Gn.jsxs)("div",{className:"flex space-x-2",children:[(0,Gn.jsx)("button",{onClick:f,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded font-bold",children:"\ud83c\udfb2 Qu\xeates d'Exemple"}),(0,Gn.jsx)("button",{onClick:()=>l(!0),className:"medieval-button",children:"\u2795 Cr\xe9er une Qu\xeate"})]})]}),a&&(0,Gn.jsxs)("div",{className:"mb-8 bg-blue-50 p-6 rounded-lg border-2 border-blue-400",children:[(0,Gn.jsx)("h3",{className:"text-xl font-bold text-blue-900 mb-4",children:i?"\u270f\ufe0f Modifier la Qu\xeate":"\u2795 Cr\xe9er une nouvelle Qu\xeate"}),(0,Gn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=c.objectives.filter(e=>""!==e.trim()),t={...c,objectives:e};i?await pr.updateQuest(i.id,t):await pr.createQuest(t),await u(),m()}catch(t){console.error("Error saving quest:",t),alert("Erreur lors de la sauvegarde de la qu\xeate")}},className:"space-y-4",children:[(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-blue-900 font-bold mb-2",children:"Titre de la Qu\xeate:"}),(0,Gn.jsx)("input",{type:"text",value:c.title,onChange:e=>d({...c,title:e.target.value}),className:"medieval-input w-full",required:!0})]}),(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-blue-900 font-bold mb-2",children:"Description:"}),(0,Gn.jsx)("textarea",{value:c.description,onChange:e=>d({...c,description:e.target.value}),className:"medieval-input w-full h-24",required:!0})]}),(0,Gn.jsxs)("div",{children:[(0,Gn.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Gn.jsx)("label",{className:"block text-blue-900 font-bold",children:"Objectifs:"}),(0,Gn.jsx)("button",{type:"button",onClick:()=>{d({...c,objectives:[...c.objectives,""]})},className:"text-sm bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded",children:"+ Ajouter objectif"})]}),c.objectives.map((e,t)=>(0,Gn.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Gn.jsxs)("span",{className:"text-blue-900 font-bold",children:[t+1,"."]}),(0,Gn.jsx)("input",{type:"text",value:e,onChange:e=>((e,t)=>{const n=[...c.objectives];n[e]=t,d({...c,objectives:n})})(t,e.target.value),className:"medieval-input flex-1",placeholder:`Objectif ${t+1}`}),c.objectives.length>1&&(0,Gn.jsx)("button",{type:"button",onClick:()=>(e=>{const t=c.objectives.filter((t,n)=>n!==e);d({...c,objectives:t.length>0?t:[""]})})(t),className:"text-red-600 hover:text-red-800 font-bold",children:"\u274c"})]},t))]}),(0,Gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-blue-900 font-bold mb-2",children:"R\xe9compense XP:"}),(0,Gn.jsx)("input",{type:"number",min:"0",value:c.reward_exp,onChange:e=>d({...c,reward_exp:parseInt(e.target.value)}),className:"medieval-input w-full",required:!0})]}),(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-blue-900 font-bold mb-2",children:"R\xe9compense Or:"}),(0,Gn.jsx)("input",{type:"number",min:"0",value:c.reward_gold,onChange:e=>d({...c,reward_gold:parseInt(e.target.value)}),className:"medieval-input w-full",required:!0})]}),(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-blue-900 font-bold mb-2",children:"Niveau Requis:"}),(0,Gn.jsx)("input",{type:"number",min:"1",max:"50",value:c.required_level,onChange:e=>d({...c,required_level:parseInt(e.target.value)}),className:"medieval-input w-full",required:!0})]})]}),(0,Gn.jsxs)("div",{className:"flex space-x-4",children:[(0,Gn.jsx)("button",{type:"submit",className:"medieval-button",children:i?"\ud83d\udcbe Sauvegarder":"\u2795 Cr\xe9er"}),(0,Gn.jsx)("button",{type:"button",onClick:m,className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded font-bold",children:"\u274c Annuler"})]})]})]}),(0,Gn.jsxs)("div",{className:"bg-white rounded-lg border-2 border-blue-400 shadow-lg",children:[(0,Gn.jsx)("div",{className:"p-4 bg-blue-100 border-b-2 border-blue-400",children:(0,Gn.jsxs)("h3",{className:"text-lg font-bold text-blue-900",children:["\ud83d\udccb Liste des Qu\xeates (",e.length,")"]})}),0===e.length?(0,Gn.jsxs)("div",{className:"p-8 text-center",children:[(0,Gn.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udced"}),(0,Gn.jsx)("p",{className:"text-gray-600",children:"Aucune qu\xeate cr\xe9\xe9e pour le moment"}),(0,Gn.jsxs)("div",{className:"mt-4 space-x-4",children:[(0,Gn.jsx)("button",{onClick:()=>l(!0),className:"medieval-button",children:"Cr\xe9er la premi\xe8re qu\xeate"}),(0,Gn.jsx)("button",{onClick:f,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded font-bold",children:"G\xe9n\xe9rer des qu\xeates d'exemple"})]})]}):(0,Gn.jsx)("div",{className:"p-4 space-y-4",children:e.map((e,t)=>{var n;return(0,Gn.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-300 shadow",children:(0,Gn.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Gn.jsxs)("div",{className:"flex-1",children:[(0,Gn.jsx)("h4",{className:"text-lg font-bold text-blue-900 mb-1",children:e.title}),(0,Gn.jsx)("p",{className:"text-blue-800 text-sm mb-2",children:e.description}),(0,Gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("h5",{className:"font-semibold text-blue-900 mb-1",children:"\ud83c\udfaf Objectifs:"}),(0,Gn.jsx)("ul",{className:"text-sm text-blue-800 space-y-1",children:null===(n=e.objectives)||void 0===n?void 0:n.map((e,t)=>(0,Gn.jsxs)("li",{className:"flex items-center",children:[(0,Gn.jsx)("span",{className:"mr-2",children:"\u2022"}),e]},t))})]}),(0,Gn.jsxs)("div",{className:"space-y-2",children:[(0,Gn.jsxs)("div",{className:"flex items-center justify-between bg-white px-3 py-1 rounded",children:[(0,Gn.jsx)("span",{className:"text-blue-900 font-semibold",children:"\u2b50 XP:"}),(0,Gn.jsx)("span",{className:"font-bold text-green-600",children:e.reward_exp})]}),(0,Gn.jsxs)("div",{className:"flex items-center justify-between bg-white px-3 py-1 rounded",children:[(0,Gn.jsx)("span",{className:"text-blue-900 font-semibold",children:"\ud83d\udcb0 Or:"}),(0,Gn.jsx)("span",{className:"font-bold text-yellow-600",children:e.reward_gold})]}),(0,Gn.jsxs)("div",{className:"flex items-center justify-between bg-white px-3 py-1 rounded",children:[(0,Gn.jsx)("span",{className:"text-blue-900 font-semibold",children:"\ud83c\udfc6 Niveau:"}),(0,Gn.jsxs)("span",{className:"font-bold text-blue-600",children:[e.required_level,"+"]})]})]})]})]}),(0,Gn.jsxs)("div",{className:"flex flex-col space-y-2 ml-4",children:[(0,Gn.jsx)("button",{onClick:()=>(e=>{o(e),d({title:e.title,description:e.description,objectives:e.objectives.length>0?e.objectives:[""],reward_exp:e.reward_exp,reward_gold:e.reward_gold,required_level:e.required_level}),l(!0)})(e),className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm font-bold",children:"\u270f\ufe0f Modifier"}),(0,Gn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\xcates-vous s\xfbr de vouloir supprimer cette qu\xeate ?"))try{await pr.deleteQuest(e),await u()}catch(t){console.error("Error deleting quest:",t),alert("Erreur lors de la suppression de la qu\xeate")}})(e.id),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm font-bold",children:"\ud83d\uddd1\ufe0f Supprimer"})]})]})},e.id)})})]})]})},kr={grass:{name:"Herbe",icon:"\ud83c\udf31",color:"bg-green-400"},water:{name:"Eau",icon:"\ud83d\udca7",color:"bg-blue-500"},forest:{name:"For\xeat",icon:"\ud83c\udf32",color:"bg-green-800"},rock:{name:"Roche",icon:"\ud83e\udea8",color:"bg-gray-600"},road:{name:"Route",icon:"\ud83d\udee4\ufe0f",color:"bg-yellow-700"},house:{name:"Maison",icon:"\ud83c\udfe0",color:"bg-red-700"},portal:{name:"Portail",icon:"\ud83c\udf00",color:"bg-purple-600"},bridge:{name:"Pont",icon:"\ud83c\udf09",color:"bg-amber-600"}},Sr=()=>{var e,t;const[n,r]=(0,s.useState)([]),[a,l]=(0,s.useState)([]),[i,o]=(0,s.useState)(!0),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)({name:"",from_x:10,from_y:10,from_map:"main",to_x:10,to_y:10,to_map:"main",level_required:1}),[f,p]=(0,s.useState)(null),[h,x]=(0,s.useState)(null),[b,g]=(0,s.useState)("main"),[v,y]=(0,s.useState)("main");(0,s.useEffect)(()=>{j(),N()},[]),(0,s.useEffect)(()=>{b&&w(b,"from")},[b]),(0,s.useEffect)(()=>{v&&w(v,"to")},[v]);const j=async()=>{try{o(!0);const e=await pr.getAllPortals();r(e.portals||[])}catch(e){console.error("Error loading portals:",e)}finally{o(!1)}},N=async()=>{try{const e=await pr.getAllMaps();l(e.maps||[])}catch(e){console.error("Error loading maps:",e)}},w=async(e,t)=>{try{const n=await pr.getAdminMap(e);"from"===t?p(n):x(n)}catch(n){console.error(`Error loading map ${e}:`,n)}},k=()=>{m({name:"",from_x:10,from_y:10,from_map:"main",to_x:10,to_y:10,to_map:"main",level_required:1}),g("main"),y("main"),d(!1)},S=(e,t,n,r)=>e&&e.map?(0,Gn.jsx)("div",{className:"inline-block bg-gray-800 p-2 rounded-lg shadow-lg",children:(0,Gn.jsx)("div",{className:"grid gap-px",style:{gridTemplateColumns:"repeat(20, 1fr)",gridTemplateRows:"repeat(20, 1fr)"},children:e.map.map((e,a)=>e.map((e,s)=>{const l=kr[e.terrain_type]||kr.grass,i=s===n&&a===r;return(0,Gn.jsxs)("div",{onClick:()=>((e,t,n)=>{m("from"===n?{...u,from_x:e,from_y:t}:{...u,to_x:e,to_y:t})})(s,a,t),className:`\n                    w-4 h-4 cursor-pointer border flex items-center justify-center\n                    text-xs hover:scale-125 hover:z-10 transition-all relative\n                    ${l.color}\n                    ${e.passable?"":"opacity-75"}\n                    ${i?"border-4 border-red-500 shadow-lg scale-110 z-20":"border-gray-400"}\n                  `,title:`${l.name} (${s}, ${a}) - ${e.passable?"Accessible":"Bloqu\xe9"}`,children:[(0,Gn.jsx)("span",{className:"text-xs",children:l.icon}),i&&(0,Gn.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border border-white flex items-center justify-center",children:(0,Gn.jsx)("span",{className:"text-white text-xs",children:"\ud83d\udccd"})})]},`${s}-${a}`)}))})}):null,_=async()=>{if(window.confirm("G\xe9n\xe9rer des portails d'exemple ?")){const t=[{name:"Portail Principal \u2192 Donjon",from_x:10,from_y:3,from_map:"main",to_x:10,to_y:15,to_map:"main",level_required:5},{name:"Passage For\xeat \u2192 Montagne",from_x:5,from_y:8,from_map:"main",to_x:15,to_y:12,to_map:"main",level_required:3},{name:"Portail Mystique",from_x:18,from_y:5,from_map:"main",to_x:2,to_y:18,to_map:"main",level_required:10}];try{for(const e of t)await pr.createPortal(e);await j(),alert("Portails d'exemple cr\xe9\xe9s avec succ\xe8s !")}catch(e){console.error("Error generating sample portals:",e),alert("Erreur lors de la g\xe9n\xe9ration des portails")}}};return i?(0,Gn.jsxs)("div",{className:"p-8 text-center",children:[(0,Gn.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-amber-600 mx-auto mb-4"}),(0,Gn.jsx)("p",{className:"text-amber-800",children:"Chargement des portails..."})]}):(0,Gn.jsxs)("div",{className:"p-6",children:[(0,Gn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Gn.jsx)("h2",{className:"text-3xl font-bold text-amber-900",children:"\ud83c\udf00 Gestionnaire de Portails"}),(0,Gn.jsxs)("div",{className:"flex space-x-2",children:[(0,Gn.jsx)("button",{onClick:_,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded font-bold",children:"\ud83c\udfb2 Portails d'Exemple"}),(0,Gn.jsx)("button",{onClick:()=>d(!0),className:"medieval-button",children:"\u2795 Cr\xe9er un Portail"})]})]}),(0,Gn.jsxs)("div",{className:"mb-6 bg-gradient-to-r from-purple-100 to-purple-200 p-4 rounded-lg border-2 border-purple-400",children:[(0,Gn.jsx)("h3",{className:"text-lg font-bold text-purple-900 mb-2",children:"\u2139\ufe0f \xc0 propos des Portails"}),(0,Gn.jsx)("p",{className:"text-purple-800 text-sm",children:"Les portails permettent aux joueurs de se t\xe9l\xe9porter d'une carte \xe0 une autre. Vous pouvez maintenant choisir la carte de d\xe9part ET la carte de destination, ainsi que les coordonn\xe9es exactes en cliquant sur les cartes."})]}),c&&(0,Gn.jsxs)("div",{className:"mb-8 bg-purple-50 p-6 rounded-lg border-2 border-purple-400",children:[(0,Gn.jsx)("h3",{className:"text-xl font-bold text-purple-900 mb-4",children:"\u2795 Cr\xe9er un nouveau Portail"}),(0,Gn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e={...u,from_map:b,to_map:v};await pr.createPortal(e),await j(),k()}catch(t){console.error("Error creating portal:",t),alert("Erreur lors de la cr\xe9ation du portail")}},className:"space-y-6",children:[(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-purple-900 font-bold mb-2",children:"Nom du Portail:"}),(0,Gn.jsx)("input",{type:"text",value:u.name,onChange:e=>m({...u,name:e.target.value}),className:"medieval-input w-full",placeholder:"Ex: Portail vers les Terres Mystiques",required:!0})]}),(0,Gn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Gn.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border-2 border-blue-400",children:[(0,Gn.jsx)("h4",{className:"text-lg font-bold text-blue-900 mb-3",children:"\ud83d\udccd Carte de D\xe9part"}),(0,Gn.jsx)("div",{className:"grid grid-cols-2 gap-2 mb-4",children:a.map(e=>(0,Gn.jsxs)("div",{className:"p-3 rounded-lg border-2 cursor-pointer transition-all "+(b===e.map_id?"border-blue-600 bg-blue-200 shadow-lg":"border-blue-300 bg-white hover:bg-blue-50"),onClick:()=>g(e.map_id),children:[(0,Gn.jsx)("h5",{className:"font-bold text-blue-900 text-sm",children:e.name}),(0,Gn.jsx)("p",{className:"text-xs text-blue-700",children:e.map_id}),(0,Gn.jsx)("p",{className:"text-xs text-blue-600",children:e.size})]},`from-${e.map_id}`))}),(0,Gn.jsxs)("div",{className:"bg-white p-3 rounded border",children:[(0,Gn.jsxs)("h5",{className:"font-semibold text-blue-900 mb-2",children:["Carte s\xe9lectionn\xe9e: ",(null===(e=a.find(e=>e.map_id===b))||void 0===e?void 0:e.name)||b]}),(0,Gn.jsxs)("p",{className:"text-sm text-blue-800 mb-2",children:["Position: (",u.from_x,", ",u.from_y,") - Cliquez sur la carte pour changer"]}),f&&(0,Gn.jsx)("div",{className:"overflow-auto max-h-60",children:S(f,"from",u.from_x,u.from_y)})]})]}),(0,Gn.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border-2 border-green-400",children:[(0,Gn.jsx)("h4",{className:"text-lg font-bold text-green-900 mb-3",children:"\ud83c\udfaf Carte de Destination"}),(0,Gn.jsx)("div",{className:"grid grid-cols-2 gap-2 mb-4",children:a.map(e=>(0,Gn.jsxs)("div",{className:"p-3 rounded-lg border-2 cursor-pointer transition-all "+(v===e.map_id?"border-green-600 bg-green-200 shadow-lg":"border-green-300 bg-white hover:bg-green-50"),onClick:()=>y(e.map_id),children:[(0,Gn.jsx)("h5",{className:"font-bold text-green-900 text-sm",children:e.name}),(0,Gn.jsx)("p",{className:"text-xs text-green-700",children:e.map_id}),(0,Gn.jsx)("p",{className:"text-xs text-green-600",children:e.size})]},`to-${e.map_id}`))}),(0,Gn.jsxs)("div",{className:"bg-white p-3 rounded border",children:[(0,Gn.jsxs)("h5",{className:"font-semibold text-green-900 mb-2",children:["Carte s\xe9lectionn\xe9e: ",(null===(t=a.find(e=>e.map_id===v))||void 0===t?void 0:t.name)||v]}),(0,Gn.jsxs)("p",{className:"text-sm text-green-800 mb-2",children:["Position: (",u.to_x,", ",u.to_y,") - Cliquez sur la carte pour changer"]}),h&&(0,Gn.jsx)("div",{className:"overflow-auto max-h-60",children:S(h,"to",u.to_x,u.to_y)})]})]})]}),(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-purple-900 font-bold mb-2",children:"Niveau Minimum Requis:"}),(0,Gn.jsx)("input",{type:"number",min:"1",max:"50",value:u.level_required,onChange:e=>m({...u,level_required:parseInt(e.target.value)}),className:"medieval-input w-full max-w-xs",required:!0})]}),(0,Gn.jsxs)("div",{className:"flex space-x-4",children:[(0,Gn.jsx)("button",{type:"submit",className:"medieval-button",children:"\u2795 Cr\xe9er le Portail"}),(0,Gn.jsx)("button",{type:"button",onClick:k,className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded font-bold",children:"\u274c Annuler"})]})]})]}),(0,Gn.jsxs)("div",{className:"bg-white rounded-lg border-2 border-purple-400 shadow-lg",children:[(0,Gn.jsx)("div",{className:"p-4 bg-purple-100 border-b-2 border-purple-400",children:(0,Gn.jsxs)("h3",{className:"text-lg font-bold text-purple-900",children:["\ud83c\udf00 Liste des Portails (",n.length,")"]})}),0===n.length?(0,Gn.jsxs)("div",{className:"p-8 text-center",children:[(0,Gn.jsx)("div",{className:"text-4xl mb-4",children:"\ud83c\udf00"}),(0,Gn.jsx)("p",{className:"text-gray-600",children:"Aucun portail cr\xe9\xe9 pour le moment"}),(0,Gn.jsxs)("div",{className:"mt-4 space-x-4",children:[(0,Gn.jsx)("button",{onClick:()=>d(!0),className:"medieval-button",children:"Cr\xe9er le premier portail"}),(0,Gn.jsx)("button",{onClick:_,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded font-bold",children:"G\xe9n\xe9rer des portails d'exemple"})]})]}):(0,Gn.jsx)("div",{className:"p-4 space-y-4",children:n.map((e,t)=>(0,Gn.jsx)("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 p-4 rounded-lg border border-purple-300 shadow",children:(0,Gn.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Gn.jsxs)("div",{className:"flex-1",children:[(0,Gn.jsxs)("h4",{className:"text-lg font-bold text-purple-900 mb-2 flex items-center",children:["\ud83c\udf00 ",e.name]}),(0,Gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Gn.jsxs)("div",{className:"bg-blue-100 p-3 rounded",children:[(0,Gn.jsx)("h5",{className:"font-semibold text-blue-900 mb-1",children:"\ud83d\udccd D\xe9part"}),(0,Gn.jsxs)("p",{className:"text-blue-800",children:["(",e.from_x,", ",e.from_y,")"]}),(0,Gn.jsxs)("p",{className:"text-blue-700 text-sm",children:["Carte: ",e.from_map||"main"]})]}),(0,Gn.jsx)("div",{className:"flex items-center justify-center",children:(0,Gn.jsx)("div",{className:"text-2xl text-purple-600",children:"\u27a1\ufe0f"})}),(0,Gn.jsxs)("div",{className:"bg-green-100 p-3 rounded",children:[(0,Gn.jsx)("h5",{className:"font-semibold text-green-900 mb-1",children:"\ud83c\udfaf Arriv\xe9e"}),(0,Gn.jsxs)("p",{className:"text-green-800",children:["(",e.to_x,", ",e.to_y,")"]}),(0,Gn.jsxs)("p",{className:"text-green-700 text-sm",children:["Carte: ",e.to_map]})]})]}),(0,Gn.jsx)("div",{className:"mt-3 flex items-center space-x-4",children:(0,Gn.jsx)("div",{className:"bg-yellow-100 px-3 py-1 rounded",children:(0,Gn.jsxs)("span",{className:"text-yellow-800 font-semibold",children:["\ud83c\udfc6 Niveau requis: ",e.level_required]})})})]}),(0,Gn.jsx)("div",{className:"ml-4",children:(0,Gn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\xcates-vous s\xfbr de vouloir supprimer ce portail ?"))try{await pr.deletePortal(e),await j()}catch(t){console.error("Error deleting portal:",t),alert("Erreur lors de la suppression du portail")}})(e.id),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded font-bold",children:"\ud83d\uddd1\ufe0f Supprimer"})})]})},e.id))})]})]})},_r=()=>{var e;const[t,n]=(0,s.useState)([]),[r,a]=(0,s.useState)(!0),[l,i]=(0,s.useState)(""),[o,c]=(0,s.useState)("all"),[d,u]=(0,s.useState)("all"),[m,f]=(0,s.useState)("level");(0,s.useEffect)(()=>{p()},[]);const p=async()=>{try{a(!0);const e=await pr.getAllPlayers();n(e.players||[])}catch(e){console.error("Error loading players:",e)}finally{a(!1)}},h=t.filter(e=>{const t=e.character.name.toLowerCase().includes(l.toLowerCase())||e.user.username.toLowerCase().includes(l.toLowerCase()),n="all"===o||e.character.character_class===o,r="all"===d||e.character.faction===d;return t&&n&&r}).sort((e,t)=>{switch(m){case"level":return t.character.level-e.character.level;case"name":return e.character.name.localeCompare(t.character.name);case"gold":return t.character.gold-e.character.gold;case"created":return new Date(t.character.created_at)-new Date(e.character.created_at);default:return 0}}),x={totalPlayers:t.length,classCounts:t.reduce((e,t)=>(e[t.character.character_class]=(e[t.character.character_class]||0)+1,e),{}),factionCounts:t.reduce((e,t)=>(e[t.character.faction]=(e[t.character.faction]||0)+1,e),{}),avgLevel:t.length>0?Math.round(t.reduce((e,t)=>e+t.character.level,0)/t.length):0};return r?(0,Gn.jsxs)("div",{className:"p-8 text-center",children:[(0,Gn.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-amber-600 mx-auto mb-4"}),(0,Gn.jsx)("p",{className:"text-amber-800",children:"Chargement des joueurs..."})]}):(0,Gn.jsxs)("div",{className:"p-6",children:[(0,Gn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Gn.jsx)("h2",{className:"text-3xl font-bold text-amber-900",children:"\ud83d\udc65 Gestion des Joueurs"}),(0,Gn.jsx)("button",{onClick:p,className:"medieval-button",children:"\ud83d\udd04 Actualiser"})]}),(0,Gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,Gn.jsx)("div",{className:"bg-gradient-to-br from-blue-100 to-blue-200 p-4 rounded-lg border-2 border-blue-400 shadow-lg",children:(0,Gn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("p",{className:"text-blue-800 text-sm font-semibold",children:"Joueurs Total"}),(0,Gn.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:x.totalPlayers})]}),(0,Gn.jsx)("div",{className:"text-3xl",children:"\ud83d\udc65"})]})}),(0,Gn.jsx)("div",{className:"bg-gradient-to-br from-green-100 to-green-200 p-4 rounded-lg border-2 border-green-400 shadow-lg",children:(0,Gn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("p",{className:"text-green-800 text-sm font-semibold",children:"Niveau Moyen"}),(0,Gn.jsx)("p",{className:"text-2xl font-bold text-green-900",children:x.avgLevel})]}),(0,Gn.jsx)("div",{className:"text-3xl",children:"\ud83d\udcca"})]})}),(0,Gn.jsx)("div",{className:"bg-gradient-to-br from-purple-100 to-purple-200 p-4 rounded-lg border-2 border-purple-400 shadow-lg",children:(0,Gn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("p",{className:"text-purple-800 text-sm font-semibold",children:"Classes Populaires"}),(0,Gn.jsx)("p",{className:"text-sm font-bold text-purple-900",children:(null===(e=Object.entries(x.classCounts).sort((e,t)=>t[1]-e[1])[0])||void 0===e?void 0:e[0])||"N/A"})]}),(0,Gn.jsx)("div",{className:"text-3xl",children:"\u2694\ufe0f"})]})}),(0,Gn.jsx)("div",{className:"bg-gradient-to-br from-amber-100 to-amber-200 p-4 rounded-lg border-2 border-amber-400 shadow-lg",children:(0,Gn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("p",{className:"text-amber-800 text-sm font-semibold",children:"Factions"}),(0,Gn.jsxs)("p",{className:"text-sm font-bold text-amber-900",children:[Object.keys(x.factionCounts).length," Actives"]})]}),(0,Gn.jsx)("div",{className:"text-3xl",children:"\ud83c\udfdb\ufe0f"})]})})]}),(0,Gn.jsxs)("div",{className:"bg-amber-50 p-4 rounded-lg border-2 border-amber-400 mb-6",children:[(0,Gn.jsx)("h3",{className:"text-lg font-bold text-amber-900 mb-4",children:"\ud83d\udd0d Filtres et Recherche"}),(0,Gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-amber-900 font-semibold mb-2",children:"Rechercher:"}),(0,Gn.jsx)("input",{type:"text",value:l,onChange:e=>i(e.target.value),className:"medieval-input w-full",placeholder:"Nom du joueur ou personnage..."})]}),(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-amber-900 font-semibold mb-2",children:"Classe:"}),(0,Gn.jsxs)("select",{value:o,onChange:e=>c(e.target.value),className:"medieval-input w-full",children:[(0,Gn.jsx)("option",{value:"all",children:"Toutes les classes"}),(0,Gn.jsx)("option",{value:"Guerrier",children:"Guerrier"}),(0,Gn.jsx)("option",{value:"Mage",children:"Mage"}),(0,Gn.jsx)("option",{value:"Archer",children:"Archer"}),(0,Gn.jsx)("option",{value:"Moine",children:"Moine"})]})]}),(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-amber-900 font-semibold mb-2",children:"Faction:"}),(0,Gn.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"medieval-input w-full",children:[(0,Gn.jsx)("option",{value:"all",children:"Toutes les factions"}),(0,Gn.jsx)("option",{value:"Royalistes de Galoregor",children:"Royalistes"}),(0,Gn.jsx)("option",{value:"Exil\xe9s de Kaldrass",children:"Exil\xe9s"}),(0,Gn.jsx)("option",{value:"Cartel de Brumebois",children:"Cartel"})]})]}),(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("label",{className:"block text-amber-900 font-semibold mb-2",children:"Trier par:"}),(0,Gn.jsxs)("select",{value:m,onChange:e=>f(e.target.value),className:"medieval-input w-full",children:[(0,Gn.jsx)("option",{value:"level",children:"Niveau (d\xe9croissant)"}),(0,Gn.jsx)("option",{value:"name",children:"Nom (A-Z)"}),(0,Gn.jsx)("option",{value:"gold",children:"Or (d\xe9croissant)"}),(0,Gn.jsx)("option",{value:"created",children:"Date de cr\xe9ation"})]})]})]})]}),(0,Gn.jsxs)("div",{className:"bg-white rounded-lg border-2 border-amber-400 shadow-lg",children:[(0,Gn.jsx)("div",{className:"p-4 bg-amber-100 border-b-2 border-amber-400",children:(0,Gn.jsxs)("h3",{className:"text-lg font-bold text-amber-900",children:["\ud83d\udc65 Liste des Joueurs (",h.length,"/",t.length,")"]})}),0===h.length?(0,Gn.jsxs)("div",{className:"p-8 text-center",children:[(0,Gn.jsx)("div",{className:"text-4xl mb-4",children:"\ud83c\udfdc\ufe0f"}),(0,Gn.jsx)("p",{className:"text-gray-600",children:0===t.length?"Aucun joueur trouv\xe9":"Aucun joueur ne correspond aux crit\xe8res de recherche"})]}):(0,Gn.jsx)("div",{className:"overflow-x-auto",children:(0,Gn.jsxs)("table",{className:"w-full",children:[(0,Gn.jsx)("thead",{className:"bg-amber-200",children:(0,Gn.jsxs)("tr",{children:[(0,Gn.jsx)("th",{className:"px-4 py-3 text-left text-amber-900 font-bold",children:"Personnage"}),(0,Gn.jsx)("th",{className:"px-4 py-3 text-left text-amber-900 font-bold",children:"Joueur"}),(0,Gn.jsx)("th",{className:"px-4 py-3 text-left text-amber-900 font-bold",children:"Classe"}),(0,Gn.jsx)("th",{className:"px-4 py-3 text-left text-amber-900 font-bold",children:"Faction"}),(0,Gn.jsx)("th",{className:"px-4 py-3 text-left text-amber-900 font-bold",children:"Niveau"}),(0,Gn.jsx)("th",{className:"px-4 py-3 text-left text-amber-900 font-bold",children:"Stats"}),(0,Gn.jsx)("th",{className:"px-4 py-3 text-left text-amber-900 font-bold",children:"Position"}),(0,Gn.jsx)("th",{className:"px-4 py-3 text-left text-amber-900 font-bold",children:"Ressources"}),(0,Gn.jsx)("th",{className:"px-4 py-3 text-left text-amber-900 font-bold",children:"Cr\xe9ation"})]})}),(0,Gn.jsx)("tbody",{children:h.map((e,t)=>{const n=e.character,r=e.user;return(0,Gn.jsxs)("tr",{className:t%2===0?"bg-white":"bg-amber-50",children:[(0,Gn.jsxs)("td",{className:"px-4 py-3",children:[(0,Gn.jsx)("div",{className:"font-bold text-amber-900",children:n.name}),(0,Gn.jsxs)("div",{className:"text-xs text-amber-700",children:[n.id.substring(0,8),"..."]})]}),(0,Gn.jsxs)("td",{className:"px-4 py-3",children:[(0,Gn.jsx)("div",{className:"font-semibold text-gray-900",children:r.username}),(0,Gn.jsx)("div",{className:"text-xs text-gray-600",children:r.email})]}),(0,Gn.jsx)("td",{className:"px-4 py-3",children:(0,Gn.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:n.character_class})}),(0,Gn.jsx)("td",{className:"px-4 py-3",children:(0,Gn.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:n.faction.split(" ")[0]})}),(0,Gn.jsx)("td",{className:"px-4 py-3",children:(0,Gn.jsxs)("div",{className:"flex items-center",children:[(0,Gn.jsx)("span",{className:"font-bold text-lg text-green-600",children:n.level}),(0,Gn.jsxs)("div",{className:"ml-2 text-xs text-gray-600",children:[n.experience," XP"]})]})}),(0,Gn.jsx)("td",{className:"px-4 py-3 text-xs",children:(0,Gn.jsxs)("div",{className:"space-y-1",children:[(0,Gn.jsxs)("div",{children:["\ud83d\udcaa ",n.strength," | \ud83e\udde0 ",n.intelligence]}),(0,Gn.jsxs)("div",{children:["\ud83c\udfc3 ",n.agility," | \ud83d\udee1\ufe0f ",n.constitution]}),(0,Gn.jsxs)("div",{children:["\ud83e\uddd9 ",n.wisdom]})]})}),(0,Gn.jsx)("td",{className:"px-4 py-3 text-center",children:(0,Gn.jsxs)("div",{className:"font-mono text-sm",children:["(",n.position_x,", ",n.position_y,")"]})}),(0,Gn.jsx)("td",{className:"px-4 py-3",children:(0,Gn.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,Gn.jsxs)("div",{className:"flex items-center",children:[(0,Gn.jsx)("span",{className:"text-red-600",children:"\u2764\ufe0f"}),(0,Gn.jsxs)("span",{className:"ml-1",children:[n.health,"/",n.max_health]})]}),(0,Gn.jsxs)("div",{className:"flex items-center",children:[(0,Gn.jsx)("span",{className:"text-blue-600",children:"\ud83d\udd2e"}),(0,Gn.jsxs)("span",{className:"ml-1",children:[n.mana,"/",n.max_mana]})]}),(0,Gn.jsxs)("div",{className:"flex items-center",children:[(0,Gn.jsx)("span",{className:"text-yellow-600",children:"\ud83d\udcb0"}),(0,Gn.jsx)("span",{className:"ml-1",children:n.gold})]}),(0,Gn.jsxs)("div",{className:"flex items-center",children:[(0,Gn.jsx)("span",{className:"text-green-600",children:"\u26a1"}),(0,Gn.jsxs)("span",{className:"ml-1",children:[n.pa,"/",n.max_pa]})]}),(0,Gn.jsxs)("div",{className:"flex items-center",children:[(0,Gn.jsx)("span",{className:"text-purple-600",children:"\ud83e\uddb6"}),(0,Gn.jsxs)("span",{className:"ml-1",children:[n.pm,"/",n.max_pm]})]})]})}),(0,Gn.jsx)("td",{className:"px-4 py-3 text-xs text-gray-600",children:new Date(n.created_at).toLocaleDateString("fr-FR")})]},n.id)})})]})})]})]})},Cr=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)([]),[a,l]=(0,s.useState)(""),[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(null),[f,p]=(0,s.useState)(!1);(0,s.useEffect)(()=>{h(),x()},[]);const h=async()=>{try{const e=await pr.getTileCategories();t(e.categories||[])}catch(e){console.error("Error loading categories:",e)}},x=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";o(!0);try{const t=await pr.getTiles(e);r(t.tiles||[])}catch(t){console.error("Error loading tiles:",t)}finally{o(!1)}},b=e=>{l(e),x(e)};return(0,Gn.jsxs)("div",{className:"p-6",children:[(0,Gn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("h2",{className:"text-3xl font-bold text-amber-900 mb-2",children:"\ud83c\udfa8 Gestionnaire de Tiles"}),(0,Gn.jsx)("p",{className:"text-amber-700",children:"G\xe9rez les tiles personnalis\xe9es pour vos cartes"})]}),(0,Gn.jsx)("button",{onClick:()=>p(!0),className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white px-6 py-3 rounded-lg font-bold shadow-lg transition-all transform hover:scale-105",children:"\ud83d\udcc1 Uploader des Tiles"})]}),f&&(0,Gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gn.jsx)("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4",children:(0,Gn.jsxs)("div",{className:"text-center",children:[(0,Gn.jsx)("h3",{className:"text-2xl font-bold text-amber-900 mb-4",children:"\ud83d\udcc1 Upload de Tiles"}),u?(0,Gn.jsxs)("div",{className:"p-4 rounded "+(u.success?"bg-green-100 border border-green-400":"bg-red-100 border border-red-400"),children:[(0,Gn.jsx)("div",{className:"flex items-center justify-center mb-2",children:(0,Gn.jsx)("span",{className:"text-2xl "+(u.success?"text-green-600":"text-red-600"),children:u.success?"\u2705":"\u274c"})}),(0,Gn.jsx)("p",{className:"font-semibold "+(u.success?"text-green-700":"text-red-700"),children:u.message}),u.success&&u.summary&&(0,Gn.jsxs)("div",{className:"mt-3 text-sm text-green-700",children:[(0,Gn.jsxs)("p",{children:["Categories: ",u.summary.categories_processed]}),(0,Gn.jsxs)("p",{children:["Tiles ajout\xe9es: ",u.summary.total_tiles]})]})]}):(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("p",{className:"text-gray-700 mb-4",children:"S\xe9lectionnez un fichier ZIP contenant vos tiles (PNG 48x48)"}),(0,Gn.jsx)("input",{type:"file",accept:".zip",onChange:async e=>{const t=e.target.files[0];if(t)if(t.name.toLowerCase().endsWith(".zip")){d(!0),m(null);try{const e=await pr.uploadTiles(t);m(e),await h(),await x(a),setTimeout(()=>{p(!1),m(null)},3e3)}catch(s){var n,r;console.error("Error uploading tiles:",s),m({success:!1,message:(null===(n=s.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.detail)||"Erreur lors de l'upload"})}finally{d(!1)}}else alert("Veuillez s\xe9lectionner un fichier ZIP")},disabled:c,className:"mb-4 w-full p-2 border border-gray-300 rounded"}),c&&(0,Gn.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,Gn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-900"}),(0,Gn.jsx)("span",{className:"ml-2",children:"Traitement en cours..."})]})]}),(0,Gn.jsx)("div",{className:"flex space-x-3 mt-6",children:(0,Gn.jsx)("button",{onClick:()=>{p(!1),m(null)},className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded font-bold",disabled:c,children:u?"Fermer":"Annuler"})})]})})}),(0,Gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Gn.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white p-4 rounded-lg shadow",children:(0,Gn.jsxs)("div",{className:"flex items-center",children:[(0,Gn.jsx)("span",{className:"text-2xl mr-3",children:"\ud83d\udcc2"}),(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("div",{className:"text-2xl font-bold",children:e.length}),(0,Gn.jsx)("div",{className:"text-sm opacity-90",children:"Cat\xe9gories"})]})]})}),(0,Gn.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-green-600 text-white p-4 rounded-lg shadow",children:(0,Gn.jsxs)("div",{className:"flex items-center",children:[(0,Gn.jsx)("span",{className:"text-2xl mr-3",children:"\ud83c\udfa8"}),(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("div",{className:"text-2xl font-bold",children:e.reduce((e,t)=>e+(t.tile_count||0),0)}),(0,Gn.jsx)("div",{className:"text-sm opacity-90",children:"Total Tiles"})]})]})}),(0,Gn.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white p-4 rounded-lg shadow",children:(0,Gn.jsxs)("div",{className:"flex items-center",children:[(0,Gn.jsx)("span",{className:"text-2xl mr-3",children:"\ud83d\udd0d"}),(0,Gn.jsxs)("div",{children:[(0,Gn.jsx)("div",{className:"text-2xl font-bold",children:n.length}),(0,Gn.jsx)("div",{className:"text-sm opacity-90",children:"Tiles Affich\xe9es"})]})]})})]}),(0,Gn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,Gn.jsxs)("div",{className:"bg-amber-50 border-2 border-amber-200 rounded-lg p-4",children:[(0,Gn.jsx)("h3",{className:"text-lg font-bold text-amber-900 mb-4",children:"\ud83d\udcc2 Cat\xe9gories"}),(0,Gn.jsx)("button",{onClick:()=>b(""),className:"w-full text-left p-3 rounded-lg mb-2 transition-all "+(""===a?"bg-amber-300 text-amber-900 font-bold":"hover:bg-amber-200 text-amber-800"),children:"\ud83c\udf1f Toutes les tiles"}),(0,Gn.jsx)("div",{className:"space-y-2",children:e.map(e=>(0,Gn.jsxs)("div",{className:"flex items-center",children:[(0,Gn.jsxs)("button",{onClick:()=>b(e.name),className:"flex-1 text-left p-3 rounded-lg transition-all "+(a===e.name?"bg-amber-300 text-amber-900 font-bold":"hover:bg-amber-200 text-amber-800"),children:[e.name," (",e.tile_count||0,")"]}),(0,Gn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm(`\xcates-vous s\xfbr de vouloir supprimer la cat\xe9gorie "${e}" et toutes ses tiles ?`))try{await pr.deleteCategory(e),await h(),a===e&&(l(""),r([]))}catch(t){console.error("Error deleting category:",t),alert("Erreur lors de la suppression")}})(e.name),className:"ml-2 text-red-600 hover:text-red-800 text-sm",title:"Supprimer la cat\xe9gorie",children:"\ud83d\uddd1\ufe0f"})]},e.name))})]}),(0,Gn.jsx)("div",{className:"lg:col-span-3",children:(0,Gn.jsxs)("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-4",children:[(0,Gn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gn.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:a?`Tiles - ${a}`:"Toutes les Tiles"}),i&&(0,Gn.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,Gn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600 mr-2"}),"Chargement..."]})]}),0!==n.length||i?(0,Gn.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3",children:n.map(e=>(0,Gn.jsxs)("div",{className:"relative group",children:[(0,Gn.jsxs)("div",{className:"border-2 border-gray-200 rounded-lg p-2 hover:border-amber-400 transition-colors bg-white",children:[(0,Gn.jsx)("div",{className:"aspect-square bg-gray-100 rounded mb-2 overflow-hidden",children:(0,Gn.jsx)("img",{src:`data:image/png;base64,${e.image_data}`,alt:e.name,className:"w-full h-full object-contain"})}),(0,Gn.jsxs)("div",{className:"text-xs text-center",children:[(0,Gn.jsx)("div",{className:"font-semibold text-gray-800 truncate",title:e.name,children:e.name}),(0,Gn.jsx)("div",{className:"text-gray-600",children:e.passable?"\u2705 Passable":"\u274c Bloquant"})]})]}),(0,Gn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\xcates-vous s\xfbr de vouloir supprimer cette tile ?"))try{await pr.deleteTile(e),await x(a),await h()}catch(t){console.error("Error deleting tile:",t),alert("Erreur lors de la suppression")}})(e.id),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-700",title:"Supprimer cette tile",children:"\u2715"})]},e.id))}):(0,Gn.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,Gn.jsx)("div",{className:"text-4xl mb-4",children:"\ud83c\udfa8"}),(0,Gn.jsx)("p",{children:"Aucune tile trouv\xe9e"}),(0,Gn.jsx)("p",{className:"text-sm mt-2",children:"Uploadez un fichier ZIP pour commencer"})]})]})})]})]})},Er=e=>{var t,n,r,a;let{adminUser:l,onLogout:i}=e;const[o,c]=(0,s.useState)("dashboard"),[d,u]=(0,s.useState)(null),[m,f]=(0,s.useState)(!0);(0,s.useEffect)(()=>{p()},[]);const p=async()=>{try{const e=await pr.getDashboard();u(e)}catch(e){console.error("Error loading dashboard:",e)}finally{f(!1)}};return m?(0,Gn.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-900 to-amber-900",children:(0,Gn.jsx)("div",{className:"medieval-panel p-8",children:(0,Gn.jsxs)("div",{className:"text-center",children:[(0,Gn.jsx)("div",{className:"text-4xl mb-4",children:"\u2699\ufe0f"}),(0,Gn.jsx)("h2",{className:"text-2xl font-medieval text-amber-900 mb-4",children:"Chargement de l'administration..."}),(0,Gn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-900 mx-auto"})]})})}):(0,Gn.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-red-900 to-amber-900",children:[(0,Gn.jsx)("div",{className:"bg-gradient-to-r from-red-800 via-red-700 to-red-600 p-4 shadow-lg border-b-4 border-red-900",children:(0,Gn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gn.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Gn.jsx)("h1",{className:"text-3xl font-medieval text-amber-100 font-bold",children:"\ud83d\udd10 Administration Alidhan"}),(0,Gn.jsxs)("div",{className:"text-amber-200 text-sm",children:["Serveur: Production \u2022 ",(new Date).toLocaleDateString("fr-FR")]})]}),(0,Gn.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Gn.jsxs)("div",{className:"text-amber-100 text-sm",children:[(0,Gn.jsxs)("span",{className:"font-semibold",children:["\ud83d\udc51 ",null===l||void 0===l?void 0:l.username]}),(0,Gn.jsx)("span",{className:"ml-2 opacity-75",children:"Administrateur"})]}),(0,Gn.jsx)("button",{onClick:i,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm font-bold border border-red-800 transition-colors",children:"\ud83d\udeaa D\xe9connexion"})]})]})}),(0,Gn.jsxs)("div",{className:"flex h-[calc(100vh-72px)]",children:[(0,Gn.jsxs)("div",{className:"w-64 bg-gradient-to-b from-amber-100 to-amber-200 border-r-4 border-amber-800 shadow-lg",children:[(0,Gn.jsxs)("div",{className:"p-4",children:[(0,Gn.jsx)("h3",{className:"text-lg font-bold text-amber-900 mb-4 text-center",children:"\u2699\ufe0f Outils d'Administration"}),(0,Gn.jsx)("nav",{className:"space-y-2",children:[{id:"dashboard",name:"Tableau de Bord",icon:"\ud83d\udcca"},{id:"map",name:"\xc9diteur de Carte",icon:"\ud83d\uddfa\ufe0f"},{id:"tiles",name:"Gestion des Tiles",icon:"\ud83c\udfa8"},{id:"npcs",name:"Gestion PNJ",icon:"\ud83e\uddd9\u200d\u2642\ufe0f"},{id:"enemies",name:"Monstres",icon:"\ud83d\udc79"},{id:"quests",name:"Qu\xeates",icon:"\ud83d\udccb"},{id:"portals",name:"Portails",icon:"\ud83c\udf00"},{id:"players",name:"Joueurs",icon:"\ud83d\udc65"}].map(e=>(0,Gn.jsxs)("button",{onClick:()=>c(e.id),className:"w-full text-left px-4 py-3 rounded-lg font-semibold transition-all "+(o===e.id?"bg-gradient-to-r from-amber-400 to-amber-500 text-amber-900 shadow-md":"text-amber-800 hover:bg-amber-300"),children:[(0,Gn.jsx)("span",{className:"mr-3",children:e.icon}),e.name]},e.id))})]}),(0,Gn.jsxs)("div",{className:"p-4 border-t border-amber-400",children:[(0,Gn.jsx)("h4",{className:"font-bold text-amber-900 text-center mb-3",children:"\ud83d\udcc8 Statistiques Rapides"}),d&&(0,Gn.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Gn.jsxs)("div",{className:"flex justify-between",children:[(0,Gn.jsx)("span",{className:"text-amber-800",children:"\ud83d\udc65 Utilisateurs:"}),(0,Gn.jsx)("span",{className:"font-bold",children:(null===(t=d.statistics)||void 0===t?void 0:t.total_users)||0})]}),(0,Gn.jsxs)("div",{className:"flex justify-between",children:[(0,Gn.jsx)("span",{className:"text-amber-800",children:"\u2694\ufe0f Personnages:"}),(0,Gn.jsx)("span",{className:"font-bold",children:(null===(n=d.statistics)||void 0===n?void 0:n.total_characters)||0})]}),(0,Gn.jsxs)("div",{className:"flex justify-between",children:[(0,Gn.jsx)("span",{className:"text-amber-800",children:"\ud83d\udc79 Monstres:"}),(0,Gn.jsx)("span",{className:"font-bold",children:(null===(r=d.statistics)||void 0===r?void 0:r.total_enemies)||0})]}),(0,Gn.jsxs)("div",{className:"flex justify-between",children:[(0,Gn.jsx)("span",{className:"text-amber-800",children:"\ud83e\uddd9\u200d\u2642\ufe0f PNJ:"}),(0,Gn.jsx)("span",{className:"font-bold",children:(null===(a=d.statistics)||void 0===a?void 0:a.total_npcs)||0})]})]})]})]}),(0,Gn.jsx)("div",{className:"flex-1 p-6 overflow-auto",children:(0,Gn.jsx)("div",{className:"bg-white rounded-lg shadow-xl border-2 border-amber-400 min-h-full",children:(()=>{switch(o){case"dashboard":default:return(0,Gn.jsx)(xr,{data:d,onRefresh:p});case"map":return(0,Gn.jsx)(gr,{});case"tiles":return(0,Gn.jsx)(Cr,{});case"npcs":return(0,Gn.jsx)(yr,{});case"enemies":return(0,Gn.jsx)(Nr,{});case"quests":return(0,Gn.jsx)(wr,{});case"portals":return(0,Gn.jsx)(Sr,{});case"players":return(0,Gn.jsx)(_r,{})}})()})})]})]})},Pr=window.location.hostname.includes(".gitlab.io")&&"/"!==window.location.pathname?window.location.pathname.split("/").slice(0,-1).join("/"):"";const Tr=function(){const[e,t]=(0,s.useState)(null),[n,r]=(0,s.useState)(null),[a,l]=(0,s.useState)(!0);(0,s.useEffect)(()=>{const e=localStorage.getItem("token");if(e)try{const n=JSON.parse(atob(e.split(".")[1]));n.is_admin?r({id:n.user_id,username:n.username,is_admin:!0}):Hn.getCurrentUser().then(e=>{t(e)}).catch(()=>{localStorage.removeItem("token")})}catch(n){localStorage.removeItem("token")}l(!1)},[]);const i=e=>{t(e),r(null)},o=()=>{localStorage.removeItem("token"),t(null),r(null)};return a?(0,Gn.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-sky-gradient",children:(0,Gn.jsx)("div",{className:"medieval-panel p-8",children:(0,Gn.jsxs)("div",{className:"text-center",children:[(0,Gn.jsx)("h2",{className:"text-2xl font-medieval text-amber-900 mb-4",children:"Chargement d'Alidhan..."}),(0,Gn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-900 mx-auto"})]})})}):(0,Gn.jsx)(we,{basename:Pr,children:(0,Gn.jsx)("div",{className:"App min-h-screen bg-sky-gradient",children:(0,Gn.jsxs)(ye,{children:[(0,Gn.jsx)(ge,{path:"/",element:e||n?(0,Gn.jsx)(be,{to:n?"/admin":"/game"}):(0,Gn.jsx)(Jn,{onLogin:i})}),(0,Gn.jsx)(ge,{path:"/login",element:e||n?(0,Gn.jsx)(be,{to:n?"/admin":"/game"}):(0,Gn.jsx)(Kn,{onLogin:i})}),(0,Gn.jsx)(ge,{path:"/admin/login",element:n?(0,Gn.jsx)(be,{to:"/admin"}):e?(0,Gn.jsx)(be,{to:"/game"}):(0,Gn.jsx)(hr,{onAdminLogin:e=>{r(e),t(null)}})}),(0,Gn.jsx)(ge,{path:"/game",element:e?(0,Gn.jsx)(mr,{user:e,onLogout:o}):(0,Gn.jsx)(be,{to:"/login"})}),(0,Gn.jsx)(ge,{path:"/admin",element:n?(0,Gn.jsx)(Er,{adminUser:n,onLogout:o}):(0,Gn.jsx)(be,{to:"/admin/login"})})]})})})};i.createRoot(document.getElementById("root")).render((0,Gn.jsx)(s.StrictMode,{children:(0,Gn.jsx)(Tr,{})}))})();